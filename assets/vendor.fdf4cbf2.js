/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gt=function(n,r){return gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},gt(n,r)};function T(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");gt(n,r);function e(){this.constructor=n}n.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function J(n,r,e,t){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function u(f){try{s(t.next(f))}catch(h){o(h)}}function l(f){try{s(t.throw(f))}catch(h){o(h)}}function s(f){f.done?a(f.value):i(f.value).then(u,l)}s((t=t.apply(n,r||[])).next())})}function K(n,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,i,a,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(s){return function(f){return l([s,f])}}function l(s){if(t)throw new TypeError("Generator is already executing.");for(;e;)try{if(t=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return e.label++,{value:s[1],done:!1};case 5:e.label++,i=s[1],s=[0];continue;case 7:s=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(s[0]===6||s[0]===2)){e=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){e.label=s[1];break}if(s[0]===6&&e.label<a[1]){e.label=a[1],a=s;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(s);break}a[2]&&e.ops.pop(),e.trys.pop();continue}s=r.call(n,e)}catch(f){s=[6,f],i=0}finally{t=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function se(n,r){var e=typeof Symbol=="function"&&n[Symbol.iterator];if(!e)return n;var t=e.call(n),i,a=[],o;try{for(;(r===void 0||r-- >0)&&!(i=t.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(e=t.return)&&e.call(t)}finally{if(o)throw o.error}}return a}function Se(n,r,e){if(e||arguments.length===2)for(var t=0,i=r.length,a;t<i;t++)(a||!(t in r))&&(a||(a=Array.prototype.slice.call(r,0,t)),a[t]=r[t]);return n.concat(a||Array.prototype.slice.call(r))}function Ae(n){return Number(n)!==n}function Er(n){return{}.toString.call(n)}function ae(n){if(n!=null&&!_(n)){var r=Number(n);return Ae(r)&&Ie(n)&&n!=""?ae(n.replace(/[^0-9.\-]+/g,"")):r}return n}function Rr(n){if(yt(n))return new Date(n);if(_(n))return new Date(n);var r=Number(n);return _(r)?new Date(r):new Date(n)}function Br(n){if(Ae(n))return"NaN";if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(n===0&&1/n==-1/0)return"-0";var r=n<0;n=Math.abs(n);var e=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+n),t=e[1],i=e[2]||"",a;if(e[3]===void 0)a=i===""?t:t+"."+i;else{var o=+e[3];if(n<1){var u=o-1;a="0."+Wt("0",u)+t+i}else{var u=o-i.length;u===0?a=t+i:u<0?a=t+i.slice(0,u)+"."+i.slice(u):a=t+i+Wt("0",u)}}return r?"-"+a:a}function Wt(n,r){return new Array(r+1).join(n)}function yt(n){return Er(n)==="[object Date]"}function Ie(n){return typeof n=="string"}function _(n){return typeof n=="number"&&Number(n)==n}function mt(n){return typeof n=="object"&&n!==null}var Pe="__\xA7\xA7\xA7__",Me="__\xA7\xA7\xA7\xA7__";function Ye(n,r){for(var e=n.length,t=0;t<e;++t)if(n[t]===r)return t;return-1}function Lr(n,r){for(var e=n.length,t=0;t<e;++t)if(r(n[t]))return!0;return!1}function _t(n,r){for(var e=n.length,t=new Array(e),i=0;i<e;++i)t[i]=r(n[i],i);return t}function y(n,r){for(var e=n.length,t=0;t<e;++t)r(n[t],t)}function $e(n,r){for(var e=n.length;e>0;)--e,r(n[e],e)}function Fr(n,r){for(var e=n.length,t=0;t<e&&r(n[t],t);++t);}function de(n,r){for(var e=!1,t=0;;){if(t=n.indexOf(r,t),t===-1)return e;e=!0,n.splice(t,1)}}function te(n,r){var e=n.indexOf(r);return e!==-1?(n.splice(e,1),!0):!1}function Je(n,r){n.indexOf(r)===-1&&n.push(r)}function Kt(n){for(var r=n.length,e=new Array(r),t=0;t<r;++t)e[t]=n[t];return e}function wt(n,r,e){n.splice(r,0,e)}function qt(n,r){n.splice(r,1)}function $t(n,r){for(var e=n.length,t=0;t<e;++t)if(r(n[t],t))return t;return-1}function Ir(n,r){for(var e=n.length;e>0;)if(--e,r(n[e],e))return e;return-1}function Jt(n,r){var e=$t(n,r);if(e!==-1)return n[e]}function Yr(n,r){var e=Ir(n,r);if(e!==-1)return n[e]}function Nr(n,r){for(var e=0,t=n.length,i=!1;e<t;){var a=e+t>>1,o=r(n[a]);o<0?e=a+1:o===0?(i=!0,e=a+1):t=a}return{found:i,index:i?e-1:e}}function zr(n,r){for(var e=0,t=n.length,i=!1;e<t;){var a=e+t>>1,o=r(n[a]);o<0?e=a+1:(o===0&&(i=!0),t=a)}return{found:i,index:e}}function Ze(n,r){for(var e=n.length;e>0;)--e,r(n[e])||n.splice(e,1)}var z=function(){function n(r){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=r}return Object.defineProperty(n.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._dispose())}}),n}(),Xr=function(n){T(r,n);function r(){var e=n.call(this,function(){y(e._disposers,function(t){t.dispose()})})||this;return Object.defineProperty(e,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return r}(z),ue=function(n){T(r,n);function r(e){return n.call(this,function(){y(e,function(t){t.dispose()})})||this}return r}(z);(function(n){T(r,n);function r(){var e=n.call(this,function(){e._disposer!=null&&(e._disposer.dispose(),e._disposer=void 0)})||this;return Object.defineProperty(e,"_disposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._value}}),Object.defineProperty(r.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._disposer!=null&&this._disposer.dispose(),this._disposer=t,this._value=e}}),Object.defineProperty(r.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.set(void 0,void 0)}}),r})(z);var Zt=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return Object.defineProperty(r.prototype,"increment",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return++this._counter,new z(function(){--e._counter,e._counter===0&&e.dispose()})}}),r}(z),Oe=function(){function n(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}return Object.defineProperty(n.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._disposed){this._disposed=!0;var r=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{y(r,function(e){e.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}}),Object.defineProperty(n.prototype,"hasListeners",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._listeners.length!==0}}),Object.defineProperty(n.prototype,"hasListenersByType",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return Lr(this._listeners,function(e){return(e.type===null||e.type===r)&&!e.killed})}}),Object.defineProperty(n.prototype,"enable",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._enabled=!0}}),Object.defineProperty(n.prototype,"disable",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._enabled=!1}}),Object.defineProperty(n.prototype,"enableType",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._disabled[r]}}),Object.defineProperty(n.prototype,"disableType",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){e===void 0&&(e=1/0),this._disabled[r]=e}}),Object.defineProperty(n.prototype,"_removeListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._iterating===0){var e=this._listeners.indexOf(r);if(e===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(e,1)}else this._killed.push(r)}}),Object.defineProperty(n.prototype,"_removeExistingListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(function(a){a.once===r&&a.type===e&&(t===void 0||a.callback===t)&&a.context===i&&a.disposer.dispose()})}}),Object.defineProperty(n.prototype,"isEnabled",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(r)&&this._disabled[r]===void 0}}),Object.defineProperty(n.prototype,"has",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=$t(this._listeners,function(a){return a.once!==!0&&a.type===r&&(e===void 0||a.callback===e)&&a.context===t});return i!==-1}}),Object.defineProperty(n.prototype,"_shouldDispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._disposed)throw new Error("EventDispatcher is disposed");var e=this._disabled[r];return _(e)?(e<=1?delete this._disabled[r]:--this._disabled[r],!1):this._enabled}}),Object.defineProperty(n.prototype,"_eachListener",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;++this._iterating;try{y(this._listeners,r)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(y(this._killed,function(t){e._removeListener(t)}),this._killed.length=0)}}}),Object.defineProperty(n.prototype,"dispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._shouldDispatch(r)&&this._eachListener(function(t){!t.killed&&(t.type===null||t.type===r)&&t.dispatch(r,e)})}}),Object.defineProperty(n.prototype,"_on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i,a,o){var u=this;if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(r,e,t,i);var l={type:e,callback:t,context:i,shouldClone:a,dispatch:o,killed:!1,once:r,disposer:new z(function(){l.killed=!0,u._removeListener(l)})};return this._listeners.push(l),l}}),Object.defineProperty(n.prototype,"onAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return t===void 0&&(t=!0),this._on(!1,null,r,e,t,function(i,a){return r.call(e,a)}).disposer}}),Object.defineProperty(n.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){return i===void 0&&(i=!0),this._on(!1,r,e,t,i,function(a,o){return e.call(t,o)}).disposer}}),Object.defineProperty(n.prototype,"once",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){i===void 0&&(i=!0);var a=this._on(!0,r,e,t,i,function(o,u){a.disposer.dispose(),e.call(t,u)});return a.disposer}}),Object.defineProperty(n.prototype,"off",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._removeExistingListener(!1,r,e,t)}}),Object.defineProperty(n.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(r===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var t=[];return y(r._listeners,function(i){!i.killed&&i.shouldClone&&(i.type===null?t.push(e.onAll(i.callback,i.context)):i.once?t.push(e.once(i.type,i.callback,i.context)):t.push(e.on(i.type,i.callback,i.context)))}),new ue(t)}}),n}();(function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"target",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.target=e,t}return Object.defineProperty(r.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");var i=[];return y(e._listeners,function(a){a.context!==e.target&&!a.killed&&a.shouldClone&&(a.type===null?i.push(t.onAll(a.callback,a.context)):a.once?i.push(t.once(a.type,a.callback,a.context)):i.push(t.on(a.type,a.callback,a.context)))}),new ue(i)}}),r})(Oe);function Ne(n,r){if(!(n>=0&&n<r))throw new Error("Index out of bounds: "+n)}var ke=function(){function n(r){r===void 0&&(r=[]),Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Oe}),this._values=r}return Object.defineProperty(n.prototype,"values",{get:function(){return this._values},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values.indexOf(r)!==-1}}),Object.defineProperty(n.prototype,"removeValue",{enumerable:!1,configurable:!0,writable:!0,value:function(r){for(var e=0,t=this._values.length;e<t;)this._values[e]===r?(this.removeIndex(e),--t):++e}}),Object.defineProperty(n.prototype,"indexOf",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return Ye(this._values,r)}}),Object.defineProperty(n.prototype,"length",{get:function(){return this._values.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"hasIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r>=0&&r<this._values.length}}),Object.defineProperty(n.prototype,"getIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values[r]}}),Object.defineProperty(n.prototype,"_onPush",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:r})}}),Object.defineProperty(n.prototype,"_onInsertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:r,newValue:e})}}),Object.defineProperty(n.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:r,oldValue:e,newValue:t})}}),Object.defineProperty(n.prototype,"_onRemoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:r,oldValue:e})}}),Object.defineProperty(n.prototype,"_onMoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:r,newIndex:e,value:t})}}),Object.defineProperty(n.prototype,"_onClear",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:r})}}),Object.defineProperty(n.prototype,"setIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){Ne(r,this._values.length);var t=this._values[r];return t!==e&&(this._values[r]=e,this._onSetIndex(r,t,e)),t}}),Object.defineProperty(n.prototype,"insertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return Ne(r,this._values.length+1),wt(this._values,r,e),this._onInsertIndex(r,e),e}}),Object.defineProperty(n.prototype,"swap",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._values.length;if(Ne(r,t),Ne(e,t),r!==e){var i=this._values[r],a=this._values[e];this._values[r]=a,this._onSetIndex(r,i,a),this._values[e]=i,this._onSetIndex(e,a,i)}}}),Object.defineProperty(n.prototype,"removeIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Ne(r,this._values.length);var e=this._values[r];return qt(this._values,r),this._onRemoveIndex(r,e),e}}),Object.defineProperty(n.prototype,"moveValue",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this.indexOf(r);if(t!==-1)if(qt(this._values,t),e==null){var i=this._values.length;this._values.push(r),this._onMoveIndex(t,i,r)}else wt(this._values,e,r),this._onMoveIndex(t,e,r);else e==null?(this._values.push(r),this._onPush(r)):(wt(this._values,e,r),this._onInsertIndex(e,r));return r}}),Object.defineProperty(n.prototype,"push",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._values.push(r),this._onPush(r),r}}),Object.defineProperty(n.prototype,"unshift",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this.insertIndex(0,r),r}}),Object.defineProperty(n.prototype,"pushAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;y(r,function(t){e.push(t)})}}),Object.defineProperty(n.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.pushAll(r._values)}}),Object.defineProperty(n.prototype,"pop",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this._values.length-1;return r<0?void 0:this.removeIndex(this._values.length-1)}}),Object.defineProperty(n.prototype,"shift",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._values.length?this.removeIndex(0):void 0}}),Object.defineProperty(n.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this,t=this._values;this._values=[],this._onClear(t),y(r,function(i){e._values.push(i),e._onPush(i)})}}),Object.defineProperty(n.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setAll([])}}),Object.defineProperty(n.prototype,Symbol.iterator,{enumerable:!1,configurable:!0,writable:!0,value:function(){var r,e;return K(this,function(t){switch(t.label){case 0:r=this._values.length,e=0,t.label=1;case 1:return e<r?[4,this._values[e]]:[3,4];case 2:t.sent(),t.label=3;case 3:return++e,[3,1];case 4:return[2]}})}}),Object.defineProperty(n.prototype,"each",{enumerable:!1,configurable:!0,writable:!0,value:function(r){y(this._values,r)}}),n}(),Qe=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.autoDispose&&t.dispose(),n.prototype._onSetIndex.call(this,e,t,i)}}),Object.defineProperty(r.prototype,"_onRemoveIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.autoDispose&&t.dispose(),n.prototype._onRemoveIndex.call(this,e,t)}}),Object.defineProperty(r.prototype,"_onClear",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.autoDispose&&y(e,function(t){t.dispose()}),n.prototype._onClear.call(this,e)}}),Object.defineProperty(r.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this.autoDispose&&y(this._values,function(e){e.dispose()}))}}),r}(ke),Ee=function(n){T(r,n);function r(e,t){var i=n.call(this)||this;return Object.defineProperty(i,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.template=e,i.make=t,i}return r}(Qe),Hr=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t._container=e,t._events=t.events.onAll(function(i){if(i.type==="clear")y(i.oldValues,function(a){t._onRemoved(a)});else if(i.type==="push")t._onInserted(i.newValue);else if(i.type==="setIndex")t._onRemoved(i.oldValue),t._onInserted(i.newValue,i.index);else if(i.type==="insertIndex")t._onInserted(i.newValue,i.index);else if(i.type==="removeIndex")t._onRemoved(i.oldValue);else if(i.type==="moveIndex")t._onRemoved(i.value),t._onInserted(i.value,i.newIndex);else throw new Error("Unknown IListEvent type")}),t}return Object.defineProperty(r.prototype,"_onInserted",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._setParent(this._container,!0);var i=this._container._childrenDisplay;t===void 0?i.addChild(e._display):i.addChildAt(e._display,t)}}),Object.defineProperty(r.prototype,"_onRemoved",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}}),Object.defineProperty(r.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._events.dispose(),y(this.values,function(e){e.dispose()}))}}),r}(ke),L=function(){function n(r){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=r}return Object.defineProperty(n.prototype,"value",{get:function(){return this._value/100},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"percent",{get:function(){return this._value},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){return""+this._value+"%"}}),Object.defineProperty(n.prototype,"interpolate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return r+this.value*(e-r)}}),Object.defineProperty(n,"normalize",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return r instanceof n?r:e===t?new n(0):new n(Math.min(Math.max((r-e)*(1/(t-e)),0),1)*100)}}),n}();function fe(n){return new L(n)}var Da=fe(0),C=fe(100),N=fe(50);function Z(n){return Object.keys(n)}function Vr(n,r){return Z(n).sort(r)}function ze(n){return Object.assign({},n)}function I(n,r){Z(n).forEach(function(e){r(e,n[e])})}function Gr(n,r){for(var e in n)if(Ur(n,e)&&!r(e,n[e]))break}function Ur(n,r){return{}.hasOwnProperty.call(n,r)}function Wr(n){n.parentNode&&n.parentNode.removeChild(n)}function ce(n,r,e,t){return n.addEventListener(r,e,t||!1),new z(function(){n.removeEventListener(r,e,t||!1)})}function De(n){switch(n){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function Pt(n){var r=n.pointerId||0;return r}function Kr(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{var n=document.createElement("button");n.style.position="fixed",n.style.top="0px",n.style.left="-10000px",document.body.appendChild(n),n.focus(),n.blur(),document.body.removeChild(n)}}function qr(n){n&&n.focus()}function Ot(n){if(De("pointerevents"))return n;if(De("touchevents"))switch(n){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(De("mouseevents"))switch(n){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return n}function Qt(n){if(typeof Touch!="undefined"&&n instanceof Touch)return!0;if(typeof PointerEvent!="undefined"&&n instanceof PointerEvent&&n.pointerType!=null)switch(n.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(n instanceof MouseEvent)}else if(n.type!=null&&n.type.match(/^mouse/))return!1;return!0}function xt(n,r,e){n.style[r]=e}function $r(n,r){return n.style[r]}function jt(n,r){r?n.style.pointerEvents="":n.style.pointerEvents="none"}var Dt;function Jr(n,r){if(r===void 0&&(r=""),n===null){if(Dt==null){var e=document.createElement("style");e.type="text/css",r!=""&&e.setAttribute("nonce",r),document.head.appendChild(e),Dt=e.sheet}return Dt}else{var e=document.createElement("style");return e.type="text/css",r!=""&&e.setAttribute("nonce",r),n.appendChild(e),e.sheet}}function Zr(n,r){var e=n.cssRules.length;return n.insertRule(r+"{}",e),n.cssRules[e]}(function(n){T(r,n);function r(e,t,i,a){a===void 0&&(a="");var o=this,u=Jr(e,a);return o=n.call(this,function(){var l=Ye(u.cssRules,o._rule);if(l===-1)throw new Error("Could not dispose StyleRule");u.deleteRule(l)})||this,Object.defineProperty(o,"_rule",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),o._rule=Zr(u,t),I(i,function(l,s){o.setStyle(l,s)}),o}return Object.defineProperty(r.prototype,"selector",{get:function(){return this._rule.selectorText},set:function(e){this._rule.selectorText=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_setVendorPrefixName",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._rule.style;i.setProperty("-webkit-"+e,t,""),i.setProperty("-moz-"+e,t,""),i.setProperty("-ms-"+e,t,""),i.setProperty("-o-"+e,t,""),i.setProperty(e,t,"")}}),Object.defineProperty(r.prototype,"setStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e==="transition"?this._setVendorPrefixName(e,t):this._rule.style.setProperty(e,t,"")}}),r})(z);function Q(n,r){return _(n)?n:n!=null&&_(n.value)&&_(r)?r*n.value:0}function Qr(n){var r=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return r?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0}function X(n,r,e){return r===void 0&&(r=0),e===void 0&&(e="0"),typeof n!="string"&&(n=n.toString()),r>n.length?Array(r-n.length+1).join(e)+n:n}function ei(n){return n.replace(/^[\n \t]+/,"")}function ti(n){return n.replace(/^[\n \t]+$/,"")}function Tt(n){return ei(ti(n))}function ri(n){if(typeof n=="undefined")return"string";n=n.toLowerCase().replace(/^\[[^\]]*\]/,""),n=n.replace(/\[[^\]]+\]/,""),n=n.trim();var r=n.match(/\/(date|number|duration)$/);return r?r[1]:n==="number"?"number":n==="date"?"date":n==="duration"?"duration":n.match(/[#0]/)?"number":n.match(/[ymwdhnsqaxkzgtei]/)?"date":"string"}function Ct(n){return n.replace(/\/(date|number|duration)$/i,"")}function er(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function St(n,r){var e=new Date(n.getFullYear(),0,0),t=n.getTime()-e.getTime()+(e.getTimezoneOffset()-n.getTimezoneOffset())*60*1e3,i=1e3*60*60*24;return Math.floor(t/i)}function Xe(n,r){var e=St(n)-1,t=Math.floor((e-(n.getDay()||7)+10)/7);return t===0?t=53:t===53&&(t=1),t}function ii(n,r){var e=Xe(new Date(n.getFullYear(),n.getMonth(),1)),t=Xe(n);return t==1&&(t=53),t-e+1}function ai(n,r,e,t){e===void 0&&(e=1),t===void 0&&(t=!1);var i=new Date(r,0,4,0,0,0,0);t&&i.setUTCFullYear(r);var a=n*7+e-((i.getDay()||7)+3);return a}function et(n,r){return n>12?n-=12:n===0&&(n=12),r!=null?n+(r-1):n}function tt(n,r,e,t){if(r===void 0&&(r=!1),e===void 0&&(e=!1),t===void 0&&(t=!1),t)return r?"Coordinated Universal Time":"UTC";var i=n.toLocaleString("UTC"),a=n.toLocaleString("UTC",{timeZoneName:r?"long":"short"}).substr(i.length);return e===!1&&(a=a.replace(/ (standard|daylight|summer|winter) /i," ")),a}function tr(n){return n.charAt(0).toUpperCase()+n.slice(1)}function rr(n){var r,e,t,i=n.h,a=n.s,o=n.l;if(a==0)r=e=t=o;else{var u=function(h,p,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?h+(p-h)*6*b:b<1/2?p:b<2/3?h+(p-h)*(2/3-b)*6:h},l=o<.5?o*(1+a):o+a-o*a,s=2*o-l;r=u(s,l,i+1/3),e=u(s,l,i),t=u(s,l,i-1/3)}return{r:Math.round(r*255),g:Math.round(e*255),b:Math.round(t*255)}}function ir(n){var r=n.r/255,e=n.g/255,t=n.b/255,i=Math.max(r,e,t),a=Math.min(r,e,t),o=0,u=0,l=(i+a)/2;if(i===a)o=u=0;else{var s=i-a;switch(u=l>.5?s/(2-i-a):s/(i+a),i){case r:o=(e-t)/s+(e<t?6:0);break;case e:o=(t-r)/s+2;break;case t:o=(r-e)/s+4;break}o/=6}return{h:o,s:u,l}}function ni(n,r){return n&&{r:Math.max(0,Math.min(255,n.r+rt(n.r,r))),g:Math.max(0,Math.min(255,n.g+rt(n.g,r))),b:Math.max(0,Math.min(255,n.b+rt(n.b,r))),a:n.a}}function rt(n,r){var e=r>0?255-n:n;return Math.round(e*r)}function oi(n,r){if(n){var e=Math.min(Math.max(n.r,n.g,n.b),230),t=rt(e,r);return{r:Math.max(0,Math.min(255,Math.round(n.r+t))),g:Math.max(0,Math.min(255,Math.round(n.g+t))),b:Math.max(0,Math.min(255,Math.round(n.b+t))),a:n.a}}else return n}function ar(n){return(n.r*299+n.g*587+n.b*114)/1e3>=128}function ui(n,r){if(n===void 0||r==1)return n;var e=ir(n);return e.s=r,rr(e)}function li(n,r,e){r===void 0&&(r={r:255,g:255,b:255}),e===void 0&&(e={r:255,g:255,b:255});var t=r,i=e;return ar(e)&&(t=e,i=r),ar(n)?i:t}function W(n,r){return n||(n=[]),Se(Se([],se(n)),se(r)).filter(function(e,t,i){return i.indexOf(e)===t})}function nr(n,r){return!(!r||n.left!=r.left||n.right!=r.right||n.top!=r.top||n.bottom!=r.bottom)}function or(n){return n[0]==="#"&&(n=n.substr(1)),n.length==3&&(n=n[0].repeat(2)+n[1].repeat(2)+n[2].repeat(2)),parseInt(n,16)}function si(n){n=n.replace(/[ ]/g,"");var r=n.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(r)r.push("1");else if(r=n.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!r)return 0;for(var e="",t=1;t<=3;t++){var i=parseInt(r[t]).toString(16);i.length==1&&(i="0"+i),e+=i}return or(e)}function He(n){return E.fromAny(n)}var E=function(){function n(r){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=r|0}return Object.defineProperty(n.prototype,"hex",{get:function(){return this._hex},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"r",{get:function(){return this._hex>>>16},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"g",{get:function(){return this._hex>>8&255},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"b",{get:function(){return this._hex&255},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"toCSS",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r===void 0&&(r=1),"rgba("+this.r+", "+this.g+", "+this.b+", "+r+")"}}),Object.defineProperty(n.prototype,"toCSSHex",{enumerable:!1,configurable:!0,writable:!0,value:function(){return"#"+X(this.r.toString(16),2)+X(this.g.toString(16),2)+X(this.b.toString(16),2)}}),Object.defineProperty(n.prototype,"toHSL",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r===void 0&&(r=1),ir({r:this.r,g:this.g,b:this.b,a:r})}}),Object.defineProperty(n,"fromHSL",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=rr({h:r,s:e,l:t});return this.fromRGB(i.r,i.g,i.b)}}),Object.defineProperty(n.prototype,"toString",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.toCSSHex()}}),Object.defineProperty(n,"fromHex",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new n(r)}}),Object.defineProperty(n,"fromRGB",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){return new n((t|0)+(e<<8)+(r<<16))}}),Object.defineProperty(n,"fromString",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new n(or(r))}}),Object.defineProperty(n,"fromCSS",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new n(si(r))}}),Object.defineProperty(n,"fromAny",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(Ie(r)){if(r[0]=="#")return n.fromString(r);if(r.substr(0,3)=="rgb")return n.fromCSS(r)}else{if(_(r))return n.fromHex(r);if(r instanceof n)return n.fromHex(r.hex)}throw new Error("Unknown color syntax: "+r)}}),Object.defineProperty(n,"alternative",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){var i=li({r:r.r,g:r.g,b:r.b},e?{r:e.r,g:e.g,b:e.b}:void 0,t?{r:t.r,g:t.g,b:t.b}:void 0);return this.fromRGB(i.r,i.g,i.b)}}),Object.defineProperty(n,"interpolate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i){if(i===void 0&&(i="rgb"),i=="hsl"){var a=e.toHSL(),o=t.toHSL();return n.fromHSL(ve(r,a.h,o.h),ve(r,a.s,o.s),ve(r,a.l,o.l))}else return n.fromRGB(ve(r,e.r,t.r),ve(r,e.g,t.g),ve(r,e.b,t.b))}}),Object.defineProperty(n,"lighten",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=ni({r:r.r,g:r.g,b:r.b},e);return n.fromRGB(t.r,t.g,t.b)}}),Object.defineProperty(n,"brighten",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=oi({r:r.r,g:r.g,b:r.b},e);return n.fromRGB(t.r,t.g,t.b)}}),Object.defineProperty(n,"saturate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=ui({r:r.r,g:r.g,b:r.b},e);return n.fromRGB(t.r,t.g,t.b)}}),n}();function ur(n){return J(this,void 0,void 0,function(){var r;return K(this,function(e){switch(e.label){case 0:return n===void 0?[3,2]:(r=[],I(n,function(t,i){r.push(i.waitForStop())}),[4,Promise.all(r)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})}function ve(n,r,e){return r+n*(e-r)}function fi(n,r,e){return n>=1?e:r}function lr(n,r,e){return new L(ve(n,r.percent,e.percent))}function ci(n,r,e){return E.interpolate(n,r,e)}function hi(n,r){return typeof n=="number"&&typeof r=="number"?ve:n instanceof L&&r instanceof L?lr:n instanceof E&&r instanceof E?ci:fi}(function(){function n(r,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_playingDuration",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_startingTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_current",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Oe}),Object.defineProperty(this,"easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=r,this._duration=e}return Object.defineProperty(n.prototype,"_stopEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r="stopped";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}}),Object.defineProperty(n.prototype,"_runAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){if(this._playingDuration!==null){if(this._startingTime===null)return this._startingTime=r,!1;var e=(r-this._startingTime)/this._playingDuration;if(e>=1){this._playingDuration=null,this._startingTime=null,this._from=this._to,this._current=this._to,this._entity.markDirty(),this._stopEvent();var t="ended";return this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this}),!0}else{this._current=ve(e,this._from,this._to),this._entity.markDirty();var t="progress";return this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,progress:e}),!1}}else return!0}}),Object.defineProperty(n.prototype,"_play",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this._from=this._current,this._playingDuration===null){this._entity._root._addAnimation(this);var r="started";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this})}else this._startingTime=null;this._playingDuration=Math.abs(this._to-this._from)*this._duration}}),Object.defineProperty(n.prototype,"duration",{get:function(){return this._duration},set:function(r){this._duration!==r&&(this._duration=r,r===0?this.jumpTo(this._to):this._current!==this._to&&this._play())},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){return this.easing?this.easing(this._current):this._current},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.jumpTo(this._current)}}),Object.defineProperty(n.prototype,"jumpTo",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._current!==r&&this._entity.markDirty(),this._playingDuration!==null&&this._stopEvent(),this._playingDuration=null,this._startingTime=null,this._current=r,this._from=r,this._to=r}}),Object.defineProperty(n.prototype,"tweenTo",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._current===r||this._duration===0?this.jumpTo(r):this._to!==r&&(this._to=r,this._play())}}),n})();var sr=Math.PI,fr=sr/180,Ve=180/sr;function ge(n,r,e){if(!_(r)||r<=0){var t=Math.round(n);return e&&t-n==.5&&t--,t}else{var i=Math.pow(10,r);return Math.round(n*i)/i}}function bi(n,r){if(!_(r)||r<=0)return Math.ceil(n);var e=Math.pow(10,r);return Math.ceil(n*e)/e}function V(n,r,e){return Math.min(Math.max(n,r),e)}function At(n){return Math.sin(fr*n)}function Mt(n){return Math.cos(fr*n)}function pi(n){return n=n%360,n<0&&(n+=360),n}function di(n,r,e,t,i){var a=Number.MAX_VALUE,o=Number.MAX_VALUE,u=-Number.MAX_VALUE,l=-Number.MAX_VALUE,s=[];s.push(kt(i,e)),s.push(kt(i,t));for(var f=Math.min(Math.floor(e/90)*90,Math.floor(t/90)*90),h=Math.max(Math.ceil(e/90)*90,Math.ceil(t/90)*90),p=f;p<=h;p+=90)p>=e&&p<=t&&s.push(kt(i,p));for(var b=0;b<s.length;b++){var v=s[b];v.x<a&&(a=v.x),v.y<o&&(o=v.y),v.x>u&&(u=v.x),v.y>l&&(l=v.y)}return{left:n+a,top:r+o,right:n+u,bottom:r+l}}function kt(n,r){return{x:n*Mt(r),y:n*At(r)}}function cr(n){return n}function Ge(n){return n*n*n}function it(n){return function(r){return 1-n(1-r)}}var vi=function(){function n(r,e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=r,this._settings=e}return Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._userSettings[r]=!0,this.setRaw(r,e)}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._userSettings[r],delete this._settings[r]}}),Object.defineProperty(n.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;Z(r).forEach(function(t){e.set(t,r[t])})}}),Object.defineProperty(n.prototype,"_eachSetting",{enumerable:!1,configurable:!0,writable:!0,value:function(r){I(this._settings,r)}}),Object.defineProperty(n.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this,e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;var t=this._entity.states.lookup("default");this._eachSetting(function(i,a){e[i]||(e[i]=!0,r!==t&&(i in t._settings||(t._settings[i]=r._entity.get(i))),r._entity.set(i,a))})}}),Object.defineProperty(n.prototype,"applyAnimate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;r==null&&(r=this._settings.stateAnimationDuration),r==null&&(r=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));var t=this._settings.stateAnimationEasing;t==null&&(t=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",Ge)));var i=this._entity.states.lookup("default"),a={};a.stateAnimationEasing=!0,a.stateAnimationDuration=!0;var o={};return this._eachSetting(function(u,l){if(!a[u]){a[u]=!0,e!=i&&(u in i._settings||(i._settings[u]=e._entity.get(u)));var s=e._entity.animate({key:u,to:l,duration:r,easing:t});s&&(o[u]=s)}}),o}}),n}(),gi=function(){function n(r){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=r}return Object.defineProperty(n.prototype,"lookup",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._states[r]}}),Object.defineProperty(n.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._states[r];if(t)return t.setAll(e),t;var i=new vi(this._entity,e);return this._states[r]=i,i}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._states[r]}}),Object.defineProperty(n.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._states[r];e&&e.apply(),this._entity._applyState(r)}}),Object.defineProperty(n.prototype,"applyAnimate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t,i=this._states[r];return i&&(t=i.applyAnimate(e)),this._entity._applyStateAnimated(r,e),t}}),n}(),yi=function(){function n(){Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return n}(),ye=new yi;function Te(n,r){return n===r?0:n<r?-1:1}function hr(n,r,e){for(var t=n.length,i=r.length,a=Math.min(t,i),o=0;o<a;++o){var u=e(n[o],r[o]);if(u!==0)return u}return Te(t,i)}function mi(n,r){return n===r?0:n<r?-1:1}var _i=function(){function n(r){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=r}return Object.defineProperty(n.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._callbacks[r];return i===void 0&&(i=this._callbacks[r]=[]),i.push(e),this._entity._markDirtyKey(r),new z(function(){te(i,e)&&t._entity._markDirtyKey(r)})}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._callbacks[r];e!==void 0&&(delete this._callbacks[r],e.length!==0&&this._entity._markDirtyKey(r))}}),Object.defineProperty(n.prototype,"enable",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._disabled[r]&&(delete this._disabled[r],this._entity._markDirtyKey(r))}}),Object.defineProperty(n.prototype,"disable",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._disabled[r]||(this._disabled[r]=!0,this._entity._markDirtyKey(r))}}),Object.defineProperty(n.prototype,"fold",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){if(!this._disabled[r]){var t=this._callbacks[r];if(t!==void 0)for(var i=0,a=t.length;i<a;++i)e=t[i](e,this._entity,r)}return e}}),n}(),at=function(){function n(r,e,t,i,a,o){Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Oe}),this._from=r,this._to=e,this._duration=t,this._easing=i,this._loops=a,this._interpolate=hi(r,e),this._oldTime=o}return Object.defineProperty(n.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stopped",{get:function(){return this._stopped},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stop",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}}),Object.defineProperty(n.prototype,"pause",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._playing=!1,this._oldTime=null}}),Object.defineProperty(n.prototype,"play",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._stopped||(this._playing=!0)}}),Object.defineProperty(n.prototype,"percentage",{get:function(){return this._time/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"waitForStop",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;return new Promise(function(e,t){if(r._stopped)e();else var i=function(){a.dispose(),e()},a=r.events.on("stopped",i)})}}),Object.defineProperty(n.prototype,"_checkEnded",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._loops>1?(--this._loops,!1):!0}}),Object.defineProperty(n.prototype,"_run",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._oldTime!==null&&(this._time+=r-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=r}}),Object.defineProperty(n.prototype,"_reset",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._oldTime=r,this._time=0}}),Object.defineProperty(n.prototype,"_value",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._interpolate(this._easing(r),this._from,this._to)}}),n}(),wi=0,br=function(){function n(r){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++wi}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._settings=r}return Object.defineProperty(n.prototype,"_checkDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;Z(this._settings).forEach(function(e){r._userProperties[e]=!0,r._markDirtyKey(e)})}}),Object.defineProperty(n.prototype,"_runAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;if(this.isDisposed())return!0;if(I(this._animatingSettings,function(t,i){if(i._stopped)e._stopAnimation(t);else if(i._playing){i._run(r);var a=i.percentage;a>=1?i._checkEnded()?e.set(t,i._value(1)):(i._reset(r),e._set(t,i._value(1))):e._set(t,i._value(a))}}),I(this._animatingPrivateSettings,function(t,i){if(i._stopped)e._stopAnimationPrivate(t);else if(i._playing){i._run(r);var a=i.percentage;a>=1?i._checkEnded()?e.setPrivate(t,i._value(1)):(i._reset(r),e._setPrivate(t,i._value(1))):e._setPrivate(t,i._value(a))}}),this._animatingCount<0)throw new Error("Invalid animation count");return this._animatingCount===0}}),Object.defineProperty(n.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.markDirty()}}),Object.defineProperty(n.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.markDirty()}}),Object.defineProperty(n.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];return i===void 0&&(i=this._settingEvents[r]=[]),i.push(e),new z(function(){te(i,e),i.length===0&&delete t._settingEvents[r]})}}),Object.defineProperty(n.prototype,"onPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];return i===void 0&&(i=this._privateSettingEvents[r]=[]),i.push(e),new z(function(){te(i,e),i.length===0&&delete t._privateSettingEvents[r]})}}),Object.defineProperty(n.prototype,"getRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this.getRaw(r,e)}}),Object.defineProperty(n.prototype,"_sendKeyEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];i!==void 0&&y(i,function(a){a(e,t,r)})}}),Object.defineProperty(n.prototype,"_sendPrivateKeyEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];i!==void 0&&y(i,function(a){a(e,t,r)})}}),Object.defineProperty(n.prototype,"_setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._prevSettings[r]=e,this._sendKeyEvent(r,t)}}),Object.defineProperty(n.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];this._settings[r]=e,t!==e&&this._setRaw(r,t,e)}}),Object.defineProperty(n.prototype,"_set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];this._settings[r]=e,t!==e&&(this._setRaw(r,t,e),this._markDirtyKey(r))}}),Object.defineProperty(n.prototype,"_stopAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._animatingSettings[r];e&&(delete this._animatingSettings[r],--this._animatingCount,e.stop())}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._set(r,e),this._stopAnimation(r),e}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._settings&&(this._prevSettings[r]=this._settings[r],delete this._settings[r],this._sendKeyEvent(r,void 0),this._markDirtyKey(r)),this._stopAnimation(r)}}),Object.defineProperty(n.prototype,"removeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;y(Z(this._settings),function(e){r.remove(e)})}}),Object.defineProperty(n.prototype,"getPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"_setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){this._prevPrivateSettings[r]=e,this._sendPrivateKeyEvent(r,t)}}),Object.defineProperty(n.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];this._privateSettings[r]=e,t!==e&&this._setPrivateRaw(r,t,e)}}),Object.defineProperty(n.prototype,"_setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];this._privateSettings[r]=e,t!==e&&(this._setPrivateRaw(r,t,e),this._markDirtyPrivateKey(r))}}),Object.defineProperty(n.prototype,"_stopAnimationPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._animatingPrivateSettings[r];e&&(e.stop(),delete this._animatingPrivateSettings[r],--this._animatingCount)}}),Object.defineProperty(n.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._setPrivate(r,e),this._stopAnimationPrivate(r),e}}),Object.defineProperty(n.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._privateSettings&&(this._prevPrivateSettings[r]=this._privateSettings[r],delete this._privateSettings[r],this._markDirtyPrivateKey(r)),this._stopAnimationPrivate(r)}}),Object.defineProperty(n.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;I(r,function(t,i){e.set(t,i)})}}),Object.defineProperty(n.prototype,"animate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.key,t=r.to,i=r.duration||0,a=r.loops||1,o=r.from===void 0?this.get(e):r.from,u=r.easing===void 0?cr:r.easing;if(i===0)this.set(e,t);else if(o===void 0||o===t)this.set(e,t);else{++this._animatingCount,this.set(e,o);var l=this._animatingSettings[e]=new at(o,t,i,u,a,this._animationTime());return this._startAnimation(),l}var s=new at(o,t,i,u,a,null);return s.stop(),s}}),Object.defineProperty(n.prototype,"animatePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.key,t=r.to,i=r.duration||0,a=r.loops||1,o=r.from===void 0?this.getPrivate(e):r.from,u=r.easing===void 0?cr:r.easing;if(i===0)this.setPrivate(e,t);else if(o===void 0||o===t)this.setPrivate(e,t);else{++this._animatingCount,this.setPrivate(e,o);var l=this._animatingPrivateSettings[e]=new at(o,t,i,u,a,this._animationTime());return this._startAnimation(),l}var s=new at(o,t,i,u,a,null);return s.stop(),s}}),Object.defineProperty(n.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(n.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._dispose())}}),n}(),re=function(n){T(r,n);function r(e,t,i,a){a===void 0&&(a=[]);var o=n.call(this,t)||this;if(Object.defineProperty(o,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"states",{enumerable:!0,configurable:!0,writable:!0,value:new gi(o)}),Object.defineProperty(o,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new _i(o)}),Object.defineProperty(o,"events",{enumerable:!0,configurable:!0,writable:!0,value:o._createEvents()}),Object.defineProperty(o,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(o,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(o,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(o,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(o,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(o,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(o,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(o,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(o,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(o,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");return o._root=e,o._internalTemplates=a,o}return Object.defineProperty(r,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=new this(e,t,!0);return a._template=i,a._afterNew(),a}}),Object.defineProperty(r,"_new",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){i===void 0&&(i=[]);var a=new this(e,t,!0,i);return a._afterNew(),a}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._checkDirty();var t=!1,i=this._template;i&&(t=!0,i._setObjectTemplate(this)),y(this._internalTemplates,function(a){t=!0,a._setObjectTemplate(e)}),t&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}}),Object.defineProperty(r.prototype,"_afterNewApplyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._checkDirty();var t=this._template;t&&t._setObjectTemplate(this),y(this._internalTemplates,function(i){i._setObjectTemplate(e)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}}),Object.defineProperty(r.prototype,"_createEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Oe}}),Object.defineProperty(r.prototype,"classNames",{get:function(){return this.constructor.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"className",{get:function(){return this.constructor.className},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_setDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e in this._settings||n.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"_setRawDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e in this._settings||n.prototype.setRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;Z(this._dirty).forEach(function(t){e._dirty[t]=!1}),Z(this._dirtyPrivate).forEach(function(t){e._dirtyPrivate[t]=!1})}}),Object.defineProperty(r.prototype,"isDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._dirty[e]}}),Object.defineProperty(r.prototype,"isPrivateDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!!this._dirtyPrivate[e]}}),Object.defineProperty(r.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dirty[e]=!0,n.prototype._markDirtyKey.call(this,e)}}),Object.defineProperty(r.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dirtyPrivate[e]=!0,n.prototype._markDirtyKey.call(this,e)}}),Object.defineProperty(r.prototype,"isType",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.classNames.indexOf(e)!==-1}}),Object.defineProperty(r.prototype,"_pushPropertyDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._disposerProperties[e];return i===void 0&&(i=this._disposerProperties[e]=[]),i.push(t),t}}),Object.defineProperty(r.prototype,"_disposeProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._disposerProperties[e];t!==void 0&&(y(t,function(i){i.dispose()}),delete this._disposerProperties[e])}}),Object.defineProperty(r.prototype,"template",{get:function(){return this._template},set:function(e){var t=this._template;t!==e&&(this._template=e,t&&t._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addDirtyEntity(this)}}),Object.defineProperty(r.prototype,"_startAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addAnimation(this)}}),Object.defineProperty(r.prototype,"_animationTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._root.animationTime}}),Object.defineProperty(r.prototype,"_applyState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_applyStateAnimated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.adapters.fold(e,this._settings[e]);return i!==void 0?i:t}}),Object.defineProperty(r.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userProperties[e]=!0,n.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._userProperties[e]=!0,n.prototype.setRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"_setSoft",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userProperties[e]?t:n.prototype.set.call(this,e,t)}}),Object.defineProperty(r.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){delete this._userProperties[e],this._removeTemplateProperty(e)}}),Object.defineProperty(r.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._userPrivateProperties[e]=!0,n.prototype.setPrivate.call(this,e,t)}}),Object.defineProperty(r.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._userPrivateProperties[e]=!0,n.prototype.setPrivateRaw.call(this,e,t)}}),Object.defineProperty(r.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}}),Object.defineProperty(r.prototype,"_setTemplateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this._userProperties[t]){var a=this._findTemplateByKey(t);e===a&&n.prototype.set.call(this,t,i)}}}),Object.defineProperty(r.prototype,"_setTemplatePrivateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this._userPrivateProperties[t]){var a=this._findTemplateByPrivateKey(t);e===a&&n.prototype.setPrivate.call(this,t,i)}}}),Object.defineProperty(r.prototype,"_removeTemplateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._userProperties[e]){var t=this._findTemplateByKey(e);t?n.prototype.set.call(this,e,t._settings[e]):n.prototype.remove.call(this,e)}}}),Object.defineProperty(r.prototype,"_removeTemplatePrivateProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this._userPrivateProperties[e]){var t=this._findTemplateByPrivateKey(e);t?n.prototype.setPrivate.call(this,e,t._privateSettings[e]):n.prototype.removePrivate.call(this,e)}}}),Object.defineProperty(r.prototype,"_walkParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e(this._root._rootContainer),e(this)}}),Object.defineProperty(r.prototype,"_applyStateByKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.states.create(e,{}),i={};this._eachTemplate(function(a){var o=a.states.lookup(e);o&&o._apply(t,i)}),I(t._settings,function(a){!i[a]&&!t._userSettings[a]&&t.remove(a)})}}),Object.defineProperty(r.prototype,"_applyTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._templateDisposers.push(e._apply(this,t)),I(e._settings,function(a,o){!t.settings[a]&&!i._userProperties[a]&&(t.settings[a]=!0,n.prototype.set.call(i,a,o))}),I(e._privateSettings,function(a,o){!t.privateSettings[a]&&!i._userPrivateProperties[a]&&(t.privateSettings[a]=!0,n.prototype.setPrivate.call(i,a,o))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}}),Object.defineProperty(r.prototype,"_findStaticTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._template&&e(this._template))return this._template}}),Object.defineProperty(r.prototype,"_eachTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._findStaticTemplate(function(t){return e(t),!1}),$e(this._internalTemplates,e),y(this._templates,e)}}),Object.defineProperty(r.prototype,"_applyTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e===void 0&&(e=!0),e&&this._disposeTemplates();var i={settings:{},privateSettings:{},states:{}};this._eachTemplate(function(a){t._applyTemplate(a,i)}),e&&(I(this._settings,function(a){!t._userProperties[a]&&!i.settings[a]&&n.prototype.remove.call(t,a)}),I(this._privateSettings,function(a){!t._userPrivateProperties[a]&&!i.privateSettings[a]&&n.prototype.removePrivate.call(t,a)}))}}),Object.defineProperty(r.prototype,"_findTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._findStaticTemplate(e);if(t===void 0){var i=Yr(this._internalTemplates,e);return i===void 0?Jt(this._templates,e):i}else return t}}),Object.defineProperty(r.prototype,"_findTemplateByKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._findTemplate(function(t){return e in t._settings})}}),Object.defineProperty(r.prototype,"_findTemplateByPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._findTemplate(function(t){return e in t._privateSettings})}}),Object.defineProperty(r.prototype,"_disposeTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(){y(this._templateDisposers,function(e){e.dispose()}),this._templateDisposers.length=0}}),Object.defineProperty(r.prototype,"_removeTemplates",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;y(this._templates,function(t){t._removeObjectTemplate(e)}),this._templates.length=0}}),Object.defineProperty(r.prototype,"_applyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=!1,i=[],a=[],o=new Set,u=this.get("themeTagsSelf");return u&&y(u,function(l){o.add(l)}),this._walkParents(function(l){l===e._root._rootContainer&&(t=!0),l._defaultThemes.length>0&&i.push(l._defaultThemes);var s=l.get("themes");s&&a.push(s);var f=l.get("themeTags");f&&y(f,function(h){o.add(h)})}),a=i.concat(a),this._removeTemplates(),t&&$e(this.classNames,function(l){var s=[];y(a,function(f){y(f,function(h){var p=h._lookupRules(l);p&&$e(p,function(b){var v=b.tags.every(function(d){return o.has(d)});if(v){var c=zr(s,function(d){var g=Te(b.tags.length,d.tags.length);return g===0?hr(b.tags,d.tags,Te):g});s.splice(c.index,0,b)}})})}),y(s,function(f){e._templates.push(f.template),f.template._setObjectTemplate(e)})}),this._applyTemplates(),t&&(this._runSetup=!1),t}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDirty("id")){var e=this.get("id");if(e){if(ye.entitiesById[e])throw new Error('An entity with id "'+e+'" already exists.');ye.entitiesById[e]=this}var t=this._prevSettings.id;t&&delete ye.entitiesById[t]}}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._disposers.push(e),e}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._dispose.call(this);var t=this._template;t&&t._removeObjectTemplate(this),y(this._internalTemplates,function(a){a._removeObjectTemplate(e)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(function(a){a.dispose()}),I(this._disposerProperties,function(a,o){y(o,function(u){u.dispose()})});var i=this.get("id");i&&delete ye.entitiesById[i]}}),Object.defineProperty(r.prototype,"setTimeout",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=setTimeout(function(){i.removeDispose(o),e()},t),o=new z(function(){clearTimeout(a)});return this._disposers.push(o),o}}),Object.defineProperty(r.prototype,"removeDispose",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isDisposed()){var t=Ye(this._disposers,e);t>-1&&this._disposers.splice(t,1)}e.dispose()}}),Object.defineProperty(r.prototype,"hasTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Ye(this.get("themeTags",[]),e)!==-1}}),Object.defineProperty(r.prototype,"addTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.hasTag(e)){var t=this.get("themeTags",[]);t.push(e),this.set("themeTags",t)}}}),Object.defineProperty(r.prototype,"removeTag",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.hasTag(e)){var t=this.get("themeTags",[]);de(t,e),this.set("themeTags",t)}}}),Object.defineProperty(r.prototype,"_t",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];return(i=this._root.language).translate.apply(i,Se([e,t],se(a)))}}),Object.defineProperty(r.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]}),r}(br),Pi=function(){function n(r,e,t){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=r,this._template=e,this._settings=t}return Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e,this._template._stateChanged(this._name)}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._settings[r],this._template._stateChanged(this._name)}}),Object.defineProperty(n.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;Z(r).forEach(function(t){e._settings[t]=r[t]}),this._template._stateChanged(this._name)}}),Object.defineProperty(n.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){I(this._settings,function(t,i){!e[t]&&!r._userSettings[t]&&(e[t]=!0,r.setRaw(t,i))})}}),n}(),Oi=function(){function n(r){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=r}return Object.defineProperty(n.prototype,"lookup",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._states[r]}}),Object.defineProperty(n.prototype,"create",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._states[r];if(t)return t.setAll(e),t;var i=new Pi(r,this._template,e);return this._states[r]=i,this._template._stateChanged(r),i}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){delete this._states[r],this._template._stateChanged(r)}}),Object.defineProperty(n.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){I(this._states,function(t,i){var a=e.states[t];a==null&&(a=e.states[t]={});var o=r.states.create(t,{});i._apply(o,a)})}}),n}(),xi=function(){function n(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}return Object.defineProperty(n.prototype,"add",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._callbacks[r];t===void 0&&(t=this._callbacks[r]=[]),t.push(e)}}),Object.defineProperty(n.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=[];return I(this._callbacks,function(t,i){y(i,function(a){e.push(r.adapters.add(t,a))})}),new ue(e)}}),n}(),me=function(){function n(r,e){if(Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new Oi(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new xi}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Oe}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=r}return Object.defineProperty(n,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return new n(r,!0)}}),Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._settings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"setRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._settings[r]=e}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;this._settings[r]!==e&&(this.setRaw(r,e),this._entities.forEach(function(i){i._setTemplateProperty(t,r,e)}))}}),Object.defineProperty(n.prototype,"remove",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._settings&&(delete this._settings[r],this._entities.forEach(function(e){e._removeTemplateProperty(r)}))}}),Object.defineProperty(n.prototype,"removeAll",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;I(this._settings,function(e,t){r.remove(e)})}}),Object.defineProperty(n.prototype,"getPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._privateSettings[r];return t!==void 0?t:e}}),Object.defineProperty(n.prototype,"setPrivateRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return this._privateSettings[r]=e,e}}),Object.defineProperty(n.prototype,"setPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;return this._privateSettings[r]!==e&&(this.setPrivateRaw(r,e),this._entities.forEach(function(i){i._setTemplatePrivateProperty(t,r,e)})),e}}),Object.defineProperty(n.prototype,"removePrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r in this._privateSettings&&(delete this._privateSettings[r],this._entities.forEach(function(e){e._removeTemplatePrivateProperty(r)}))}}),Object.defineProperty(n.prototype,"setAll",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;I(r,function(t,i){e.set(t,i)})}}),Object.defineProperty(n.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._settingEvents[r];return i===void 0&&(i=this._settingEvents[r]=[]),i.push(e),new z(function(){te(i,e),i.length===0&&delete t._settingEvents[r]})}}),Object.defineProperty(n.prototype,"onPrivate",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this,i=this._privateSettingEvents[r];return i===void 0&&(i=this._privateSettingEvents[r]=[]),i.push(e),new z(function(){te(i,e),i.length===0&&delete t._privateSettingEvents[r]})}}),Object.defineProperty(n.prototype,"_apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=[];return I(this._settingEvents,function(i,a){y(a,function(o){t.push(r.on(i,o))})}),I(this._privateSettingEvents,function(i,a){y(a,function(o){t.push(r.onPrivate(i,o))})}),this.states._apply(r,e),t.push(this.adapters._apply(r)),t.push(r.events.copyFrom(this.events)),new ue(t)}}),Object.defineProperty(n.prototype,"_setObjectTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._entities.push(r)}}),Object.defineProperty(n.prototype,"_removeObjectTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(r){de(this._entities,r)}}),Object.defineProperty(n.prototype,"_stateChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._entities.forEach(function(e){e._applyStateByKey(r)})}}),n}(),ji=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(t,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),t._sprite=e,t}return Object.defineProperty(r.prototype,"_makePointerEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return{type:e,originalEvent:t.event,point:t.point,simulated:t.simulated,native:t.native,target:this._sprite}}}),Object.defineProperty(r.prototype,"_onRenderer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;var a=this._rendererDisposers[e];if(a===void 0){var o=this._sprite._display.on(e,function(u){t.call(i,u)});a=this._rendererDisposers[e]=new Zt(function(){delete i._rendererDisposers[e],o.dispose()})}return a.increment()}}),Object.defineProperty(r.prototype,"_on",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u){var l=n.prototype._on.call(this,e,t,i,a,o,u),s=r.RENDERER_EVENTS[t];return s!==void 0&&(l.disposer=new ue([l.disposer,this._onRenderer(t,s)])),l}}),Object.defineProperty(r.prototype,"stopParentDispatch",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dispatchParents=!1}}),Object.defineProperty(r.prototype,"dispatchParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,t),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,t)}finally{this._dispatchParents=i}}}),Object.defineProperty(r,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(e){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",e))&&this.dispatch("click",this._makePointerEvent("click",e))},rightclick:function(e){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",e))},middleclick:function(e){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",e))},dblclick:function(e){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",e))},pointerover:function(e){this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",e))},pointerout:function(e){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",e))},pointerdown:function(e){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",e))},pointerup:function(e){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",e))},globalpointerup:function(e){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",e))},globalpointermove:function(e){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",e))},wheel:function(e){this.isEnabled("wheel")&&this.dispatch("wheel",{type:"wheel",target:this._sprite,originalEvent:e.event,point:e.point})}}}),r}(Oe),xe=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(e,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_statesHandled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivateRaw("visible",!0),n.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_markDirtyKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._markDirtyKey.call(this,e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}}),Object.defineProperty(r.prototype,"_markDirtyPrivateKey",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._markDirtyPrivateKey.call(this,e),(e=="x"||e=="y")&&this.markDirtyPosition()}}),Object.defineProperty(r.prototype,"_removeTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._templateField&&this._templateField._removeObjectTemplate(this)}}),Object.defineProperty(r.prototype,"_createEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new ji(this)}}),Object.defineProperty(r.prototype,"_processTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this.get("templateField");if(t){var i=this.dataItem;if(i){var a=i.dataContext;a&&(e=a[t],!(e instanceof me)&&e&&(e=me.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._dataItem;this._dataItem=e,this._processTemplateField();var i="dataitemchanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,oldDataItem:t,newDataItem:e})}}),Object.defineProperty(r.prototype,"dataItem",{get:function(){if(this._dataItem)return this._dataItem;for(var e=this._parent;e;){if(e._dataItem)return e._dataItem;e=e._parent}},set:function(e){this._setDataItem(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_addPercentageSizeChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&(this.get("width")instanceof L||this.get("height")instanceof L?Je(e._percentageSizeChildren,this):te(e._percentageSizeChildren,this))}}),Object.defineProperty(r.prototype,"_addPercentagePositionChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&(this.get("x")instanceof L||this.get("y")instanceof L?Je(e._percentagePositionChildren,this):te(e._percentagePositionChildren,this))}}),Object.defineProperty(r.prototype,"markDirtyPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._addDirtyPosition(this)}}),Object.defineProperty(r.prototype,"updatePivotPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._localBounds;if(e){var t=this.get("centerX");t!=null&&(this._display.pivot.x=e.left+Q(t,e.right-e.left));var i=this.get("centerY");i!=null&&(this._display.pivot.y=e.top+Q(i,e.bottom-e.top))}}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._beforeChanged.call(this),this.isDirty("tooltip")){var t=this._prevSettings.tooltip;t&&t.dispose()}if(this.isDirty("layer")&&(this._display.setLayer(this.get("layer")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){var i=this._tooltipMoveDp;i&&(i.dispose(),this._tooltipMoveDp=void 0);var a=this._tooltipPointerDp;a&&(a.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this._tooltipPointerDp=new ue([this.events.on("pointerover",function(){e._tooltipMoveDp=e.events.on("globalpointermove",function(o){e.showTooltip(o.point)})}),this.events.on("pointerout",function(){var o=e._tooltipMoveDp;o&&(o.dispose(),e._tooltipMoveDp=void 0)})]))}}}),Object.defineProperty(r.prototype,"_handleStates",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._statesHandled||(this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility()),this._statesHandled=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._changed.call(this);var t=this._display,i=this.events;if(this.isDirty("draggable")){var a=this.get("draggable");a?(this.set("interactive",!0),this._dragDp=new ue([i.on("pointerdown",function(h){e.dragStart(h)}),i.on("globalpointermove",function(h){e.dragMove(h)}),i.on("globalpointerup",function(h){e.dragStop(h)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0)}if(this.isDirty("tooltipText")){var o=this.get("tooltipText");o?this._tooltipDp=new ue([i.on("pointerover",function(){e.showTooltip()}),i.on("pointerout",function(){e.get("showTooltipOn")!="always"&&e.hideTooltip()})]):this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0)}if(this.isDirty("toggleKey")){var u=this.get("toggleKey");u&&u!="none"?this._toggleDp=i.on("click",function(){e._isDragging||e.set(u,!e.get(u))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this._handleStates(),this.isDirty("opacity")&&(t.alpha=Math.max(0,this.get("opacity",1))),this.isDirty("rotation")&&(this.markDirtyBounds(),t.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),t.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t.visible=!1,this.hideTooltip()):t.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();var l=this.parent;l&&(this.isDirty("width")&&this.get("width")instanceof L||this.isDirty("height")&&this.get("height")instanceof L)&&(l.markDirty(),l._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){var s=this.get("wheelable");s&&this.set("interactive",!0),t.wheelable=!!s}if((this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(t.filter=this.get("filter")),this.isDirty("cursorOverStyle")&&(t.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new ue([i.on("focus",function(){e.showTooltip()}),i.on("blur",function(){e.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility()),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(t.exportable=this.get("exportable")),this.isDirty("interactive")){var f=this.events;this.get("interactive")?this._hoverDp=new ue([f.on("click",function(h){Qt(h.originalEvent)&&(e.getPrivate("touchHovering")||e.setTimeout(function(){e._handleOver(),e.get("tooltipText")&&e.showTooltip(),e.setPrivateRaw("touchHovering",!0)},10))}),f.on("globalpointerup",function(h){Qt(h.originalEvent)&&(e.getPrivate("touchHovering")&&(e._handleOut(),e.get("tooltipText")&&e.hideTooltip()),e.setPrivateRaw("touchHovering",!1)),e._isDown&&e._handleUp(h)}),f.on("pointerover",function(){e._handleOver()}),f.on("pointerout",function(){e._handleOut()}),f.on("pointerdown",function(h){e._handleDown(h)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",!1)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}}),Object.defineProperty(r.prototype,"dragStart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dragEvent=e,this.events.stopParentDispatch()}}),Object.defineProperty(r.prototype,"dragStop",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;var t="dragstop";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}),Object.defineProperty(r.prototype,"_handleOver",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"))}}),Object.defineProperty(r.prototype,"_handleOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"))}}),Object.defineProperty(r.prototype,"_handleUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;var t=Pt(e.originalEvent);delete this._downPoints[t],Z(this._downPoints).length==0&&(this._isDown=!1)}}}),Object.defineProperty(r.prototype,"_hasMoved",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Pt(e.originalEvent),i=this._downPoints[t];if(i){var a=Math.abs(i.x-e.point.x),o=Math.abs(i.y-e.point.y);return a>5||o>5}return!1}}),Object.defineProperty(r.prototype,"_hasDown",{enumerable:!1,configurable:!0,writable:!0,value:function(){return Z(this._downPoints).length>0}}),Object.defineProperty(r.prototype,"_handleDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.parent;if(t&&!this.get("draggable")&&t._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;var i=Pt(e.originalEvent);this._downPoints[i]={x:e.point.x,y:e.point.y}}}}),Object.defineProperty(r.prototype,"dragMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._dragEvent;if(t){for(var i=0,a=this.parent;a!=null;)i+=a.get("rotation",0),a=a.parent;var o=e.point.x-t.point.x,u=e.point.y-t.point.y,l=this.events;if(t.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var s="dragstart";l.isEnabled(s)&&l.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){var f=this._dragPoint;this.set("x",f.x+o*Mt(i)+u*At(i)),this.set("y",f.y+u*Mt(i)-o*At(i));var s="dragged";l.isEnabled(s)&&l.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(o,u)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};var s="dragstart";l.isEnabled(s)&&l.dispatch(s,{type:s,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_getBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localBounds=this._display.getLocalBounds()}}),Object.defineProperty(r.prototype,"depth",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this.parent,t=0;;)if(e)++t,e=e.parent;else return t}}),Object.defineProperty(r.prototype,"markDirtySize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._sizeDirty=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"markDirtyBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();var t=this.parent;t&&this.get("position")!="absolute"&&(t.get("width")==null||t.get("height")==null||t.get("layout"))&&t.markDirtyBounds(),this.get("focusable")&&this.isFocus()&&this.markDirtyAccessibility()}}}),Object.defineProperty(r.prototype,"markDirtyAccessibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._root._invalidateAccessibility(this)}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.markDirtyLayer(!0)}}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.markDirty.call(this),this.markDirtyLayer()}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._adjustedLocalBounds,t;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(t={left:0,right:0,top:0,bottom:0},this._localBounds=t,this._adjustedLocalBounds=t):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),t=this._adjustedLocalBounds),!e||e.left!==t.left||e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom){var i="boundschanged";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds())}}}),Object.defineProperty(r.prototype,"_fixMinBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("minWidth"),i=this.get("minHeight");_(t)&&e.right-e.left<t&&(e.right=e.left+t),_(i)&&e.bottom-e.top<i&&(e.bottom=e.top+i);var a=this.getPrivate("width"),o=this.getPrivate("height");_(a)&&(e.right=e.left+a),_(o)&&(e.bottom=e.top+o)}}),Object.defineProperty(r.prototype,"_removeParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e&&(e.children.removeValue(this),te(e._percentageSizeChildren,this),te(e._percentagePositionChildren,this))}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._clearDirty.call(this),this._sizeDirty=!1,this._statesHandled=!1}}),Object.defineProperty(r.prototype,"hover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.showTooltip(),this._handleOver()}}),Object.defineProperty(r.prototype,"unhover",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.hideTooltip(),this._handleOut()}}),Object.defineProperty(r.prototype,"showTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getTooltip(),i=this.get("tooltipText");if(i&&t){var a=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);(a=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(o._getTooltipPoint())),t.set("pointTo",e),t.set("tooltipTarget",o),t.get("x")||t.set("x",e.x),t.get("y")||t.set("y",e.y),t.label.set("text",i);var u=this.dataItem;if(u&&t.label._setDataItem(u),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}t.label.text.markDirtyText();var l=t.show();return this.setPrivateRaw("showingTooltip",!0),l}}}),Object.defineProperty(r.prototype,"hideTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getTooltip();if(e){var t=e.hide();return this.setPrivateRaw("showingTooltip",!1),t}}}),Object.defineProperty(r.prototype,"_getTooltipPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._localBounds;if(e){var t=0,i=0;return this.get("isMeasured")?(t=e.left+Q(this.get("tooltipX",0),e.right-e.left),i=e.top+Q(this.get("tooltipY",0),e.bottom-e.top)):(t=Q(this.get("tooltipX",0),this.width()),i=Q(this.get("tooltipY",0),this.height())),{x:t,y:i}}return{x:0,y:0}}}),Object.defineProperty(r.prototype,"getTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");if(e)return e;var t=this.parent;if(t)return t.getTooltip()}}),Object.defineProperty(r.prototype,"_updatePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent,t=this.get("dx",0),i=this.get("dy",0),a=this.get("x"),o=this.getPrivate("x"),u=0,l=0,s=this.get("position");a instanceof L&&(e?a=e.innerWidth()*a.value+e.get("paddingLeft",0):a=0),_(a)?u=a+t:o!=null?u=o:e&&s=="relative"&&(u=e.get("paddingLeft",0)+t);var f=this.get("y"),h=this.getPrivate("y");f instanceof L&&(e?f=e.innerHeight()*f.value+e.get("paddingTop",0):f=0),_(f)?l=f+i:h!=null?l=h:e&&s=="relative"&&(l=e.get("paddingTop",0)+i);var p=this._display;if(p.x!=u||p.y!=l){p.invalidateBounds(),p.x=u,p.y=l;var b="positionchanged";this.events.isEnabled(b)&&this.events.dispatch(b,{type:b,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}}),Object.defineProperty(r.prototype,"x",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("x"),t=this.getPrivate("x"),i=this.parent;return i?e instanceof L?Q(e,i.innerWidth())+i.get("paddingLeft",0):_(e)?e:t??i.get("paddingLeft",this._display.x):this._display.x}}),Object.defineProperty(r.prototype,"y",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("y");if(e!=null)return e;var t=this.get("y"),i=this.parent;return i?t instanceof L?Q(t,i.innerHeight())+i.get("paddingTop",0):_(t)?t:e??i.get("paddingTop",this._display.y):this._display.y}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._dispose.call(this),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent);var e=this.getPrivate("focusElement");e&&y(e.disposers,function(i){i.dispose()});var t=this.get("tooltip");t&&t.dispose(),this.markDirty()}}),Object.defineProperty(r.prototype,"adjustedLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}}),Object.defineProperty(r.prototype,"localBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._localBounds}}),Object.defineProperty(r.prototype,"bounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._adjustedLocalBounds,t=this.x(),i=this.y();return{left:e.left+t,right:e.right+t,top:e.top+i,bottom:e.bottom+i}}}),Object.defineProperty(r.prototype,"globalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.localBounds(),t=this.toGlobal({x:e.left,y:e.top}),i=this.toGlobal({x:e.right,y:e.top}),a=this.toGlobal({x:e.right,y:e.bottom}),o=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(t.x,i.x,a.x,o.x),top:Math.min(t.y,i.y,a.y,o.y),right:Math.max(t.x,i.x,a.x,o.x),bottom:Math.max(t.y,i.y,a.y,o.y)}}}),Object.defineProperty(r.prototype,"_onShow",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_onHide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"appear",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i=this;return K(this,function(a){switch(a.label){case 0:return[4,this.hide(0)];case 1:return a.sent(),t?[2,new Promise(function(o,u){i.setTimeout(function(){o(i.show(e))},t)})]:[2,this.show(e)]}})})}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return J(this,void 0,void 0,function(){var t;return K(this,function(i){switch(i.label){case 0:return this._isShowing?[3,2]:(this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e),t=this.states.applyAnimate("default",e),[4,ur(t)]);case 1:i.sent(),this._isShowing=!1,i.label=2;case 2:return[2]}})})}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return J(this,void 0,void 0,function(){var t,i;return K(this,function(a){switch(a.label){case 0:return!this._isHiding&&!this._isHidden?(this._isHiding=!0,this._isShowing=!1,t=this.states.lookup("hidden"),t||(t=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e),i=this.states.applyAnimate("hidden",e),[4,ur(i)]):[3,2];case 1:a.sent(),this._isHiding=!1,a.label=2;case 2:return[2]}})})}}),Object.defineProperty(r.prototype,"isHidden",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isHidden}}),Object.defineProperty(r.prototype,"isShowing",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isShowing}}),Object.defineProperty(r.prototype,"isHiding",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isHiding}}),Object.defineProperty(r.prototype,"isHover",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._display.hovering()}}),Object.defineProperty(r.prototype,"isFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._root.focused(this)}}),Object.defineProperty(r.prototype,"isDragging",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isDragging}}),Object.defineProperty(r.prototype,"width",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("width"),t=this.get("maxWidth"),i=this.get("minWidth"),a=this.getPrivate("width"),o=0;if(_(a))o=a;else if(e==null)this._adjustedLocalBounds&&(o=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof L){var u=this.parent;u?o=u.innerWidth()*e.value:o=this._root.width()*e.value}else _(e)&&(o=e);return _(i)&&(o=Math.max(i,o)),_(t)&&(o=Math.min(t,o)),o}}),Object.defineProperty(r.prototype,"maxWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("maxWidth");if(_(e))return e;var t=this.get("width");if(_(t))return t;var i=this.parent;return i?i.innerWidth():this._root.width()}}),Object.defineProperty(r.prototype,"maxHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("maxHeight");if(_(e))return e;var t=this.get("height");if(_(t))return t;var i=this.parent;return i?i.innerHeight():this._root.height()}}),Object.defineProperty(r.prototype,"height",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("height"),t=this.get("maxHeight"),i=this.get("minHeight"),a=this.getPrivate("height"),o=0;if(_(a))o=a;else if(e==null)this._adjustedLocalBounds&&(o=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof L){var u=this.parent;u?o=u.innerHeight()*e.value:o=this._root.height()*e.value}else _(e)&&(o=e);return _(i)&&(o=Math.max(i,o)),_(t)&&(o=Math.min(t,o)),o}}),Object.defineProperty(r.prototype,"_findStaticTemplate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._templateField&&e(this._templateField)?this._templateField:n.prototype._findStaticTemplate.call(this,e)}}),Object.defineProperty(r.prototype,"_walkParents",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._parent&&this._walkParent(e)}}),Object.defineProperty(r.prototype,"_walkParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._parent&&this._parent._walkParent(e),e(this)}}),Object.defineProperty(r.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_setParent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!1);var i=this._parent;e!==i&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,t&&(this._removeParent(i),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}}),Object.defineProperty(r.prototype,"getNumberFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("numberFormatter",this._root.numberFormatter)}}),Object.defineProperty(r.prototype,"getDateFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("dateFormatter",this._root.dateFormatter)}}),Object.defineProperty(r.prototype,"getDurationFormatter",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.get("durationFormatter",this._root.durationFormatter)}}),Object.defineProperty(r.prototype,"toGlobal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._display.toGlobal(e)}}),Object.defineProperty(r.prototype,"toLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._display.toLocal(e)}}),Object.defineProperty(r.prototype,"_getDownPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._getDownPointId();if(e)return this._downPoints[e]}}),Object.defineProperty(r.prototype,"_getDownPointId",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this._downPoints)return Vr(this._downPoints,function(e,t){return e>t?1:e<t?-1:0})[0]}}),Object.defineProperty(r.prototype,"toFront",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}}),Object.defineProperty(r.prototype,"toBack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.parent;e&&e.children.moveValue(this,0)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),nt;(function(n){n.ADD="lighter",n.COLOR="color",n.COLOR_BURN="color-burn",n.COLOR_DODGE="color-dodge",n.DARKEN="darken",n.DIFFERENCE="difference",n.DST_OVER="destination-over",n.EXCLUSION="exclusion",n.HARD_LIGHT="hard-light",n.HUE="hue",n.LIGHTEN="lighten",n.LUMINOSITY="luminosity",n.MULTIPLY="multiply",n.NORMAL="source-over",n.OVERLAY="overlay",n.SATURATION="saturation",n.SCREEN="screen",n.SOFT_LIGHT="soft-light",n.SRC_ATOP="source-atop",n.XOR="xor"})(nt||(nt={}));var Di=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset"],ee=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeGraphics()}),Object.defineProperty(e,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._beforeChanged.call(this),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this.isDirty("fillGradient")){var t=this.get("fillGradient");if(t){this._display.isMeasured=!0;var i=t.get("target");i&&(this._disposers.push(i.events.on("boundschanged",function(){e._markDirtyKey("fill")})),this._disposers.push(i.events.on("positionchanged",function(){e._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){var t=this.get("strokeGradient");if(t){this._display.isMeasured=!0;var i=t.get("target");i&&(this._disposers.push(i.events.on("boundschanged",function(){e._markDirtyKey("stroke")})),this._disposers.push(i.events.on("positionchanged",function(){e._markDirtyKey("stroke")})))}}}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._changed.call(this),this._clear){this.markDirtyLayer(),this._display.clear();var e=this.get("strokeDasharray");_(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);var t=this.get("strokeDashoffset");t&&this._display.setLineDashOffset(t);var i=this.get("blendMode",nt.NORMAL);this._display.blendMode=i;var a=this.get("draw");a&&a(this._display,this);var o=this.get("svgPath");o!=null&&this._display.svgPath(o)}}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._afterChanged.call(this),this._clear){var e=this.get("fill"),t=this.get("fillGradient"),i=this.get("fillPattern"),a=this.get("fillOpacity"),o=this.get("stroke"),u=this.get("strokeGradient"),l=this.get("strokePattern"),s=this.get("shadowColor"),f=this.get("shadowBlur"),h=this.get("shadowOffsetX"),p=this.get("shadowOffsetY"),b=this.get("shadowOpacity");if(s&&(f||h||p)&&this._display.shadow(s,f,h,p,b),i){var v=!1;e&&(!i.get("fill")||i.get("fillInherited"))&&(i.set("fill",e),i.set("fillInherited",!0),v=!0),o&&(!i.get("color")||i.get("colorInherited"))&&(i.set("color",o),i.set("colorInherited",!0),v=!0),v&&i._changed();var c=i.pattern;c&&(this._display.beginFill(c,a),this._display.endFill())}else if(t){if(e){var d=t.get("stops",[]);d.length&&y(d,function(P){(!P.color||P.colorInherited)&&e&&(P.color=e,P.colorInherited=!0),(P.opacity==null||P.opacityInherited)&&(P.opacity=a,P.opacityInherited=!0)})}var g=t.getFill(this);g&&(this._display.beginFill(g,a),this._display.endFill())}else e&&(this._display.beginFill(e,a),this._display.endFill());if(o||u||l){var m=this.get("strokeOpacity"),w=this.get("strokeWidth",1);if(l){var v=!1;o&&(!l.get("color")||l.get("colorInherited"))&&(l.set("color",o),l.set("colorInherited",!0),v=!0),v&&l._changed();var c=l.pattern;c&&(this._display.lineStyle(w,c,m),this._display.endStroke())}else if(u){var d=u.get("stops",[]);d.length&&y(d,function(O){(!O.color||O.colorInherited)&&o&&(O.color=o,O.colorInherited=!0),(O.opacity==null||O.opacityInherited)&&(O.opacity=m,O.opacityInherited=!0)});var g=u.getFill(this);g&&(this._display.lineStyle(w,g,m),this._display.endStroke())}else o&&(this._display.lineStyle(w,o,m),this._display.endStroke())}}this._clear=!1}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xe.classNames.concat([r.className])}),r}(xe),_e=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._changed.call(this),this._clear&&!this.get("draw")&&this._draw()}}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.drawRect(0,0,this.width(),this.height())}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._clear=!0}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ee.classNames.concat([r.className])}),r}(ee),Re=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),Et=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingLeft",0),i=e.innerWidth(),a=0;e.children.each(function(u){if(u.get("position")=="relative"){var l=u.get("width");if(l instanceof L){a+=l.value;var s=i*l.value,f=u.get("minWidth",-1/0);f>s&&(i-=f,a-=l.value);var h=u.get("maxWidth",1/0);s>h&&(i-=h,a-=l.value)}else _(l)||(l=u.width()),i-=l+u.get("marginLeft",0)+u.get("marginRight",0)}}),i>0&&e.children.each(function(u){if(u.get("position")=="relative"){var l=u.get("width");if(l instanceof L){var s=i*l.value/a-u.get("marginLeft",0)-u.get("marginRight",0),f=u.get("minWidth",-1/0),h=u.get("maxWidth",1/0);s=Math.min(Math.max(f,s),h),u.setPrivate("width",s)}}});var o=t;e.children.each(function(u){if(u.get("position")=="relative"){var l=u.adjustedLocalBounds(),s=u.get("marginLeft",0),f=u.get("marginRight",0),h=o+s-l.left;u.setPrivate("x",h),o=h+l.right+f}})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([r.className])}),r}(Re),Rt=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingTop",0),i=e.innerHeight(),a=0;e.children.each(function(u){if(u.get("position")=="relative"){var l=u.get("height");if(l instanceof L){a+=l.value;var s=i*l.value,f=u.get("minHeight",-1/0);f>s&&(i-=f,a-=l.value);var h=u.get("minHeight",1/0);s>h&&(i-=h,a-=l.value)}else _(l)||(l=u.height()),i-=l+u.get("marginTop",0)+u.get("marginBottom",0)}}),i>0&&e.children.each(function(u){if(u.get("position")=="relative"){var l=u.get("height");if(l instanceof L){var s=i*l.value/a-u.get("marginTop",0)-u.get("marginBottom",0),f=u.get("minHeight",-1/0),h=u.get("maxHeight",1/0);s=Math.min(Math.max(f,s),h),u.setPrivate("height",s)}}});var o=t;e.children.each(function(u){if(u.get("position")=="relative"){var l=u.adjustedLocalBounds(),s=u.get("marginTop",0),f=u.get("marginBottom",0),h=o+s-l.top;u.setPrivate("y",h),o=h+l.bottom+f}})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([r.className])}),r}(Re),ot=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setRawDefault("maxColumns",Number.MAX_VALUE),n.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"updateContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("paddingLeft",0),i=e.get("paddingRight",0),a=e.get("paddingTop",0),o=e.maxWidth()-t-i,u=o,l=1;e.children.each(function(c){if(c.get("position")!="absolute"){var d=c.width();d<u&&(u=d),d>l&&(l=d)}}),u=V(u,1,o),l=V(l,1,o);var s=1;this.get("fixedWidthGrid")?s=o/l:s=o/u,s=Math.max(1,Math.floor(s)),s=Math.min(this.get("maxColumns",Number.MAX_VALUE),s);var f=this.getColumnWidths(e.children,s,l,o),h=a,p=0,b=0;s=f.length;var v=t;e.children.each(function(c){if(c.get("position")=="relative"&&!c.isHidden()){var d=c.get("marginTop",0),g=c.get("marginBottom",0),m=c.adjustedLocalBounds(),w=c.get("marginLeft",0),P=c.get("marginRight",0),j=v+w-m.left,O=h+d-m.top;c.setPrivate("x",j),c.setPrivate("y",O),v+=f[p]+P,b=Math.max(b,c.height()+d+g),p++,p>=s&&(p=0,v=t,h+=b)}})}}),Object.defineProperty(r.prototype,"getColumnWidths",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=this,u=0,l=[],s=0;return e.each(function(f){var h=f.adjustedLocalBounds();f.get("position")!="absolute"&&!f.isHidden()&&(o.get("fixedWidthGrid")?l[s]=i:l[s]=Math.max(l[s]|0,h.right-h.left+f.get("marginLeft",0)+f.get("marginRight",0)),s<e.length-1&&(s++,s==t&&(s=0)))}),y(l,function(f){u+=f}),u>a?t>2?(t-=1,this.getColumnWidths(e,t,i,a)):[a]:l}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Re.classNames.concat([r.className])}),r}(Re),R=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeContainer()}),Object.defineProperty(e,"children",{enumerable:!0,configurable:!0,writable:!0,value:new Hr(e)}),Object.defineProperty(e,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterNew.call(this),this._display.addChild(this._childrenDisplay)}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){$e(this.allChildren(),function(e){e.dispose()}),n.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._changed.call(this),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(function(i){i.removePrivate("x"),i.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(function(i){i.markDirtyPosition()}),this.isDirty("maskContent")){var e=this._childrenDisplay,t=this._contentMask;this.get("maskContent")?t||(t=_e.new(this._root,{width:this.width(),height:this.height()}),this._contentMask=t,e.addChildAt(t._display,0),e.mask=t._display):t&&(e.removeChild(t._display),e.mask=null,t.dispose())}}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._updateSize.call(this),y(this._percentageSizeChildren,function(e){e._updateSize()}),y(this._percentagePositionChildren,function(e){e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}}),Object.defineProperty(r.prototype,"updateBackground",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("background"),t=this._localBounds;if(t&&!this.isHidden()){var i=t.left,a=t.top,o=t.right-i,u=t.bottom-a,l=this.width(),s=this.height();e&&(e.setAll({width:o,height:u,x:i,y:a}),this._display.interactive&&(e._display.interactive=!0));var f=this._contentMask;f&&f.setAll({width:l,height:s});var h=this.get("verticalScrollbar");if(h){h.set("height",s),h.set("x",l-h.width()-h.get("marginRight",0)),h.set("end",h.get("start",0)+s/this._contentHeight);var p=h.get("background");p&&p.setAll({width:h.width(),height:s});var b=!0;this._contentHeight<=s&&(b=!1),h.setPrivate("visible",b)}}}}),Object.defineProperty(r.prototype,"_applyThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(){return n.prototype._applyThemes.call(this)?(this.eachChildren(function(e){e._applyThemes()}),!0):!1}}),Object.defineProperty(r.prototype,"_applyState",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._applyState.call(this,e),this.get("setStateOnChildren")&&this.eachChildren(function(t){t.states.apply(e)})}}),Object.defineProperty(r.prototype,"_applyStateAnimated",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){n.prototype._applyStateAnimated.call(this,e,t),this.get("setStateOnChildren")&&this.eachChildren(function(i){i.states.applyAnimate(e,t)})}}),Object.defineProperty(r.prototype,"innerWidth",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}}),Object.defineProperty(r.prototype,"innerHeight",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}}),Object.defineProperty(r.prototype,"_getBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("width"),t=this.get("height"),i=this.getPrivate("width"),a=this.getPrivate("height"),o={left:0,top:0,right:this.width(),bottom:this.height()},u=this.get("layout"),l=!1,s=!1;if((u instanceof Et||u instanceof ot)&&(l=!0),u instanceof Rt&&(s=!0),!((e!=null||i!=null)&&(t!=null||a!=null)&&!this.get("verticalScrollbar"))){var f=Number.MAX_VALUE,h=f,p=-f,b=f,v=-f,c=this.get("paddingLeft",0),d=this.get("paddingTop",0),g=this.get("paddingRight",0),m=this.get("paddingBottom",0);this.children.each(function(w){if(w.get("position")!="absolute"&&w.get("isMeasured")){var P=w.adjustedLocalBounds(),j=w.x(),O=w.y(),D=j+P.left,x=j+P.right,S=O+P.top,M=O+P.bottom;l&&(D-=w.get("marginLeft",0),x+=w.get("marginRight",0)),s&&(S-=w.get("marginTop",0),M+=w.get("marginBottom",0)),D<h&&(h=D),x>p&&(p=x),S<b&&(b=S),M>v&&(v=M)}}),h==f&&(h=0),p==-f&&(p=0),b==f&&(b=0),v==-f&&(v=0),o.left=h-c,o.top=b-d,o.right=p+g,o.bottom=v+m}this._contentWidth=o.right-o.left,this._contentHeight=o.bottom-o.top,_(e)&&(o.left=0,o.right=e),_(i)&&(o.left=0,o.right=i),_(t)&&(o.top=0,o.bottom=t),_(a)&&(o.top=0,o.bottom=a),this._localBounds=o}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("layout");e&&e.updateContainer(this),n.prototype._updateBounds.call(this),this.updateBackground()}}),Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.markDirty.call(this),this._root._addDirtyParent(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.innerWidth(),t=this.innerHeight();if(e!=this._prevWidth||t!=this._prevHeight){var i=this.get("layout"),a=!1,o=!1;i&&((i instanceof Et||i instanceof ot)&&(a=!0),i instanceof Rt&&(o=!0)),y(this._percentageSizeChildren,function(u){if(!a){var l=u.get("width");l instanceof L&&u.setPrivate("width",l.value*e)}if(!o){var s=u.get("height");s instanceof L&&u.setPrivate("height",s.value*t)}}),y(this._percentagePositionChildren,function(u){u.markDirtyPosition(),u.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=t,this._sizeDirty=!0,this.updateBackground()}this._handleStates()}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.isDirty("verticalScrollbar")){var t=this.get("verticalScrollbar");if(t){t._setParent(this),t.children.removeValue(t.startGrip),t.children.removeValue(t.endGrip),this.set("maskContent",!0),this.set("paddingRight",t.width()+t.get("marginRight",0)+t.get("marginLeft",0));var i=this.get("background");i||(i=this.set("background",_e.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._disposers.push(this.events.on("wheel",function(l){var s=l.originalEvent;s.preventDefault();var f=s.deltaY/5e3,h=t.get("start",0),p=t.get("end",1);h+f>0&&p+f<1&&(t.set("start",h+f),t.set("end",p+f))})),this._disposers.push(t.events.on("rangechanged",function(){var l=e._contentHeight,s=e._childrenDisplay,f=e._contentMask;s.y=-t.get("start")*l,s.markDirtyLayer(),f&&(f._display.y=-s.y,s.mask=f._display)})),this._display.addChild(t._display)}}if(this.isDirty("background")){var a=this._prevSettings.background;a&&this._display.removeChild(a._display);var i=this.get("background");i instanceof xe&&(i.set("isMeasured",!1),i._setParent(this),this._display.addChildAt(i._display,0))}if(this.isDirty("mask")){var o=this.get("mask"),a=this._prevSettings.mask;if(a&&(this._display.removeChild(a._display),a!=o&&a.dispose()),o){var u=o.parent;u&&u.children.removeValue(o),o._setParent(this),this._display.addChildAt(o._display,0),this._childrenDisplay.mask=o._display}}}}),Object.defineProperty(r.prototype,"_processTemplateField",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._processTemplateField.call(this),this.children.each(function(e){e._processTemplateField()})}}),Object.defineProperty(r.prototype,"walkChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.children.each(function(t){t instanceof r&&t.walkChildren(e),e(t)})}}),Object.defineProperty(r.prototype,"eachChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("background");t&&e(t);var i=this.get("verticalScrollbar");i&&e(i);var a=this.get("mask");a&&e(a),this.children.values.forEach(function(o){e(o)})}}),Object.defineProperty(r.prototype,"allChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=[];return this.eachChildren(function(t){e.push(t)}),e}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xe.classNames.concat([r.className])}),r}(xe),Ti=function(){function n(){var r=this;Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(function(e){y(e,function(t){y(r._targets,function(i){i.target===t.target&&i.callback()})})})}return Object.defineProperty(n.prototype,"addTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){this._observer.observe(r,{box:"content-box"}),this._targets.push({target:r,callback:e})}}),Object.defineProperty(n.prototype,"removeTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._observer.unobserve(r),Ze(this._targets,function(e){return e.target!==r})}}),n}(),Ci=function(){function n(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(n.prototype,"addTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;if(this._timer===null){var i=null,a=function(){var u=Date.now();(i===null||u>i+n.delay)&&(i=u,y(t._targets,function(l){var s=l.target.getBoundingClientRect();(s.width!==l.size.width||s.height!==l.size.height)&&(l.size=s,l.callback())})),t._targets.length===0?t._timer=null:t._timer=requestAnimationFrame(a)};this._timer=requestAnimationFrame(a)}var o={width:0,height:0,left:0,right:0,top:0,bottom:0};this._targets.push({target:r,callback:e,size:o})}}),Object.defineProperty(n.prototype,"removeTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Ze(this._targets,function(e){return e.target!==r}),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}),Object.defineProperty(n,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200}),n}(),ut=null;function Si(){return ut===null&&(typeof ResizeObserver!="undefined"?ut=new Ti:ut=new Ci),ut}var Ai=function(){function n(r,e){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=Si(),this._element=r,this._sensor.addTarget(r,e)}return Object.defineProperty(n.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._disposed}}),Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element))}}),Object.defineProperty(n.prototype,"sensor",{get:function(){return this._sensor},enumerable:!1,configurable:!0}),n}(),Mi=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),be=function(){function n(){}return Object.defineProperty(n,"escape",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}}),Object.defineProperty(n,"unescape",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}}),Object.defineProperty(n,"cleanUp",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return r.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}}),Object.defineProperty(n,"chunk",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=[];r=this.escape(r);for(var a=e?r.split("'"):[r],o=0;o<a.length;o++){var u=a[o];if(u!=="")if(o%2==0){u=u.replace(/\]\[/g,"]"+Pe+"["),u=u.replace(/\[\]/g,"[ ]");for(var l=u.split(/[\[\]]+/),s=0;s<l.length;s++){var f=this.cleanUp(this.unescape(l[s]));f!==Pe&&f!==""&&(s%2==0?i.push({type:"value",text:f}):i.push({type:t?"value":"format",text:"["+f+"]"}))}}else for(var l=u.split(/[\[\]]+/),s=0;s<l.length;s++){var f=this.cleanUp(this.unescape(l[s]));f!==""&&(s%2==0?i.push({type:"text",text:f}):this.isImage(f)?i.push({type:"image",text:"["+f+"]"}):i.push({type:"format",text:"["+f+"]"}))}}return i}}),Object.defineProperty(n,"isImage",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return!!r.match(/img[ ]?:/)}}),Object.defineProperty(n,"getTextStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e={};if(r==""||r=="[ ]")return{};var t=r.match(/('[^']*')|("[^"]*")/gi);if(t)for(var i=0;i<t.length;i++)r=r.replace(t[i],t[i].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));var a=r.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w]+)|(\/)/gi);if(!a)return{};for(var i=0;i<a.length;i++)if(a[i].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))e.fontWeight=a[i];else if(a[i].match(/^(underline)$/i))e.textDecoration=a[i];else if(a[i]!="/")if(!a[i].match(/:/))e.fill=E.fromString(a[i]);else{var o=a[i].split(/:[ ]*/);e[o[0]]=o[1]}return e}}),Object.defineProperty(n,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"}),n}();function Bt(n,r){if(r!=null){r=""+r,r=be.escape(r);var e=r.match(/\{([^}]+)\}/g),t=void 0;if(e)for(t=0;t<e.length;t++){var i=e[t].replace(/\{([^}]+)\}/,"$1"),a=Lt(n,i);a==null&&(a=""),r=r.split(e[t]).join(a)}r=be.unescape(r)}else r="";return r}function Lt(n,r,e){for(var t,i=n.dataItem,a=[],o=/([^.]+)\(([^)]*)\)|([^.]+)/g,u;u=o.exec(r),u!==null;)if(u[3]){a.push({prop:u[3]});var l=n.getDateFormatter().get("dateFields",[]),s=n.getNumberFormatter().get("numericFields",[]),f=n.getDurationFormatter().get("durationFields",[]);l.indexOf(u[3])!==-1?a.push({method:"formatDate",params:[]}):s.indexOf(u[3])!==-1?a.push({method:"formatNumber",params:[]}):f.indexOf(u[3])!==-1&&a.push({method:"formatDuration",params:[]})}else{var h=[];if(Tt(u[2])!="")for(var p=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,b=void 0;b=p.exec(u[2]),b!==null;)h.push(b[1]||b[2]||b[3]);a.push({method:u[1],params:h})}if(i){t=Ce(n,a,i._settings),(t==null||mt(t))&&(t=Ce(n,a,i));var v=i.dataContext;t==null&&v&&(t=Ce(n,a,v),t==null&&(t=Ce(n,[{prop:r}],v)),t==null&&v.dataContext&&(t=Ce(n,a,v.dataContext))),t==null&&i.component&&i.component.dataItem!==i&&(t=Lt(i.component,r))}return t==null&&(t=Ce(n,a,n)),t==null&&n.parent&&(t=Lt(n.parent,r)),t}function Ce(n,r,e,t){for(var i=e,a=!1,o=0,u=r.length;o<u;o++){var l=r[o];if(l.prop){if(i instanceof xe?i=i.get(l.prop)||i.getPrivate(l.prop)||i[l.prop]:i.get?i=i.get(l.prop)||i[l.prop]:i=i[l.prop],i==null)return}else switch(l.method){case"formatNumber":var s=ae(i);s!=null&&(i=n.getNumberFormatter().format(s,t||l.params[0]||void 0),a=!0);break;case"formatDate":var f=Rr(i);if(!yt(f)||Ae(f.getTime()))return;f!=null&&(i=n.getDateFormatter().format(f,t||l.params[0]||void 0),a=!0);break;case"formatDuration":var h=ae(i);h!=null&&(i=n.getDurationFormatter().format(h,t||l.params[0]||void 0,l.params[1]||void 0),a=!0);break;case"urlEncode":case"encodeURIComponent":i=encodeURIComponent(i);break;default:i[l.method]&&i[l.method].apply(e,l.params);break}}if(!a){var p=[{method:"",params:t}];if(t==null)_(i)?(p[0].method="formatNumber",p[0].params=""):yt(i)&&(p[0].method="formatDate",p[0].params="");else{var b=ri(t);b==="number"?p[0].method="formatNumber":b==="date"?p[0].method="formatDate":b==="duration"&&(p[0].method="formatDuration")}p[0].method&&(i=Ce(n,p,i))}return i}var ki=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeTextStyle()}),Object.defineProperty(e,"_display",{enumerable:!0,configurable:!0,writable:!0,value:e._root._renderer.makeText("",e.textStyle)}),Object.defineProperty(e,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale"]}),Object.defineProperty(e,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.get("text"))n.prototype._updateBounds.call(this);else{var e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._changed.call(this),this._display.clear();var t=this.textStyle;if(this.isDirty("opacity")){var i=this.get("opacity",1);this._display.alpha=i}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isDirty("width")&&(t.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(t.oversizedBehavior=this.get("oversizedBehavior","none"),this.markDirtyBounds()),this.isDirty("breakWords")&&(t.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(t.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(t.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(t.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")){var a=this.get("fill");a&&(t.fill=a)}this.isDirty("maxWidth")&&(t.maxWidth=this.get("maxWidth"),this.markDirtyBounds()),this.isDirty("maxHeight")&&(t.maxHeight=this.get("maxHeight"),this.markDirtyBounds()),y(this._textStyles,function(o){e._dirty[o]&&(t[o]=e.get(o),e.markDirtyBounds())}),t.fontSize=this.get("fontSize"),t.fontFamily=this.get("fontFamily"),this._display.style=t,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}}),Object.defineProperty(r.prototype,"_getText",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("text","");return this.get("populateText")?Bt(this,e):e}}),Object.defineProperty(r.prototype,"markDirtyText",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._setDataItem.call(this,e),this.get("populateText")&&this.markDirtyText()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xe.classNames.concat([r.className])}),r}(xe),lt=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting"]}),e}return Object.defineProperty(r.prototype,"text",{get:function(){return this._text},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._afterNew.call(this),this._makeText(),y(this._textKeys,function(t){var i=e.get(t);i!=null&&e._text.set(t,i)})}}),Object.defineProperty(r.prototype,"_makeText",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._text=this.children.push(ki.new(this._root,{}))}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._updateChildren.call(this),y(this._textKeys,function(a){e._text.set(a,e.get(a))}),this.isDirty("maxWidth")&&this._setMaxDimentions(),this.isDirty("maxHeight")&&this._setMaxDimentions(),this.isDirty("rotation")&&this._setMaxDimentions(),this.isDirty("textAlign")||this.isDirty("width")){var t=this.get("textAlign"),i=void 0;this.get("width")!=null?t=="right"?i=C:t=="center"?i=N:i=0:t=="left"||t=="start"?i=this.get("paddingLeft"):(t=="right"||t=="end")&&(i=-this.get("paddingRight")),this.text.set("x",i)}}}),Object.defineProperty(r.prototype,"_setMaxDimentions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("rotation"),t=e==90||e==270,i=this.get("maxWidth",1/0);_(i)?this.text.set(t?"maxHeight":"maxWidth",i-this.get("paddingLeft",0)-this.get("paddingRight",0)):this.text.set(t?"maxHeight":"maxWidth",void 0);var a=this.get("maxHeight",1/0);_(a)?this.text.set(t?"maxWidth":"maxHeight",a-this.get("paddingTop",0)-this.get("paddingBottom",0)):this.text.set(t?"maxWidth":"maxHeight",void 0)}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._setDataItem.call(this,e),this._markDirtyKey("text"),this.text.get("populateText")&&this.text.markDirtyText()}}),Object.defineProperty(r.prototype,"getText",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._text._getText()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([r.className])}),r}(R),Ft=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._changed.call(this),this._clear){this.markDirtyBounds();var e=this.width(),t=this.height();if(e>0&&t>0){var i=this.get("cornerRadius",8);i=V(i,0,Math.min(e/2,t/2));var a=this.get("pointerX",0),o=this.get("pointerY",0),u=this.get("pointerBaseWidth",15)/2,l=0,s=0,f=e,h=0,p=e,b=t,v=0,c=t,d=(a-l)*(b-s)-(o-s)*(p-l),g=(a-v)*(h-c)-(o-c)*(f-v),m=this._display;if(m.moveTo(i,0),d>0&&g>0){var w=Math.round(V(a,i+u,e-u-i));o=V(o,-1/0,0),m.lineTo(w-u,0),m.lineTo(a,o),m.lineTo(w+u,0)}if(m.lineTo(e-i,0),m.arcTo(e,0,e,i,i),d>0&&g<0){var P=Math.round(V(o,i+u,t-u-i));a=V(a,e,1/0),m.lineTo(e,i),m.lineTo(e,P-u),m.lineTo(a,o),m.lineTo(e,P+u)}if(m.lineTo(e,t-i),m.arcTo(e,t,e-i,t,i),d<0&&g<0){var w=Math.round(V(a,i+u,e-u-i));o=V(o,t,1/0),m.lineTo(e-i,t),m.lineTo(w+u,t),m.lineTo(a,o),m.lineTo(w-u,t)}if(m.lineTo(i,t),m.arcTo(0,t,0,t-i,i),d<0&&g>0){var P=Math.round(V(o,i+u,t-i-u));a=V(a,-1/0,0),m.lineTo(0,t-i),m.lineTo(0,P+u),m.lineTo(a,o),m.lineTo(0,P-u)}m.lineTo(0,i),m.arcTo(0,0,i,0,i)}}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ee.classNames.concat([r.className])}),r}(ee),pr=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_arrangeDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._settings.themeTags=W(this._settings.themeTags,["tooltip"]),n.prototype._afterNew.call(this),this.set("background",Ft.new(this._root,{themeTags:["tooltip","background"]})),this._label=this.children.push(lt.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",function(){e._updateBackground()})),this.on("bounds",function(){e._updateBackground()}),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._root._tooltips.push(this)}}),Object.defineProperty(r.prototype,"label",{get:function(){return this._label},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.dispose.call(this),de(this._root._tooltips,this)}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._updateChildren.call(this);var e=this.get("labelText");e!=null&&this.label.set("text",this.get("labelText"))}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._changed.call(this),this.isDirty("pointTo")&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor()}}),Object.defineProperty(r.prototype,"_onShow",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._onShow.call(this),this.updateBackgroundColor()}}),Object.defineProperty(r.prototype,"updateBackgroundColor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("tooltipTarget"),i=this.get("background"),a,o;t&&i&&(a=t.get("fill"),o=t.get("stroke"),a==null&&(a=o),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),a!=null&&i.set("fill",a),this._fillDp=t.on("fill",function(u){u!=null&&(i.set("fill",u),e._updateTextColor(u))})),this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),a!=null&&i.set("stroke",a),this._strokeDp=t.on("fill",function(u){u!=null&&i.set("stroke",u)})),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),a!=null&&this.label.set("fill",a),this._labelDp=t.on("fill",function(u){u!=null&&e.label.set("fill",u)}))),this._updateTextColor(a)}}),Object.defineProperty(r.prototype,"_updateTextColor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof E&&this.label.set("fill",E.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}}),Object.defineProperty(r.prototype,"_setDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._setDataItem.call(this,e),this.label._setDataItem(e)}}),Object.defineProperty(r.prototype,"_updateBackground",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.updateBackground.call(this);var e=this._root.container;if(e){var t=.5,i=.5,a=this.get("centerX");a instanceof L&&(t=a.value);var o=this.get("centerY");o instanceof L&&(i=o.value);var u=e.width(),l=e.height(),s=this.get("bounds",{left:0,top:0,right:u,bottom:l});this._updateBounds();var f=this.width(),h=this.height();f===0&&(f=this._w),h===0&&(h=this._h);var p=this.get("pointTo",{x:u/2,y:l/2}),b=p.x,v=p.y,c=this.get("pointerOrientation"),d=this.get("background"),g=0;d instanceof Ft&&(g=d.get("pointerLength",0));var m=0,w=0,P=s.right-s.left,j=s.bottom-s.top;c=="horizontal"||c=="left"||c=="right"?c=="horizontal"?b>s.left+P/2?b-=f*(1-t)+g:b+=f*t+g:c=="left"?b+=f*(1-t)+g:b-=f*t+g:c=="vertical"?v>s.top+h/2+g?v-=h*(1-i)+g:v+=h*i+g:c=="down"?v-=h*(1-i)+g:v+=h*i+g,b=V(b,s.left+f*t,s.left+P-f*(1-t)),v=V(v,s.top+h*i,s.top+j-h*(1-i)),m=p.x-b+f*t,w=p.y-v+h*i,this._fx=b,this._fy=v;var O=this.get("animationDuration",0);if(O>0&&this.get("visible")&&this.get("opacity")>.1){var D=this.get("animationEasing");this.animate({key:"x",to:b,duration:O,easing:D}),this.animate({key:"y",to:v,duration:O,easing:D})}else this.set("x",b),this.set("y",v);d instanceof Ft&&(d.set("pointerX",m),d.set("pointerY",w)),f>0&&(this._w=f),h>0&&(this._h=h)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([r.className])}),r}(R),Ei=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);var e="_big_number_suffix_",t="_small_number_suffix_",i="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(t+"24")},{number:1e-21,suffix:this._t(t+"21")},{number:1e-18,suffix:this._t(t+"18")},{number:1e-15,suffix:this._t(t+"15")},{number:1e-12,suffix:this._t(t+"12")},{number:1e-9,suffix:this._t(t+"9")},{number:1e-6,suffix:this._t(t+"6")},{number:.001,suffix:this._t(t+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(i+"B")},{number:1024,suffix:this._t(i+"KB")},{number:1048576,suffix:this._t(i+"MB")},{number:1073741824,suffix:this._t(i+"GB")},{number:1099511627776,suffix:this._t(i+"TB")},{number:1125899906842624,suffix:this._t(i+"PB")}]),n.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){(t==null||Ie(t)&&t.toLowerCase()==="number")&&(t=this.get("numberFormat",""));var a,o=Number(e);if(mt(t))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),t).format(o):new Intl.NumberFormat(void 0,t).format(o)}catch{return"Invalid"}else{t=Ct(t);var u=this.parseFormat(t,this._root.language),l=void 0;o>this.get("negativeBase")?l=u.positive:o<this.get("negativeBase")?l=u.negative:l=u.zero,i!=null&&!l.mod&&(l=ze(l),l.decimals.active=o==0?0:i),a=l.template.split(Pe).join(this.applyFormat(o,l))}return a}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=t.translateEmpty("_thousandSeparator"),o=t.translateEmpty("_decimalSeparator"),u={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:a},decimals:{active:-1,passive:-1,separator:o},template:"",source:"",parsed:!1}};e=e.replace("||",Me);var l=e.split("|");return u.positive.source=l[0],typeof l[2]=="undefined"?u.zero=u.positive:u.zero.source=l[2],typeof l[1]=="undefined"?u.negative=u.positive:u.negative.source=l[1],I(u,function(s,f){if(!f.parsed){var h=f.source;h.toLowerCase()==="number"&&(h=i.get("numberFormat","#,###.#####"));for(var p=be.chunk(h,!0),b=0;b<p.length;b++){var v=p[b];if(v.text=v.text.replace(Me,"|"),v.type==="value"){var c=v.text.match(/[#0.,]+[ ]?[abesABES%!]?[abesABES!]?/);if(c)if(c===null||c[0]==="")f.template+=v.text;else{var d=c[0].match(/[abesABES%!]{2}|[abesABES%]{1}$/);d&&(f.mod=d[0].toLowerCase(),f.modSpacing=!!c[0].match(/[ ]{1}[abesABES%!]{1}$/));var g=c[0].split(".");if(g[0]!==""){f.thousands.active=(g[0].match(/0/g)||[]).length,f.thousands.passive=(g[0].match(/\#/g)||[]).length+f.thousands.active;var m=g[0].split(",");m.length===1||(f.thousands.interval=(m.pop()||"").length,f.thousands.interval===0&&(f.thousands.interval=-1))}typeof g[1]=="undefined"||(f.decimals.active=(g[1].match(/0/g)||[]).length,f.decimals.passive=(g[1].match(/\#/g)||[]).length+f.decimals.active),f.template+=v.text.split(c[0]).join(Pe)}}else f.template+=v.text}f.parsed=!0}}),u}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e<0;e=Math.abs(e);var a="",o="",u=t.mod?t.mod.split(""):[];if(u.indexOf("b")!==-1){var l=this.applyPrefix(e,this.get("bytePrefixes"),u.indexOf("!")!==-1);e=l[0],a=l[1],o=l[2],t.modSpacing&&(o=" "+o)}else if(u.indexOf("a")!==-1){var s=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),u.indexOf("!")!==-1);e=s[0],a=s[1],o=s[2],t.modSpacing&&(o=" "+o)}else if(u.indexOf("%")!==-1){var f=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(f)),o="%"}else if(u.indexOf("\u2030")!==-1){var f=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(f)),o="\u2030"}if(u.indexOf("e")!==-1){var h=void 0;t.decimals.passive>=0?h=e.toExponential(t.decimals.passive).split("e"):h=e.toExponential().split("e"),e=Number(h[0]),o="e"+h[1],t.modSpacing&&(o=" "+o)}else if(t.decimals.passive===0)e=Math.round(e);else if(t.decimals.passive>0){var p=Math.pow(10,t.decimals.passive);e=Math.round(e*p)/p}var b="",v=Br(e).split("."),c=v[0];if(c.length<t.thousands.active&&(c=Array(t.thousands.active-c.length+1).join("0")+c),t.thousands.interval>0){for(var d=[],g=c.split("").reverse().join(""),m=0,w=c.length;m<=w;m+=t.thousands.interval){var P=g.substr(m,t.thousands.interval).split("").reverse().join("");P!==""&&d.unshift(P)}c=d.join(t.thousands.separator)}b+=c,v.length===1&&v.push("");var j=v[1];return j.length<t.decimals.active&&(j+=Array(t.decimals.active-j.length+1).join("0")),j!==""&&(b+=t.decimals.separator+j),b===""&&(b="0"),e!==0&&i&&u.indexOf("s")===-1&&(b="-"+b),a&&(b=a+b),o&&(b+=o),b}}),Object.defineProperty(r.prototype,"applyPrefix",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){i===void 0&&(i=!1);for(var a=e,o="",u="",l=!1,s=1,f=0,h=t.length;f<h;f++)t[f].number<=e&&(t[f].number===0?a=0:(a=e/t[f].number,s=t[f].number),o=t[f].prefix,u=t[f].suffix,l=!0);return!l&&i&&t.length&&e!=0&&(a=e/t[0].number,o=t[0].prefix,u=t[0].suffix,l=!0),l&&(a=parseFloat(a.toPrecision(Math.min(s.toString().length+Math.floor(a).toString().replace(/[^0-9]*/g,"").length,21)))),[a,o,u]}}),Object.defineProperty(r.prototype,"escape",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.replace("||",Me)}}),Object.defineProperty(r.prototype,"unescape",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e.replace(Me,"|")}}),r}(re),Ri=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),n.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){(typeof t=="undefined"||t==="")&&(t=this.get("dateFormat","yyyy-MM-dd"));var i,a=e;if(mt(t))try{var o=this.get("intlLocales");return o?new Intl.DateTimeFormat(o,t).format(a):new Intl.DateTimeFormat(void 0,t).format(a)}catch{return"Invalid"}var u=this.parseFormat(t),l=this._root.timezone;return l&&!this._root.utc&&(a=l.convertLocal(a)),_(a.getTime())?(i=this.applyFormat(a,u),this.get("capitalize")&&(i=i.replace(/^.{1}/,i.substr(0,1).toUpperCase())),i):"Invalid date"}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.template,a,o,u,l,s,f,h,p,b=e.getTimezoneOffset(),v=e.getTime();this._root.utc?(a=e.getUTCFullYear(),o=e.getUTCMonth(),u=e.getUTCDay(),l=e.getUTCDate(),s=e.getUTCHours(),f=e.getUTCMinutes(),h=e.getUTCSeconds(),p=e.getUTCMilliseconds()):(a=e.getFullYear(),o=e.getMonth(),u=e.getDay(),l=e.getDate(),s=e.getHours(),f=e.getMinutes(),h=e.getSeconds(),p=e.getMilliseconds());for(var c=0,d=t.parts.length;c<d;c++){var g="";switch(t.parts[c]){case"G":g=this._t(a<0?"_era_bc":"_era_ad");break;case"yyyy":g=Math.abs(a).toString(),a<0&&(g+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":g=Math.abs(a).toString().substr(-t.parts[c].length),a<0&&(g+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":var m=Xe(e),w=a;m==1&&u>4&&w--,t.parts[c]=="YYYY"?g=Math.abs(w).toString():g=Math.abs(w).toString().substr(-t.parts[c].length),w<0&&(g+=this._t("_era_bc"));break;case"u":break;case"q":g=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":g=this._t(this._getMonth(o)).substr(0,1);break;case"MMMM":g=this._t(this._getMonth(o));break;case"MMM":g=this._t(this._getShortMonth(o));break;case"MM":g=X(o+1,2,"0");break;case"M":g=(o+1).toString();break;case"ww":g=X(Xe(e,this._root.utc),2,"0");break;case"w":g=Xe(e,this._root.utc).toString();break;case"W":g=ii(e,this._root.utc).toString();break;case"dd":g=X(l,2,"0");break;case"d":g=l.toString();break;case"DD":case"DDD":g=X(St(e,this._root.utc).toString(),t.parts[c].length,"0");break;case"D":g=St(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":g=this._root.language.translateFunc("_dateOrd").call(this,l);break;case"E":g=(u||7).toString();break;case"EE":g=X((u||7).toString(),2,"0");break;case"EEE":case"eee":g=this._t(this._getShortWeekday(u));break;case"EEEE":case"eeee":g=this._t(this._getShortWeekday(u));break;case"EEEEE":case"eeeee":g=this._t(this._getShortWeekday(u)).substr(0,1);break;case"e":case"ee":g=(u-(this._root.locale.firstDayOfWeek||1)+1).toString(),t.parts[c]=="ee"&&(g=X(g,2,"0"));break;case"a":s>=12?g=this._t("PM"):g=this._t("AM");break;case"aa":s>=12?g=this._t("P.M."):g=this._t("A.M.");break;case"aaa":s>=12?g=this._t("P"):g=this._t("A");break;case"h":g=et(s).toString();break;case"hh":g=X(et(s),2,"0");break;case"H":g=s.toString();break;case"HH":g=X(s,2,"0");break;case"K":g=et(s,0).toString();break;case"KK":g=X(et(s,0),2,"0");break;case"k":g=(s+1).toString();break;case"kk":g=X(s+1,2,"0");break;case"m":g=f.toString();break;case"mm":g=X(f,2,"0");break;case"s":g=h.toString();break;case"ss":g=X(h,2,"0");break;case"S":case"SS":case"SSS":g=Math.round(p/1e3*Math.pow(10,t.parts[c].length)).toString();break;case"x":g=v.toString();break;case"n":case"nn":case"nnn":g=X(p,t.parts[c].length,"0");break;case"z":g=tt(e,!1,!1,this._root.utc);break;case"zz":g=tt(e,!0,!1,this._root.utc);break;case"zzz":g=tt(e,!1,!0,this._root.utc);break;case"zzzz":g=tt(e,!0,!0,this._root.utc);break;case"Z":case"ZZ":var P=Math.abs(b)/60,j=Math.floor(P),O=P*60-j*60;this._root.utc&&(j=0,O=0),t.parts[c]=="Z"?(g="GMT",g+=b>0?"-":"+",g+=X(j,2)+":"+X(O,2)):(g=b>0?"-":"+",g+=X(j,2)+X(O,2));break;case"i":g=e.toISOString();break;case"I":g=e.toUTCString();break}i=i.replace(Pe,g)}return i}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t={template:"",parts:[]},i=be.chunk(e,!0),a=0;a<i.length;a++){var o=i[a];if(o.type==="value"){if(o.text.match(/^date$/i)){var u=this.get("dateFormat","yyyy-MM-dd");Ie(u)||(u="yyyy-MM-dd"),o.text=u}var l=o.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(l)for(var s=0;s<l.length;s++)t.parts.push(l[s]),o.text=o.text.replace(l[s],Pe)}t.template+=o.text}return t}}),Object.defineProperty(r.prototype,"_months",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}}),Object.defineProperty(r.prototype,"_getMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._months()[e]}}),Object.defineProperty(r.prototype,"_shortMonths",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}}),Object.defineProperty(r.prototype,"_getShortMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._shortMonths()[e]}}),Object.defineProperty(r.prototype,"_weekdays",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}}),Object.defineProperty(r.prototype,"_getWeekday",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._weekdays()[e]}}),Object.defineProperty(r.prototype,"_shortWeekdays",{enumerable:!1,configurable:!0,writable:!0,value:function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}),Object.defineProperty(r.prototype,"_getShortWeekday",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._shortWeekdays()[e]}}),Object.defineProperty(r.prototype,"parse",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(e instanceof Date)return e;if(_(e))return new Date(e);Ie(e)||(e=e.toString());var i,a="";t=Ct(t),t=t.substr(0,e.length);for(var o=this.parseFormat(t),u={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:this._root.utc},s=0,f=0,h=0;h<o.parts.length;h++){switch(f=h+s+1,o.parts[h]){case"yyyy":case"YYYY":a+="([0-9]{4})",u.year=f;break;case"yyy":case"YYY":a+="([0-9]{3})",u.year3=f;break;case"yy":case"YY":a+="([0-9]{2})",u.year2=f;break;case"y":case"Y":a+="([0-9]{1})",u.year1=f;break;case"MMMM":a+="("+this.getStringList(this._months()).join("|")+")",u.monthLong=f;break;case"MMM":a+="("+this.getStringList(this._shortMonths()).join("|")+")",u.monthShort=f;break;case"MM":case"M":a+="([0-9]{2}|[0-9]{1})",u.month=f;break;case"ww":case"w":a+="([0-9]{2}|[0-9]{1})",u.week=f;break;case"dd":case"d":a+="([0-9]{2}|[0-9]{1})",u.day=f;break;case"DDD":case"DD":case"D":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",u.yearDay=f;break;case"dddd":a+="("+this.getStringList(this._weekdays()).join("|")+")",u.weekdayLong=f;break;case"ddd":a+="("+this.getStringList(this._shortWeekdays()).join("|")+")",u.weekdayShort=f;break;case"aaa":case"aa":case"a":a+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",u.am=f;break;case"hh":case"h":a+="([0-9]{2}|[0-9]{1})",u.hour12Base1=f;break;case"HH":case"H":a+="([0-9]{2}|[0-9]{1})",u.hourBase0=f;break;case"KK":case"K":a+="([0-9]{2}|[0-9]{1})",u.hour12Base0=f;break;case"kk":case"k":a+="([0-9]{2}|[0-9]{1})",u.hourBase1=f;break;case"mm":case"m":a+="([0-9]{2}|[0-9]{1})",u.minute=f;break;case"ss":case"s":a+="([0-9]{2}|[0-9]{1})",u.second=f;break;case"SSS":case"SS":case"S":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",u.millisecond=f,u.millisecondDigits=o.parts[h].length;break;case"nnn":case"nn":case"n":a+="([0-9]{3}|[0-9]{2}|[0-9]{1})",u.millisecond=f;break;case"x":a+="([0-9]{1,})",u.timestamp=f;break;case"Z":a+="GMT([-+]+[0-9]{2}:[0-9]{2})",u.zone=f;break;case"ZZ":a+="([\\-+]+[0-9]{2}[0-9]{2})",u.zone=f;break;case"i":a+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2}).?([0-9]{0,3})([zZ]|[+-][0-9]{2}:?[0-9]{2}|$)",u.iso=f,s+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":s--;break}a+="[^0-9]*"}var p=new RegExp(a),b=e.match(p);if(b){if(u.year>-1&&(l.year=parseInt(b[u.year])),u.year3>-1){var v=parseInt(b[u.year3]);v+=1e3,l.year=v}if(u.year2>-1){var v=parseInt(b[u.year2]);v>50?v+=1e3:v+=2e3,l.year=v}if(u.year1>-1){var v=parseInt(b[u.year1]);v=Math.floor(new Date().getFullYear()/10)*10+v,l.year=v}if(u.monthLong>-1&&(l.month=this.resolveMonth(b[u.monthLong])),u.monthShort>-1&&(l.month=this.resolveShortMonth(b[u.monthShort])),u.month>-1&&(l.month=parseInt(b[u.month])-1),u.week>-1&&u.day===-1&&(l.month=0,l.day=ai(parseInt(b[u.week]),l.year,1,this._root.utc)),u.day>-1&&(l.day=parseInt(b[u.day])),u.yearDay>-1&&(l.month=0,l.day=parseInt(b[u.yearDay])),u.hourBase0>-1&&(l.hour=parseInt(b[u.hourBase0])),u.hourBase1>-1&&(l.hour=parseInt(b[u.hourBase1])-1),u.hour12Base0>-1){var v=parseInt(b[u.hour12Base0]);v==11&&(v=0),u.am>-1&&!this.isAm(b[u.am])&&(v+=12),l.hour=v}if(u.hour12Base1>-1){var v=parseInt(b[u.hour12Base1]);v==12&&(v=0),u.am>-1&&!this.isAm(b[u.am])&&(v+=12),l.hour=v}if(u.minute>-1&&(l.minute=parseInt(b[u.minute])),u.second>-1&&(l.second=parseInt(b[u.second])),u.millisecond>-1){var v=parseInt(b[u.millisecond]);u.millisecondDigits==2?v*=10:u.millisecondDigits==1&&(v*=100),l.millisecond=v}if(u.timestamp>-1){l.timestamp=parseInt(b[u.timestamp]);var c=new Date(l.timestamp);l.year=c.getUTCFullYear(),l.month=c.getUTCMonth(),l.day=c.getUTCDate(),l.hour=c.getUTCHours(),l.minute=c.getUTCMinutes(),l.second=c.getUTCSeconds(),l.millisecond=c.getUTCMilliseconds()}u.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),b[u.zone])),u.iso>-1&&(l.year=ae(b[u.iso+0]),l.month=ae(b[u.iso+1])-1,l.day=ae(b[u.iso+2]),l.hour=ae(b[u.iso+3]),l.minute=ae(b[u.iso+4]),l.second=ae(b[u.iso+5]),l.millisecond=ae(b[u.iso+6]),b[u.iso+7]=="Z"||b[u.iso+7]=="z"?l.utc=!0:b[u.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),b[u.iso+7]))),l.utc?i=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):i=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else i=new Date(e);return i}}),Object.defineProperty(r.prototype,"resolveTimezoneOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/);if(i){var a=t.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),o=a[1],u=a[2],l=a[3],s=parseInt(u)*60+parseInt(l);o=="+"&&(s*=-1);var f=(e||new Date).getTimezoneOffset(),h=s-f;return h}return 0}}),Object.defineProperty(r.prototype,"resolveMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._months().indexOf(e);return t>-1||!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._months()).indexOf(e),t>-1)?t:0}}),Object.defineProperty(r.prototype,"resolveShortMonth",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._shortMonths().indexOf(e);return t>-1||(t=this._months().indexOf(e),t>-1)||this._root.language&&!this._root.language.isDefault()&&(t=this._root.language.translateAll(this._shortMonths()).indexOf(e),t>-1)?t:0}}),Object.defineProperty(r.prototype,"isAm",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getStringList(["AM","A.M.","A"]);return t.indexOf(e.toUpperCase())>-1}}),Object.defineProperty(r.prototype,"getStringList",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=[],i=0;i<e.length;i++)this._root.language?t.push(er(this._t(e[i]))):t.push(er(e[i]));return t}}),r}(re),Bi=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}}),e}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="_duration_millisecond",t="_duration_second",i="_duration_minute",a="_duration_hour",o="_duration_day",u="_duration_week",l="_duration_month",s="_duration_year",f="_second",h="_minute",p="_hour",b="_day",v="_week",c="_week",d="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+f),minute:this._t(e+h),hour:this._t(e+p),day:this._t(e+b),week:this._t(e+v),month:this._t(e+c),year:this._t(e+d)},second:{second:this._t(t),minute:this._t(t+h),hour:this._t(t+p),day:this._t(t+b),week:this._t(t+v),month:this._t(t+c),year:this._t(t+d)},minute:{minute:this._t(i),hour:this._t(i+p),day:this._t(i+b),week:this._t(i+v),month:this._t(i+c),year:this._t(i+d)},hour:{hour:this._t(a),day:this._t(a+b),week:this._t(a+v),month:this._t(a+c),year:this._t(a+d)},day:{day:this._t(o),week:this._t(o+v),month:this._t(o+c),year:this._t(o+d)},week:{week:this._t(u),month:this._t(u+c),year:this._t(u+d)},month:{month:this._t(l),year:this._t(l+d)},year:{year:this._t(s)}}),n.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this)}}),Object.defineProperty(r.prototype,"format",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=i||this.get("baseUnit");(typeof t=="undefined"||t==="")&&(this.get("durationFormat")!=null?t=this.get("durationFormat"):t=this.getFormat(ae(e),void 0,a)),t=Ct(t);var o=this.parseFormat(t,a),u=Number(e),l;u>this.get("negativeBase")?l=o.positive:u<this.get("negativeBase")?l=o.negative:l=o.zero;var s=this.applyFormat(u,l);return l.color!==""&&(s="["+l.color+"]"+s+"[/]"),s}}),Object.defineProperty(r.prototype,"parseFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=t||this.get("baseUnit"),o={positive:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:a,parsed:!1,absolute:!1}};e=e.replace("||",Me);var u=e.split("|");return o.positive.source=u[0],typeof u[2]=="undefined"?o.zero=o.positive:o.zero.source=u[2],typeof u[1]=="undefined"?o.negative=o.positive:o.negative.source=u[1],I(o,function(l,s){if(!s.parsed){var f=s.source,h=[];h=s.source.match(/^\[([^\]]*)\]/),h&&h.length&&h[0]!==""&&(f=s.source.substr(h[0].length),s.color=h[1]);for(var p=be.chunk(f,!0),b=0;b<p.length;b++){var v=p[b];if(v.text=v.text.replace(Me,"|"),v.type==="value"){v.text.match(/[yYMdDwhHKkmsSn]+a/)&&(s.absolute=!0,v.text=v.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));var c=v.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(c)for(var d=0;d<c.length;d++)c[d]==null&&(c[d]=i._unitAliases[c[d]]),s.parts.push(c[d]),v.text=v.text.replace(c[d],Pe)}s.template+=v.text}s.parsed=!0}}),o}}),Object.defineProperty(r.prototype,"applyFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=!t.absolute&&e<this.get("negativeBase");e=Math.abs(e);for(var a=this.toTimeStamp(e,t.baseUnit),o=t.template,u=0,l=t.parts.length;u<l;u++){var s=t.parts[u],f=this._toTimeUnit(s.substr(0,1)),h=s.length,p=Math.floor(a/this._getUnitValue(f));o=o.replace(Pe,X(p,h,"0")),a-=p*this._getUnitValue(f)}return i&&(o="-"+o),o}}),Object.defineProperty(r.prototype,"toTimeStamp",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e*this._getUnitValue(t)}}),Object.defineProperty(r.prototype,"_toTimeUnit",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}}),Object.defineProperty(r.prototype,"getFormat",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(i||(i=this.get("baseUnit")),t!=null&&e!=t){e=Math.abs(e),t=Math.abs(t);var a=this.getValueUnit(Math.max(e,t),i);return this.get("durationFormats")[i][a]}else{var o=this.getValueUnit(e,i);return this.get("durationFormats")[i][o]}}}),Object.defineProperty(r.prototype,"getValueUnit",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t||(t=this.get("baseUnit"));var i,a=this.getMilliseconds(e,t);return Gr(this._getUnitValues(),function(o,u){if(o==t||i){var l=a/u;if(l<=1)return i||(i=o),!1;i=o}return!0}),i}}),Object.defineProperty(r.prototype,"getMilliseconds",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return t||(t=this.get("baseUnit")),e*this._getUnitValue(t)}}),Object.defineProperty(r.prototype,"_getUnitValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._getUnitValues()[e]}}),Object.defineProperty(r.prototype,"_getUnitValues",{enumerable:!1,configurable:!0,writable:!0,value:function(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}),r}(re),dr={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"\u03BC",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_second:"HH:mm:ss",_date_minute:"HH:mm",_date_hour:"HH:mm",_date_day:"MMM dd",_date_week:"ww",_date_month:"MMM",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(n){var r="th";if(n<11||n>13)switch(n%10){case 1:r="st";break;case 2:r="nd";break;case 3:r="rd";break}return r},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:""},Li=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_setDefaults",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("defaultLocale",dr),n.prototype._setDefaults.call(this)}}),Object.defineProperty(r.prototype,"translate",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];t||(t=this._root.locale||this.getPrivate("defaultLocale"));var o=e,u=t[e];if(u===null)o="";else if(u!=null)u&&(o=u);else if(t!==this.getPrivate("defaultLocale"))return this.translate.apply(this,Se([e,this.getPrivate("defaultLocale")],se(i)));if(i.length)for(var l=i.length,s=0;s<l;++s)o=o.split("%"+(s+1)).join(i[s]);return o}}),Object.defineProperty(r.prototype,"translateAny",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];return this.translate.apply(this,Se([e,t],se(i)))}}),Object.defineProperty(r.prototype,"setTranslationAny",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=i||this._root.locale;a[e]=t}}),Object.defineProperty(r.prototype,"translateEmpty",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var o=this.translate.apply(this,Se([e,t],se(i)));return o==e?"":o}}),Object.defineProperty(r.prototype,"translateFunc",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._root.locale[e]?this._root.locale[e]:t!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):function(){return""}}}),Object.defineProperty(r.prototype,"translateAll",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;return this.isDefault()?e:_t(e,function(a){return i.translate(a,t)})}}),Object.defineProperty(r.prototype,"isDefault",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getPrivate("defaultLocale")===this._root.locale}}),r}(re),vr=function(){function n(r,e){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=r,!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}return Object.defineProperty(n,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=new this(r,!0);return e.setupDefaultRules(),e}}),Object.defineProperty(n.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(n.prototype,"_lookupRules",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._rules[r]}}),Object.defineProperty(n.prototype,"ruleRaw",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){e===void 0&&(e=[]);var t=this._rules[r];t||(t=this._rules[r]=[]),e.sort(Te);var i=Nr(t,function(l){var s=Te(l.tags.length,e.length);return s===0?hr(l.tags,e,Te):s}),a=i.index,o=i.found;if(o)return t[a].template;var u=me.new({});return t.splice(a,0,{tags:e,template:u}),u}}),Object.defineProperty(n.prototype,"rule",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){return e===void 0&&(e=[]),this.ruleRaw(r,e)}}),n}();function A(n,r,e,t){n.set(r,e.get(t)),e.on(t,function(i){n.set(r,i)})}var Fi=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.setupDefaultRules.call(this);var e=this._root.language,t=this._root.interfaceColors,i=this._root.horizontalLayout,a=this._root.verticalLayout,o=this.rule.bind(this);o("InterfaceColors").setAll({stroke:E.fromHex(15066597),fill:E.fromHex(15987699),primaryButton:E.fromHex(6788316),primaryButtonHover:E.fromHex(6779356),primaryButtonDown:E.fromHex(6872182),primaryButtonActive:E.fromHex(6872182),primaryButtonText:E.fromHex(16777215),primaryButtonStroke:E.fromHex(16777215),secondaryButton:E.fromHex(14277081),secondaryButtonHover:E.fromHex(10724259),secondaryButtonDown:E.fromHex(9276813),secondaryButtonActive:E.fromHex(15132390),secondaryButtonText:E.fromHex(0),secondaryButtonStroke:E.fromHex(16777215),grid:E.fromHex(0),background:E.fromHex(16777215),alternativeBackground:E.fromHex(0),text:E.fromHex(0),alternativeText:E.fromHex(16777215),disabled:E.fromHex(11382189),positive:E.fromHex(5288704),negative:E.fromHex(11730944)});{var u=o("ColorSet");u.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[E.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),u.setPrivate("currentStep",0),u.setPrivate("currentPass",0)}o("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:it(Ge)}),o("Component").setAll({interpolationDuration:0,interpolationEasing:it(Ge)}),o("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:N,tooltipY:N,tooltipPosition:"fixed",isMeasured:!0}),o("Sprite").states.create("default",{visible:!0,opacity:1}),o("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),o("Graphics").setAll({strokeWidth:1}),o("Chart").setAll({width:C,height:C}),o("Sprite",["horizontal","center"]).setAll({centerX:N,x:N}),o("Sprite",["vertical","center"]).setAll({centerY:N,y:N}),o("Container",["horizontal","layout"]).setAll({layout:i}),o("Container",["vertical","layout"]).setAll({layout:a}),o("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),o("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),o("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),o("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),o("LinearGradient").setAll({rotation:90}),o("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:ot.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),o("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:i,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle")});{var u=o("Rectangle",["legend","item","background"]);u.setAll({fillOpacity:0}),A(u,"fill",t,"background")}o("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:N,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),o("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:C,height:C,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{var u=o("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});A(u,"fill",t,"disabled"),A(u,"stroke",t,"disabled")}o("Label",["legend","label"]).setAll({centerY:N,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{var u=o("Label",["legend","label"]).states.create("disabled",{});A(u,"fill",t,"disabled")}o("Label",["legend","value","label"]).setAll({centerY:N,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:C,populateText:!0});{var u=o("Label",["legend","value","label"]).states.create("disabled",{});A(u,"fill",t,"disabled")}o("HeatLegend").setAll({stepCount:1}),o("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),o("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:C,width:15}),o("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:C,height:15}),o("HeatLegend",["vertical"]).setAll({height:C}),o("HeatLegend",["horizontal"]).setAll({width:C}),o("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),o("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{var u=o("Label");u.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),A(u,"fill",t,"text")}o("RadialLabel").setAll({textType:"regular",centerY:N,centerX:N,inside:!1,radius:0,baseRadius:C,orientation:"auto",textAlign:"center"}),o("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),o("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),o("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{var u=o("Tick");u.setAll({strokeOpacity:.15,isMeasured:!1,length:5,position:"absolute"}),A(u,"stroke",t,"grid")}o("Bullet").setAll({locationX:.5,locationY:.5}),o("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:N,centerY:N,animationEasing:it(Ge),exportable:!1});{var u=o("PointedRectangle",["tooltip","background"]);u.setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:E.fromHex(16777215)})}{var u=o("Label",["tooltip"]);u.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),A(u,"fill",t,"alternativeText")}o("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:i,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),o("Button").states.create("hover",{}),o("Button").states.create("down",{stateAnimationDuration:0}),o("Button").states.create("active",{});{var u=o("RoundedRectangle",["button","background"]);A(u,"fill",t,"primaryButton"),A(u,"stroke",t,"primaryButtonStroke")}{var u=o("RoundedRectangle",["button","background"]).states.create("hover",{});A(u,"fill",t,"primaryButtonHover")}{var u=o("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});A(u,"fill",t,"primaryButtonDown")}{var u=o("RoundedRectangle",["button","background"]).states.create("active",{});A(u,"fill",t,"primaryButtonActive")}{var u=o("Graphics",["button","icon"]);A(u,"stroke",t,"primaryButtonText")}{var u=o("Label",["button"]);A(u,"fill",t,"primaryButtonText")}o("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:C,role:"button",ariaLabel:e.translate("Zoom Out"),layer:40});{var u=o("RoundedRectangle",["background","button","zoom"]);u.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),A(u,"fill",t,"primaryButton")}{var u=o("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});A(u,"fill",t,"primaryButtonHover")}{var u=o("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});A(u,"fill",t,"primaryButtonDown")}{var u=o("Graphics",["icon","button","zoom"]);u.setAll({strokeOpacity:.7,draw:function(s){s.moveTo(0,0),s.lineTo(12,0)}}),A(u,"stroke",t,"primaryButtonText")}o("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:N,centerY:N,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{var u=o("RoundedRectangle",["background","resize","button"]);u.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),A(u,"fill",t,"secondaryButton")}{var u=o("RoundedRectangle",["background","resize","button"]).states.create("hover",{});A(u,"fill",t,"secondaryButtonHover")}{var u=o("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});A(u,"fill",t,"secondaryButtonDown")}{var u=o("Graphics",["resize","button","icon"]);u.setAll({strokeOpacity:.7,draw:function(s){s.moveTo(0,0),s.lineTo(0,12),s.moveTo(4,0),s.lineTo(4,12)}}),A(u,"stroke",t,"secondaryButtonText")}o("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),o("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),o("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{var u=o("RoundedRectangle",["play","background"]);u.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),A(u,"fill",t,"primaryButton")}{var u=o("Graphics",["play","icon"]);u.setAll({stateAnimationDuration:0,dx:1,draw:function(s){s.moveTo(0,-5),s.lineTo(8,0),s.lineTo(0,5),s.lineTo(0,-5)}}),A(u,"fill",t,"primaryButtonText")}o("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),o("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:function(l){l.moveTo(-4,-5),l.lineTo(-1,-5),l.lineTo(-1,5),l.lineTo(-4,5),l.lineTo(-4,-5),l.moveTo(4,-5),l.lineTo(1,-5),l.lineTo(1,5),l.lineTo(4,5),l.lineTo(4,-5)}}),o("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{var u=o("RoundedRectangle",["switch","background"]);u.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),A(u,"fill",t,"primaryButton")}{var u=o("Circle",["switch","icon"]);u.setAll({radius:8,centerY:0,centerX:0,dx:0}),A(u,"fill",t,"primaryButtonText")}o("Graphics",["switch","icon"]).states.create("active",{dx:16}),o("Scrollbar").setAll({start:0,end:1,layer:40,animationEasing:it(Ge)}),o("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:C}),o("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:C}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{var u=o("RoundedRectangle",["scrollbar","main","background"]);u.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),A(u,"fill",t,"fill")}{var u=o("RoundedRectangle",["scrollbar","thumb"]);u.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),A(u,"fill",t,"secondaryButton")}{var u=o("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});A(u,"fill",t,"secondaryButtonHover")}{var u=o("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});A(u,"fill",t,"secondaryButtonDown")}o("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:N,width:C,centerX:N,ariaLabel:e.translate("Use up and down arrows to move selection")}),o("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:N,centerY:N,height:C,ariaLabel:e.translate("Use left and right arrows to move selection")});{var u=o("PointedRectangle",["axis","tooltip","background"]);u.setAll({cornerRadius:0}),A(u,"fill",t,"alternativeBackground")}o("Label",["axis","tooltip"]).setAll({role:void 0}),o("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),o("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),o("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),o("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),o("Star").setAll({spikes:5,innerRadius:5,radius:10})}}),r}(vr),It=function(){function n(r,e,t,i,a,o){r===void 0&&(r=1),e===void 0&&(e=0),t===void 0&&(t=0),i===void 0&&(i=1),a===void 0&&(a=0),o===void 0&&(o=0),Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=r,this.b=e,this.c=t,this.d=i,this.tx=a,this.ty=o}return Object.defineProperty(n.prototype,"setTransform",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e,t,i,a,o){o===void 0&&(o=1),this.a=Math.cos(a)*o,this.b=Math.sin(a)*o,this.c=-Math.sin(a)*o,this.d=Math.cos(a)*o,this.tx=r-(t*this.a+i*this.c),this.ty=e-(t*this.b+i*this.d)}}),Object.defineProperty(n.prototype,"apply",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return{x:this.a*r.x+this.c*r.y+this.tx,y:this.b*r.x+this.d*r.y+this.ty}}}),Object.defineProperty(n.prototype,"applyInverse",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=1/(this.a*this.d+this.c*-this.b);return{x:this.d*e*r.x+-this.c*e*r.y+(this.ty*this.c-this.tx*this.d)*e,y:this.a*e*r.y+-this.b*e*r.x+(-this.ty*this.a+this.tx*this.b)*e}}}),Object.defineProperty(n.prototype,"append",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.a,t=this.b,i=this.c,a=this.d;this.a=r.a*e+r.b*i,this.b=r.a*t+r.b*a,this.c=r.c*e+r.d*i,this.d=r.c*t+r.d*a,this.tx=r.tx*e+r.ty*i+this.tx,this.ty=r.tx*t+r.ty*a+this.ty}}),Object.defineProperty(n.prototype,"prepend",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var t=this.a,i=this.c;this.a=t*r.a+this.b*r.c,this.b=t*r.b+this.b*r.d,this.c=i*r.a+this.d*r.c,this.d=i*r.b+this.d*r.d}this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty}}),Object.defineProperty(n.prototype,"copyFrom",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty}}),n}(),Ii=function(){function n(r){Object.defineProperty(this,"_ready",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_pending",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fn",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._fn=r}return Object.defineProperty(n.prototype,"run",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._ready?(this._ready=!1,this._pending=!1,requestAnimationFrame(function(){r._ready=!0,r._pending&&r.run()}),this._fn()):this._pending=!0}}),n}(),Yi=function(){function n(r,e){var t=[],i=!0,a=!1,o=void 0;try{for(var u=r[Symbol.iterator](),l;!(i=(l=u.next()).done)&&(t.push(l.value),!(e&&t.length===e));i=!0);}catch(s){a=!0,o=s}finally{try{!i&&u.return&&u.return()}finally{if(a)throw o}}return t}return function(r,e){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ue=Math.PI*2,Yt=function(r,e,t,i,a,o,u){var l=r.x,s=r.y;l*=e,s*=t;var f=i*l-a*s,h=a*l+i*s;return{x:f+o,y:h+u}},Ni=function(r,e){var t=e===1.5707963267948966?.551915024494:e===-1.5707963267948966?-.551915024494:4/3*Math.tan(e/4),i=Math.cos(r),a=Math.sin(r),o=Math.cos(r+e),u=Math.sin(r+e);return[{x:i-a*t,y:a+i*t},{x:o+u*t,y:u-o*t},{x:o,y:u}]},gr=function(r,e,t,i){var a=r*i-e*t<0?-1:1,o=r*t+e*i;return o>1&&(o=1),o<-1&&(o=-1),a*Math.acos(o)},zi=function(r,e,t,i,a,o,u,l,s,f,h,p){var b=Math.pow(a,2),v=Math.pow(o,2),c=Math.pow(h,2),d=Math.pow(p,2),g=b*v-b*d-v*c;g<0&&(g=0),g/=b*d+v*c,g=Math.sqrt(g)*(u===l?-1:1);var m=g*a/o*p,w=g*-o/a*h,P=f*m-s*w+(r+t)/2,j=s*m+f*w+(e+i)/2,O=(h-m)/a,D=(p-w)/o,x=(-h-m)/a,S=(-p-w)/o,M=gr(1,0,O,D),k=gr(O,D,x,S);return l===0&&k>0&&(k-=Ue),l===1&&k<0&&(k+=Ue),[P,j,M,k]},Xi=function(r){var e=r.px,t=r.py,i=r.cx,a=r.cy,o=r.rx,u=r.ry,l=r.xAxisRotation,s=l===void 0?0:l,f=r.largeArcFlag,h=f===void 0?0:f,p=r.sweepFlag,b=p===void 0?0:p,v=[];if(o===0||u===0)return[];var c=Math.sin(s*Ue/360),d=Math.cos(s*Ue/360),g=d*(e-i)/2+c*(t-a)/2,m=-c*(e-i)/2+d*(t-a)/2;if(g===0&&m===0)return[];o=Math.abs(o),u=Math.abs(u);var w=Math.pow(g,2)/Math.pow(o,2)+Math.pow(m,2)/Math.pow(u,2);w>1&&(o*=Math.sqrt(w),u*=Math.sqrt(w));var P=zi(e,t,i,a,o,u,h,b,c,d,g,m),j=Yi(P,4),O=j[0],D=j[1],x=j[2],S=j[3],M=Math.abs(S)/(Ue/4);Math.abs(1-M)<1e-7&&(M=1);var k=Math.max(Math.ceil(M),1);S/=k;for(var F=0;F<k;F++)v.push(Ni(x,S)),x+=S;return v.map(function(H){var $=Yt(H[0],o,u,d,c,O,D),oe=$.x,pe=$.y,le=Yt(H[1],o,u,d,c,O,D),B=le.x,G=le.y,Y=Yt(H[2],o,u,d,c,O,D),we=Y.x,he=Y.y;return{x1:oe,y1:pe,x2:B,y2:G,x:we,y:he}})};function Hi(n,r,e){if(r!==e)throw new Error("Required "+e+" arguments for "+n+" but got "+r)}function We(n,r,e){if(r<e)throw new Error("Required at least "+e+" arguments for "+n+" but got "+r)}function ne(n,r,e){if(We(n,r,e),r%e!=0)throw new Error("Arguments for "+n+" must be in pairs of "+e)}function yr(n){if(n===0||n===1)return n;throw new Error("Flag must be 0 or 1")}function Vi(n){for(var r=[0,0,0],e=0;e<24;e++)r[e%3]<<=1,r[e%3]|=n&1,n>>=1;return(r[2]|0)+(r[1]<<8)+(r[0]<<16)}function Nt(n,r){for(;!(n.interactive&&!r(n));)if(n._parent)n=n._parent;else break}function mr(n,r,e){return ce(n,Ot(r),function(t){t.touches?y(t.touches,function(i){e(i)}):e(t)})}function _r(n){var r=document.createElement("canvas");r.width=1,r.height=1;var e=r.getContext("2d");e.drawImage(n,0,0,1,1);try{return e.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+n.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}var Gi=function(){function n(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(r){this._x=r},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(r){this._y=r},enumerable:!1,configurable:!0}),n}(),st=function(n){T(r,n);function r(e){var t=n.call(this,function(){t._renderer._removeObject(t)})||this;return Object.defineProperty(t,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(t,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(t,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(t,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(t,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(t,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new Gi}),Object.defineProperty(t,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new It}),Object.defineProperty(t,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new It}),Object.defineProperty(t,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new It}),Object.defineProperty(t,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(t,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t._renderer=e,t}return Object.defineProperty(r.prototype,"getCanvas",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.getLayer().view}}),Object.defineProperty(r.prototype,"getLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=this;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}}),Object.defineProperty(r.prototype,"setLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0),e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,t),this._layer.visible=t,this._parent&&this._parent.registerChildLayer(this._layer))}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getLayer().dirty=!0}}),Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.invalidateBounds()}}),Object.defineProperty(r.prototype,"invalidateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localBounds=void 0}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_getColorId",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}}),Object.defineProperty(r.prototype,"_isInteractive",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.inactive==!1&&(this.interactive||this._renderer._forceInteractive>0)}}),Object.defineProperty(r.prototype,"_isInteractiveMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isInteractive()}}),Object.defineProperty(r.prototype,"contains",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}}),Object.defineProperty(r.prototype,"toGlobal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._matrix.apply(e)}}),Object.defineProperty(r.prototype,"toLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._matrix.applyInverse(e)}}),Object.defineProperty(r.prototype,"getLocalMatrix",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}}),Object.defineProperty(r.prototype,"getLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._localBounds){var e=1e7;this._localBounds={left:e,top:e,right:-e,bottom:-e},this._addBounds(this._localBounds)}return this._localBounds}}),Object.defineProperty(r.prototype,"getAdjustedBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._setMatrix();var t=this.getLocalMatrix(),i=t.apply({x:e.left,y:e.top}),a=t.apply({x:e.right,y:e.top}),o=t.apply({x:e.right,y:e.bottom}),u=t.apply({x:e.left,y:e.bottom});return{left:Math.min(i.x,a.x,o.x,u.x),top:Math.min(i.y,a.y,o.y,u.y),right:Math.max(i.x,a.x,o.x,u.x),bottom:Math.max(i.y,a.y,o.y,u.y)}}}),Object.defineProperty(r.prototype,"on",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){return this.interactive?this._renderer._addEvent(this,e,t,i):new z(function(){})}}),Object.defineProperty(r.prototype,"_setMatrix",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}}),Object.defineProperty(r.prototype,"_transform",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._matrix;e.setTransform(i.a*t,i.b*t,i.c*t,i.d*t,i.tx*t,i.ty*t)}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();var i=this._renderer.resolution,a=this._renderer.layers,o=this._renderer._ghostContext,u=this.mask;u&&u._setMatrix(),y(a,function(l){if(l){var s=l.context;s.save(),u&&(u._transform(s,l.scale||i),u._runPath(s),s.clip()),s.globalAlpha=t.compoundAlpha*t.alpha,t._transform(s,l.scale||i),t.filter&&(s.filter=t.filter)}}),o.save(),u&&this._isInteractiveMask()&&(u._transform(o,i),u._runPath(o),o.clip()),this._transform(o,i),this._render(e),o.restore(),y(a,function(l){l&&l.context.restore()})}}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.exportable===!1){var t=this._layer||e;t.tainted=!0}}}),Object.defineProperty(r.prototype,"hovering",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._renderer._hovering.has(this)}}),Object.defineProperty(r.prototype,"dragging",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return this._renderer._dragging.some(function(t){return t.value===e})}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.getLayer().dirty=!0}}),r}(z),Ui=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r.prototype,"_isInteractiveMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.interactiveChildren||n.prototype._isInteractiveMask.call(this)}}),Object.defineProperty(r.prototype,"addChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}}),Object.defineProperty(r.prototype,"addChildAt",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._parent=this,this._children.splice(t,0,e),e._layer&&this.registerChildLayer(e._layer)}}),Object.defineProperty(r.prototype,"removeChild",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._parent=void 0,te(this._children,e)}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;n.prototype._render.call(this,e);var i=this._renderer;this.interactive&&this.interactiveChildren&&++i._forceInteractive;var a=this._layer||e;y(this._children,function(o){o.compoundAlpha=t.compoundAlpha*t.alpha,o.render(a)}),this.interactive&&this.interactiveChildren&&--i._forceInteractive}}),Object.defineProperty(r.prototype,"registerChildLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._childLayers||(this._childLayers=[]),Je(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}}),Object.defineProperty(r.prototype,"markDirtyLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e===void 0&&(e=!1),n.prototype.markDirtyLayer.call(this),e&&this._childLayers&&y(this._childLayers,function(t){return t.dirty=!0})}}),Object.defineProperty(r.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.dispose.call(this),this._childLayers&&y(this._childLayers,function(e){e.dirty=!0})}}),r}(st);function U(n,r){n.left=Math.min(n.left,r.x),n.top=Math.min(n.top,r.y),n.right=Math.max(n.right,r.x),n.bottom=Math.max(n.bottom,r.y)}var q=function(){function n(){}return Object.defineProperty(n.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){}}),Object.defineProperty(n.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(r){}}),Object.defineProperty(n.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(r){}}),n}(),zt=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t!==void 0?e.fillStyle=t:e.fillStyle=this.color}}),r}(q),Wi=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}),r}(q),Ki=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.stroke()}}),r}(q),Xt=function(n){T(r,n);function r(e,t){var i=n.call(this)||this;return Object.defineProperty(i,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"color",{enumerable:!0,configurable:!0,writable:!0,value:t}),i}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t!==void 0?e.strokeStyle=t:e.strokeStyle=this.color,e.lineWidth=this.width}}),r}(q),qi=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.setLineDash(this.dash)}}),r}(q),$i=function(n){T(r,n);function r(e){var t=n.call(this)||this;return Object.defineProperty(t,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.lineDashOffset=this.dashOffset}}),r}(q),Ji=function(n){T(r,n);function r(e,t,i,a){var o=n.call(this)||this;return Object.defineProperty(o,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(o,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(o,"height",{enumerable:!0,configurable:!0,writable:!0,value:a}),o}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.rect(this.x,this.y,this.width,this.height)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.x,i=this.y,a=t+this.width,o=i+this.height;U(e,{x:t,y:i}),U(e,{x:a,y:i}),U(e,{x:t,y:o}),U(e,{x:a,y:o})}}),r}(q),Zi=function(n){T(r,n);function r(e,t,i){var a=n.call(this)||this;return Object.defineProperty(a,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(a,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(a,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),a}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.x-this.radius,y:this.y-this.radius}),U(e,{x:this.x+this.radius,y:this.y+this.radius})}}),r}(q),Qi=function(n){T(r,n);function r(e,t,i,a){var o=n.call(this)||this;return Object.defineProperty(o,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(o,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(o,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:a}),o}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),U(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}),r}(q),ea=function(n){T(r,n);function r(e,t,i,a,o,u){var l=n.call(this)||this;return Object.defineProperty(l,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(l,"cy",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(l,"radius",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(l,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(l,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:u}),l}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=di(this.cx,this.cy,this.startAngle*Ve,this.endAngle*Ve,this.radius);U(e,{x:t.left,y:t.top}),U(e,{x:t.right,y:t.bottom})}}),r}(q),ta=function(n){T(r,n);function r(e,t,i,a,o){var u=n.call(this)||this;return Object.defineProperty(u,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(u,"y1",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(u,"x2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(u,"y2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(u,"radius",{enumerable:!0,configurable:!0,writable:!0,value:o}),u}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),r}(q),ra=function(n){T(r,n);function r(e,t){var i=n.call(this)||this;return Object.defineProperty(i,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),i}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.lineTo(this.x,this.y)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.x,y:this.y})}}),r}(q),ia=function(n){T(r,n);function r(e,t){var i=n.call(this)||this;return Object.defineProperty(i,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(i,"y",{enumerable:!0,configurable:!0,writable:!0,value:t}),i}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.moveTo(this.x,this.y)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.x,y:this.y})}}),r}(q),aa=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.closePath()}}),r}(q),na=function(n){T(r,n);function r(e,t,i,a,o,u){var l=n.call(this)||this;return Object.defineProperty(l,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(l,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(l,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(l,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(l,"toX",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.defineProperty(l,"toY",{enumerable:!0,configurable:!0,writable:!0,value:u}),l}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.cpX,y:this.cpY}),U(e,{x:this.cpX2,y:this.cpY2}),U(e,{x:this.toX,y:this.toY})}}),r}(q),oa=function(n){T(r,n);function r(e,t,i,a){var o=n.call(this)||this;return Object.defineProperty(o,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(o,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(o,"toX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(o,"toY",{enumerable:!0,configurable:!0,writable:!0,value:a}),o}return Object.defineProperty(r.prototype,"path",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}}),Object.defineProperty(r.prototype,"addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){U(e,{x:this.cpX,y:this.cpY}),U(e,{x:this.toX,y:this.toY})}}),r}(q),ua=function(n){T(r,n);function r(e,t,i,a,o){var u=n.call(this)||this;return Object.defineProperty(u,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(u,"blur",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(u,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(u,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(u,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:o}),u}return Object.defineProperty(r.prototype,"colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,this.blur&&(e.shadowBlur=this.blur),this.offsetX&&(e.shadowOffsetX=this.offsetX),this.offsetY&&(e.shadowOffsetY=this.offsetY)}}),r}(q),la=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:nt.NORMAL}),Object.defineProperty(e,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.clear.call(this),this._operations.length=0}}),Object.defineProperty(r.prototype,"_pushOp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._operations.push(e)}}),Object.defineProperty(r.prototype,"beginFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=1),this._fillAlpha=t,e?e instanceof E?this._pushOp(new zt(e.toCSS(t))):(this.isMeasured=!0,this._pushOp(new zt(e))):this._pushOp(new zt("rgba(0, 0, 0, "+t+")"))}}),Object.defineProperty(r.prototype,"endFill",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new Wi(this._hasShadows))}}),Object.defineProperty(r.prototype,"endStroke",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new Ki)}}),Object.defineProperty(r.prototype,"lineStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e===void 0&&(e=0),i===void 0&&(i=1),this._strokeAlpha=i,t?t instanceof E?this._pushOp(new Xt(e,t.toCSS(i))):this._pushOp(new Xt(e,t)):this._pushOp(new Xt(e,"rgba(0, 0, 0, "+i+")"))}}),Object.defineProperty(r.prototype,"setLineDash",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._pushOp(new qi(e||[]))}}),Object.defineProperty(r.prototype,"setLineDashOffset",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._pushOp(new $i(e||0))}}),Object.defineProperty(r.prototype,"drawRect",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new Ji(e,t,i,a))}}),Object.defineProperty(r.prototype,"drawCircle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this._pushOp(new Zi(e,t,i))}}),Object.defineProperty(r.prototype,"drawEllipse",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new Qi(e,t,i,a))}}),Object.defineProperty(r.prototype,"arc",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u){u===void 0&&(u=!1),this._pushOp(new ea(e,t,i,a,o,u))}}),Object.defineProperty(r.prototype,"arcTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o){this._pushOp(new ta(e,t,i,a,o))}}),Object.defineProperty(r.prototype,"lineTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._pushOp(new ra(e,t))}}),Object.defineProperty(r.prototype,"moveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._pushOp(new ia(e,t))}}),Object.defineProperty(r.prototype,"bezierCurveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u){this._pushOp(new na(e,t,i,a,o,u))}}),Object.defineProperty(r.prototype,"quadraticCurveTo",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){this._pushOp(new oa(e,t,i,a))}}),Object.defineProperty(r.prototype,"closePath",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._pushOp(new aa)}}),Object.defineProperty(r.prototype,"shadow",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o){this._hasShadows=!0,this._pushOp(new ua(o?e.toCSS(o):e.toCSS(this._fillAlpha||this._strokeAlpha),t,i,a))}}),Object.defineProperty(r.prototype,"svgPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this,i=0,a=0,o=null,u=null,l=null,s=null,f=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,h=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g,p;(p=f.exec(e))!==null;){for(var b=p[1],v=p[2],c=[];(p=h.exec(v))!==null;)c.push(+p[1]);switch(b!=="S"&&b!=="s"&&b!=="C"&&b!=="c"&&(o=null,u=null),b!=="Q"&&b!=="q"&&b!=="T"&&b!=="t"&&(l=null,s=null),b){case"M":ne(b,c.length,2),i=c[0],a=c[1],this.moveTo(i,a);for(var d=2;d<c.length;d+=2)i=c[d],a=c[d+1],this.lineTo(i,a);break;case"m":ne(b,c.length,2),i+=c[0],a+=c[1],this.moveTo(i,a);for(var d=2;d<c.length;d+=2)i+=c[d],a+=c[d+1],this.lineTo(i,a);break;case"L":ne(b,c.length,2);for(var d=0;d<c.length;d+=2)i=c[d],a=c[d+1],this.lineTo(i,a);break;case"l":ne(b,c.length,2);for(var d=0;d<c.length;d+=2)i+=c[d],a+=c[d+1],this.lineTo(i,a);break;case"H":We(b,c.length,1);for(var d=0;d<c.length;++d)i=c[d],this.lineTo(i,a);break;case"h":We(b,c.length,1);for(var d=0;d<c.length;++d)i+=c[d],this.lineTo(i,a);break;case"V":We(b,c.length,1);for(var d=0;d<c.length;++d)a=c[d],this.lineTo(i,a);break;case"v":We(b,c.length,1);for(var d=0;d<c.length;++d)a+=c[d],this.lineTo(i,a);break;case"C":ne(b,c.length,6);for(var d=0;d<c.length;d+=6){var g=c[d],m=c[d+1];o=c[d+2],u=c[d+3],i=c[d+4],a=c[d+5],this.bezierCurveTo(g,m,o,u,i,a)}break;case"c":ne(b,c.length,6);for(var d=0;d<c.length;d+=6){var g=c[d]+i,m=c[d+1]+a;o=c[d+2]+i,u=c[d+3]+a,i+=c[d+4],a+=c[d+5],this.bezierCurveTo(g,m,o,u,i,a)}break;case"S":ne(b,c.length,4),(o===null||u===null)&&(o=i,u=a);for(var d=0;d<c.length;d+=4){var g=2*i-o,m=2*a-u;o=c[d],u=c[d+1],i=c[d+2],a=c[d+3],this.bezierCurveTo(g,m,o,u,i,a)}break;case"s":ne(b,c.length,4),(o===null||u===null)&&(o=i,u=a);for(var d=0;d<c.length;d+=4){var g=2*i-o,m=2*a-u;o=c[d]+i,u=c[d+1]+a,i+=c[d+2],a+=c[d+3],this.bezierCurveTo(g,m,o,u,i,a)}break;case"Q":ne(b,c.length,4);for(var d=0;d<c.length;d+=4)l=c[d],s=c[d+1],i=c[d+2],a=c[d+3],this.quadraticCurveTo(l,s,i,a);break;case"q":ne(b,c.length,4);for(var d=0;d<c.length;d+=4)l=c[d]+i,s=c[d+1]+a,i+=c[d+2],a+=c[d+3],this.quadraticCurveTo(l,s,i,a);break;case"T":ne(b,c.length,2),(l===null||s===null)&&(l=i,s=a);for(var d=0;d<c.length;d+=2)l=2*i-l,s=2*a-s,i=c[d],a=c[d+1],this.quadraticCurveTo(l,s,i,a);break;case"t":ne(b,c.length,2),(l===null||s===null)&&(l=i,s=a);for(var d=0;d<c.length;d+=2)l=2*i-l,s=2*a-s,i+=c[d],a+=c[d+1],this.quadraticCurveTo(l,s,i,a);break;case"A":case"a":var w=b==="a";ne(b,c.length,7);for(var d=0;d<c.length;d+=7){var P=c[d+5],j=c[d+6];w&&(P+=i,j+=a);var O=Xi({px:i,py:a,rx:c[d],ry:c[d+1],xAxisRotation:c[d+2],largeArcFlag:yr(c[d+3]),sweepFlag:yr(c[d+4]),cx:P,cy:j});y(O,function(x){t.bezierCurveTo(x.x1,x.y1,x.x2,x.y2,x.x,x.y),i=x.x,a=x.y})}break;case"Z":case"z":Hi(b,c.length,0),this.closePath();break}}}}),Object.defineProperty(r.prototype,"_runPath",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.beginPath(),y(this._operations,function(t){t.path(e)})}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._render.call(this,e);var t=this._layer||e,i=t.dirty,a=this._isInteractive();if(i||a){var o=t.context,u=this._renderer._ghostContext;i&&(o.globalCompositeOperation=this.blendMode,o.beginPath());var l;a&&(u.beginPath(),l=this._getColorId()),y(this._operations,function(s){i&&(s.path(o),s.colorize(o,void 0)),a&&(s.path(u),s.colorize(u,l))})}}}),Object.defineProperty(r.prototype,"renderDetached",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.visible){this._setMatrix(),e.save();var t=this.mask;t&&(t._setMatrix(),t._transform(e,1),t._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),y(this._operations,function(i){i.path(e),i.colorize(e,void 0)}),e.restore()}}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.visible&&this.isMeasured&&y(this._operations,function(t){t.addBounds(e)})}}),r}(st),wr=function(n){T(r,n);function r(e,t,i){var a=n.call(this,e)||this;return Object.defineProperty(a,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(a,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"_textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(a,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),a.text=t,a.style=i,a}return Object.defineProperty(r.prototype,"invalidateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.invalidateBounds.call(this),this._textInfo=void 0}}),Object.defineProperty(r.prototype,"_shared",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}}),Object.defineProperty(r.prototype,"_prerender",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1),n.prototype._render.call(this,e);var a=e.context,o=this._renderer._ghostContext,u=this.style,l=this._getFontStyle(void 0,i);a.font=l,this._isInteractive()&&!t&&(o.font=l),u.fill&&(u.fill instanceof E?a.fillStyle=u.fill.toCSS():a.fillStyle=u.fill),u.shadowColor&&(e.context.shadowColor=u.shadowColor.toCSS(u.shadowOpacity||1)),u.shadowBlur&&(e.context.shadowBlur=u.shadowBlur),u.shadowOffsetX&&(e.context.shadowOffsetX=u.shadowOffsetX),u.shadowOffsetY&&(e.context.shadowOffsetY=u.shadowOffsetY),this._shared(a),this._isInteractive()&&!t&&(o.fillStyle=this._getColorId(),this._shared(o))}}),Object.defineProperty(r.prototype,"_getFontStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!1);var i=this.style,a=[];return e&&e.fontVariant?a.push(e.fontVariant):i.fontVariant&&a.push(i.fontVariant),t||(e&&e.fontWeight?a.push(e.fontWeight):i.fontWeight&&a.push(i.fontWeight)),e&&e.fontStyle?a.push(e.fontStyle):i.fontStyle&&a.push(i.fontStyle),e&&e.fontSize?(_(e.fontSize)&&(e.fontSize=e.fontSize+"px"),a.push(e.fontSize)):i.fontSize&&(_(i.fontSize)&&(i.fontSize=i.fontSize+"px"),a.push(i.fontSize)),e&&e.fontFamily?a.push(e.fontFamily):i.fontFamily?a.push(i.fontFamily):a.length&&a.push("Arial"),a.join(" ")}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this._layer||e;if(this._textInfo||this._measure(i),this._textVisible){var a=this._isInteractive(),o=i.context,u=i.dirty,l=this._renderer._ghostContext;o.save(),l.save(),this._prerender(i),y(this._textInfo,function(s,f){y(s.textChunks,function(h,p){if(h.style&&(o.save(),l.save(),o.font=h.style,t._isInteractive()&&(l.font=h.style)),h.fill&&(o.save(),o.fillStyle=h.fill.toCSS()),u&&o.fillText(h.text,h.offsetX,s.offsetY+h.offsetY),h.textDecoration=="underline"){var b=1,v=1,c=h.height,d=h.offsetX;switch(t.style.textAlign){case"right":case"end":d-=h.width;break;case"center":d-=h.width/2;break}if(h.style){var g=be.getTextStyle(h.style);switch(g.fontWeight){case"bolder":case"bold":case"700":case"800":case"900":b=2;break}}c&&(v=c/20);var m=b+v*1.5+s.offsetY+h.offsetY;o.save(),o.beginPath(),h.fill?o.strokeStyle=h.fill.toCSS():t.style.fill&&t.style.fill instanceof E&&(o.strokeStyle=t.style.fill.toCSS()),o.lineWidth=b*v,o.moveTo(d,m),o.lineTo(d+h.width,m),o.stroke(),o.restore()}a&&t.interactive&&l.fillText(h.text,h.offsetX,s.offsetY+h.offsetY),h.fill&&o.restore(),h.style&&(o.restore(),l.restore())})}),o.restore(),l.restore()}}}),Object.defineProperty(r.prototype,"_addBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.visible&&this.isMeasured){var t=this._measure(this.getLayer());U(e,{x:t.left,y:t.top}),U(e,{x:t.right,y:t.bottom})}}}),Object.defineProperty(r.prototype,"_measure",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.context,a=this._renderer._ghostContext,o=this.style.direction=="rtl";this._textInfo=[];var u=this.style.oversizedBehavior,l=this.style.maxWidth,s=_(l)&&u=="truncate",f=_(l)&&u=="wrap";i.save(),a.save(),this._prerender(e,!0,!0);var h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",p=this.text.toString().replace(/\r/g,"").split(/\n/),b=!0,v=0,c=0,d=0,g;y(p,function(P,j){var O;P==""?O=[{type:"value",text:""}]:O=be.chunk(P,!1,t.style.ignoreFormatting);for(var D=function(){var x={offsetY:d,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},S=t._measureText(h,i),M=S.actualBoundingBoxAscent+S.actualBoundingBoxDescent;x.height=M,x.ascent=S.actualBoundingBoxAscent;var k,F=t.style.textDecoration,H,$,oe=!1,pe=!0,le=[];Fr(O,function(B,G){if(B.type=="format")if(B.text=="[/]")b||(i.restore(),a.restore(),b=!0),H=void 0,g=void 0,$=void 0,F=t.style.textDecoration,k=B.text;else{b||(i.restore(),a.restore());var Y=be.getTextStyle(B.text),we=t._getFontStyle(Y);i.save(),a.save(),i.font=we,g=we,k=B.text,Y.textDecoration&&(F=Y.textDecoration),Y.fill&&(H=Y.fill),Y.width&&($=ae(Y.width)),b=!1;var he=t._measureText(h,i),Fe=he.actualBoundingBoxAscent+he.actualBoundingBoxDescent;Fe>x.height&&(x.height=Fe),he.actualBoundingBoxAscent>x.ascent&&(x.ascent=he.actualBoundingBoxAscent)}else if(B.type=="value"&&!oe){var ie=t._measureText(B.text,i),je=ie.actualBoundingBoxLeft+ie.actualBoundingBoxRight;if(s){var Mr=pe||t.style.breakWords||!1,Gt=t.style.ellipsis||"",Ut=t._measureText(Gt,i),kr=Ut.actualBoundingBoxLeft+Ut.actualBoundingBoxRight;if(x.width+je>l){var bt=l-x.width-kr;B.text=t._truncateText(i,B.text,bt,Mr),B.text+=Gt,oe=!0}}else if(f&&x.width+je>l){var bt=l-x.width,Ke=t._truncateText(i,B.text,bt,!1,pe);if(Ke=="")return t._textVisible=!0,!1;le=O.slice(G+1),Tt(Ke)!=Tt(B.text)&&(le.unshift({type:"value",text:B.text.substr(Ke.length)}),k&&le.unshift({type:"format",text:k})),B.text=Ke,O=[],oe=!0}var pt=1,dt=1;if(g&&$&&$>je){var qe=je/$;switch(t.style.textAlign){case"right":case"end":pt=qe;break;case"center":pt=qe,dt=qe;break;default:dt=qe}je=$}var vt=ie.actualBoundingBoxAscent+ie.actualBoundingBoxDescent;vt>x.height&&(x.height=vt),ie.actualBoundingBoxAscent>x.ascent&&(x.ascent=ie.actualBoundingBoxAscent),x.width+=je,x.left+=ie.actualBoundingBoxLeft/pt,x.right+=ie.actualBoundingBoxRight/dt,x.textChunks.push({style:g,fill:H,text:B.text,width:je,height:vt,left:ie.actualBoundingBoxLeft,right:ie.actualBoundingBoxRight,ascent:ie.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:F}),pe=!1}return!0}),t.style.lineHeight instanceof L?(x.height*=t.style.lineHeight.value,x.ascent*=t.style.lineHeight.value):(x.height*=t.style.lineHeight||1.2,x.ascent*=t.style.lineHeight||1.2),v<x.left&&(v=x.left),c<x.right&&(c=x.right),t._textInfo.push(x),d+=x.height,O=le||[]};O.length>0;)D()}),b||(i.restore(),a.restore()),y(this._textInfo,function(P,j){var O=0;y(P.textChunks,function(D){D.offsetX=O+D.left-P.left,D.offsetY+=P.height-P.height*(t.style.baselineRatio||.19),O+=D.width})});var m={left:o?-c:-v,top:0,right:o?v:c,bottom:d};if(u!=="none"){var w=this._fitRatio(m);if(w<1)if(u=="fit")_(this.style.minScale)&&w<this.style.minScale?this._textVisible=!1:((!this._originalScale||this._originalScale==1)&&(this._originalScale=this.scale),this.scale=w,this._textVisible=!0);else if(u=="hide")this._textVisible=!1;else{switch(this.style.textAlign){case"right":case"end":m.left=l,m.right=0;break;case"center":m.left=-l/2,m.right=l/2;break;default:m.left=0,m.right=l}this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this._textVisible=!0}return i.restore(),a.restore(),m}}),Object.defineProperty(r.prototype,"_fitRatio",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.style.maxWidth,i=this.style.maxHeight;if(!_(t)&&!_(i))return 1;var a=e.right-e.left,o=e.bottom-e.top;return Math.min(t/a||1,i/o||1)}}),Object.defineProperty(r.prototype,"_truncateText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o){a===void 0&&(a=!1),o===void 0&&(o=!0);var u;do{if(a)t=t.slice(0,-1);else{var l=t.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");l==""&&o?a=!0:t=l}var s=this._measureText(t,e);u=s.actualBoundingBoxLeft+s.actualBoundingBoxRight}while(u>i&&t!="");return t}}),Object.defineProperty(r.prototype,"_measureText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=t.measureText(e),a={};if(i.actualBoundingBoxAscent==null){var o=document.createElement("div");o.innerText=e,o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000000px;",o.style.fontFamily=this.style.fontFamily||"",o.style.fontSize=this.style.fontSize+"",document.body.appendChild(o);var u=o.getBoundingClientRect();document.body.removeChild(o);var l=u.height,s=i.width,f=0,h=s;a={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:f,actualBoundingBoxRight:h,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:s}}else a={actualBoundingBoxAscent:i.actualBoundingBoxAscent,actualBoundingBoxDescent:i.actualBoundingBoxDescent,actualBoundingBoxLeft:i.actualBoundingBoxLeft,actualBoundingBoxRight:i.actualBoundingBoxRight,fontBoundingBoxAscent:i.actualBoundingBoxAscent,fontBoundingBoxDescent:i.actualBoundingBoxDescent,width:i.width};var p=i.width;switch(this.style.textAlign){case"right":case"end":a.actualBoundingBoxLeft=p,a.actualBoundingBoxRight=0;break;case"center":a.actualBoundingBoxLeft=p/2,a.actualBoundingBoxRight=p/2;break;default:a.actualBoundingBoxLeft=0,a.actualBoundingBoxRight=p}return a}}),r}(st),sa=function(){function n(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:fe(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:"\u2026"}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}return n}(),fa=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(e,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(e,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(this.textType){case"circular":this._renderCircular(e);break;default:n.prototype._render.call(this,e);break}}}),Object.defineProperty(r.prototype,"_renderCircular",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._layer||e;this._prerender(t);var i=this._isInteractive(),a=t.context,o=t.dirty,u=this._renderer._ghostContext;a.save(),i&&u.save();var l=this.radius||0,s=this.startAngle||0,f=0,h=this.orientation,p=h=="auto"?"auto":h=="inward",b=this.inside,v=this.style.textAlign||"left",c=this.kerning||0,d=v=="left"?1:-1,g=!this._textReversed;if(this._textInfo||this._measure(t),p=="auto"){var m=0,w=0;y(this._textInfo,function(P,j){var O=s+P.width/(l-P.height)/2*-d;O>m&&(m=O)}),v=="left"?w=(m+f/2)*Ve:v=="right"?w=(m-f/2)*Ve:w=s*Ve,w=pi(w),p=w>=270||w<=90}p==!0&&g&&(this._textInfo.reverse(),this._textReversed=!0),y(this._textInfo,function(P,j){var O=P.height;b||(l+=O),(d==-1&&p||d==1&&!p)&&g&&P.textChunks.reverse();var D=s;f=0,v=="center"&&(D+=P.width/(l-O)/2*-d,f=D-s),D+=Math.PI*(p?0:1),a.save(),i&&u.save(),a.rotate(D),i&&u.rotate(D);var x=0;y(P.textChunks,function(S,M){var k=S.text,F=S.width;x=F/2/(l-O)*d,a.rotate(x),i&&u.rotate(x),S.style&&(a.save(),u.save(),a.font=S.style,i&&(u.font=S.style)),S.fill&&(a.save(),a.fillStyle=S.fill.toCSS()),a.textBaseline="middle",a.textAlign="center",i&&(u.textBaseline="middle",u.textAlign="center"),o&&a.fillText(k,0,(p?1:-1)*(0-l+O/2)),i&&u.fillText(k,0,(p?1:-1)*(0-l+O/2)),S.fill&&a.restore(),S.style&&(a.restore(),u.restore()),x=(F/2+c)/(l-O)*d,a.rotate(x),i&&u.rotate(x)}),a.restore(),i&&u.restore(),b&&(l-=O)}),a.restore(),i&&u.restore()}}),Object.defineProperty(r.prototype,"_measure",{enumerable:!1,configurable:!0,writable:!0,value:function(e){switch(this.textType){case"circular":return this._measureCircular(e);default:return n.prototype._measure.call(this,e)}}}),Object.defineProperty(r.prototype,"_measureCircular",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.context,a=this._renderer._ghostContext,o=this.style.direction=="rtl";this._textInfo=[],this._textReversed=!1,i.save(),a.save(),this._prerender(e,!0);var u=this.text.toString().replace(/\r/g,"").split(/\n/),l=!0,s=0;return y(u,function(f,h){var p=be.chunk(f,!1,t.style.ignoreFormatting),b={offsetY:s,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},v,c,d;y(p,function(g,m){if(g.type=="format")if(g.text=="[/]")l||(i.restore(),a.restore(),l=!0),c=void 0,v=void 0,d=void 0;else{var w=be.getTextStyle(g.text),P=t._getFontStyle(w);i.save(),a.save(),i.font=P,v=P,w.fill&&(c=w.fill),w.width&&(d=ae(w.width)),l=!1}else if(g.type=="value")for(var j=0;j<g.text.length;j++){var O=o?g.text:g.text[j],D=t._measureText(O,i),x=D.width;v&&d&&d>x&&(x=d);var S=D.actualBoundingBoxAscent+D.actualBoundingBoxDescent;if(S>b.height&&(b.height=S),D.actualBoundingBoxAscent>b.ascent&&(b.ascent=D.actualBoundingBoxAscent),b.width+=x,b.left+=D.actualBoundingBoxLeft,b.right+=D.actualBoundingBoxRight,b.textChunks.push({style:v,fill:c,text:O,width:x,height:S+D.actualBoundingBoxDescent,left:D.actualBoundingBoxLeft,right:D.actualBoundingBoxRight,ascent:D.actualBoundingBoxAscent,offsetX:0,offsetY:S,textDecoration:void 0}),o)break}}),t.style.lineHeight instanceof L?b.height*=t.style.lineHeight.value:b.height*=t.style.lineHeight||1.2,t._textInfo.push(b),s+=b.height}),l||(i.restore(),a.restore()),y(this._textInfo,function(f){y(f.textChunks,function(h){h.offsetY+=Math.round((f.height-h.height+(f.ascent-h.ascent))/2)})}),i.restore(),a.restore(),{left:0,top:0,right:0,bottom:0}}}),r}(wr),ca=function(n){T(r,n);function r(e,t){var i=n.call(this,e)||this;return Object.defineProperty(i,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(i,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),i.image=t,i}return Object.defineProperty(r.prototype,"getLocalBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._localBounds){var e=0,t=0;this.width&&(e=this.width),this.height&&(t=this.height),this._localBounds={left:0,top:0,right:e,bottom:t},this._addBounds(this._localBounds)}return this._localBounds}}),Object.defineProperty(r.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(n.prototype._render.call(this,e),this.image){var t=this._layer||e;if(this.tainted===void 0&&(this.tainted=_r(this.image),t.tainted=!0),this.tainted&&this._renderer._omitTainted)return;if(t.dirty){this.shadowColor&&(t.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(t.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(t.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(t.context.shadowOffsetY=this.shadowOffsetY);var i=this.width||this.image.naturalWidth,a=this.height||this.image.naturalHeight;t.context.drawImage(this.image,0,0,i,a)}if(this.interactive&&this._isInteractive()){var o=this._getMask(this.image);this._renderer._ghostContext.drawImage(o,0,0)}}}}),Object.defineProperty(r.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.clear.call(this),this.image=void 0,this._imageMask=void 0}}),Object.defineProperty(r.prototype,"_getMask",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._imageMask===void 0){var t=this.width||e.naturalWidth,i=this.height||e.naturalHeight,a=document.createElement("canvas");a.width=t,a.height=i;var o=a.getContext("2d");o.imageSmoothingEnabled=!1,o.fillStyle=this._getColorId(),o.fillRect(0,0,t,i),_r(e)||(o.globalCompositeOperation="destination-in",o.drawImage(e,0,0,t,i)),this._imageMask=a}return this._imageMask}}),r}(st),ha=function(){function n(r,e){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),De("touchevents")&&r instanceof Touch?this.id=r.identifier:this.id=null}return n}(),ba=function(n){T(r,n);function r(){var e=n.call(this)||this;if(Object.defineProperty(e,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(e,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(e,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:e.getLayer(0)}),Object.defineProperty(e,"_ghostView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_ghostContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(e,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:e._patternCanvas.getContext("2d")}),Object.defineProperty(e,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_clientWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_clientHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:window.devicePixelRatio}),Object.defineProperty(e,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(e,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_mouseMoveThrottler",{enumerable:!0,configurable:!0,writable:!0,value:new Ii(function(){e._dispatchGlobalMousemove(e._lastPointerMoveEvent.event,e._lastPointerMoveEvent.native)})}),e.view.appendChild(e._layerDom),e._disposers.push(new z(function(){I(e._events,function(i,a){a.disposer.dispose()})})),e._ghostView=document.createElement("canvas"),e._ghostContext=e._ghostView.getContext("2d",{alpha:!1}),e._ghostContext.imageSmoothingEnabled=!1,e._disposers.push(ce(window,"resize",function(i){e.resolution=window.devicePixelRatio})),De("touchevents")){var t=function(i){e._dragging.length!==0&&i.preventDefault()};e._disposers.push(ce(window,"touchstart",t,{passive:!1})),e._disposers.push(ce(e.view,"touchstart",t,{passive:!1}))}return De("wheelevents")&&e._disposers.push(ce(e.view,"wheel",function(i){var a=!1;e._hovering.forEach(function(o){if(o.wheelable)return a=!0,!1}),a&&i.preventDefault()},{passive:!1})),e}return Object.defineProperty(r.prototype,"createLinearGradient",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this.defaultLayer.context.createLinearGradient(e,t,i,a)}}),Object.defineProperty(r.prototype,"createRadialGradient",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u){return this.defaultLayer.context.createRadialGradient(e,t,i,a,o,u)}}),Object.defineProperty(r.prototype,"createPattern",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o){return this._patternCanvas.width=a,this._patternCanvas.height=o,this._patternContext.clearRect(0,0,a,o),t.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,i)}}),Object.defineProperty(r.prototype,"makeContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new Ui(this)}}),Object.defineProperty(r.prototype,"makeGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new la(this)}}),Object.defineProperty(r.prototype,"makeText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return new wr(this,e,t)}}),Object.defineProperty(r.prototype,"makeTextStyle",{enumerable:!1,configurable:!0,writable:!0,value:function(){return new sa}}),Object.defineProperty(r.prototype,"makeRadialText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return new fa(this,e,t)}}),Object.defineProperty(r.prototype,"makePicture",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return new ca(this,e)}}),Object.defineProperty(r.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;this._clientWidth=e,this._clientHeight=t,this._width=Math.floor(e*this.resolution),this._height=Math.floor(t*this.resolution),y(this.layers,function(a){a&&(a.dirty=!0,a.width!=null?(a.view.width=a.width,a.view.style.width=a.width+"px"):(a.view.width=i._width,a.view.style.width=e+"px"),a.height!=null?(a.view.height=a.height,a.view.style.height=a.height+"px"):(a.view.height=i._height,a.view.style.height=t+"px"))}),this._ghostView.width=this._width,this._ghostView.height=this._height,this._ghostView.style.width=e+"px",this._ghostView.style.height=t+"px"}}),Object.defineProperty(r.prototype,"createDetachedLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),i={view:e,context:t,order:0,visible:!0,width:void 0,height:void 0,dirty:!0,tainted:!1};return e.style.position="absolute",e.style.top="0px",e.style.left="0px",i}}),Object.defineProperty(r.prototype,"getLayerByOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(e){for(var t=this.layers,i=t.length,a=0;a<i;a++){var o=t[a];if(o.order==e)return o}}}),Object.defineProperty(r.prototype,"getLayer",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0);var i=this.layers,a=this.getLayerByOrder(e);if(a)return a;var o=this.createDetachedLayer();o.order=e,o.visible=t,o.visible&&this._width&&(o.view.width=this._width,o.view.style.width=this._clientWidth+"px",o.view.height=this._height,o.view.style.height=this._clientHeight+"px"),i.push(o),i.sort(function(h,p){return h.order>p.order?1:h.order<p.order?-1:0});for(var u=i.length,l=Ye(i,o),s,f=l+1;f<u;f++)if(i[f].visible){s=i[f];break}return t&&(s===void 0?this._layerDom.appendChild(o.view):this._layerDom.insertBefore(o.view,s.view)),o}}),Object.defineProperty(r.prototype,"render",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this._dirtyLayers.length=0,y(this.layers,function(i){if(i&&i.dirty&&i.visible){var a=i.context;t._dirtyLayers.push(i),a.save(),a.clearRect(0,0,t._width,t._height)}}),this._ghostContext.save(),this._ghostContext.fillStyle="#000",this._ghostContext.fillRect(0,0,this._width,this._height),e.render(this.defaultLayer),this._ghostContext.restore(),y(this.layers,function(i){if(i){var a=i.context;a.beginPath(),a.moveTo(0,0),a.stroke()}}),y(this._dirtyLayers,function(i){i.context.restore(),i.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent&&this._mouseMoveThrottler.run()}}),Object.defineProperty(r.prototype,"paintId",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=Vi(++this._colorId),i=E.fromHex(t).toCSS();return this._colorMap[i]=e,i}}),Object.defineProperty(r.prototype,"_removeObject",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}}),Object.defineProperty(r.prototype,"getEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){t===void 0&&(t=!0);var i=t?this.view.getBoundingClientRect():{left:0,top:0};return new ha(e,e.clientX||e.clientY?{x:e.clientX-(e.clientX?i.left:0),y:e.clientY-(e.clientY?i.top:0)}:{x:0,y:0})}}),Object.defineProperty(r.prototype,"_getHitTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!(e.x<0||e.x>this._width/this.resolution||e.y<0||e.y>this._height/this.resolution)){var t=this._ghostContext.getImageData(Math.round(e.x*this.resolution),Math.round(e.y*this.resolution),1,1);if(t.data[0]===0&&t.data[1]===0&&t.data[2]===0)return!1;var i=E.fromRGB(t.data[0],t.data[1],t.data[2]).toCSS(),a=this._colorMap[i];return a}}}),Object.defineProperty(r.prototype,"_withEvents",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this._events[e];if(i!==void 0){i.dispatching=!0;try{t(i)}finally{i.dispatching=!1,i.cleanup&&(i.cleanup=!1,Ze(i.callbacks,function(a){return!a.disposed}),i.callbacks.length===0&&(i.disposer.dispose(),delete this._events[e]))}}}}),Object.defineProperty(r.prototype,"_dispatchEventAll",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){!this.interactionsEnabled||this._withEvents(e,function(i){y(i.callbacks,function(a){a.disposed||a.callback.call(a.context,t)})})}}),Object.defineProperty(r.prototype,"_dispatchEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(!this.interactionsEnabled)return!1;var a=!1;return this._withEvents(e,function(o){y(o.callbacks,function(u){!u.disposed&&u.object===t&&(u.callback.call(u.context,i),a=!0)})}),a}}),Object.defineProperty(r.prototype,"_dispatchMousedown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.button;if(!(i!=0&&i!=2&&i!=1)){var a=this.getEvent(e),o=this._getHitTarget(a.point);if(o){var u=a.id,l=!1;Nt(o,function(s){var f={id:u,value:s};if(t._mousedown.push(f),!l&&t._dispatchEvent("pointerdown",s,a)){l=!0;var h=t._dragging.some(function(p){return p.value===s&&p.id===u});h||t._dragging.push(f)}return!0})}}}}),Object.defineProperty(r.prototype,"_dispatchGlobalMousemove",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=this.getEvent(e),o=this._getHitTarget(a.point);a.native=t,o?(this._hovering.forEach(function(u){u.contains(o)||(i._hovering.delete(u),u.cursorOverStyle&&xt(document.body,"cursor",u._replacedCursorStyle),i._dispatchEvent("pointerout",u,a))}),a.native&&Nt(o,function(u){return i._hovering.has(u)||(i._hovering.add(u),u.cursorOverStyle&&(u._replacedCursorStyle=$r(document.body,"cursor"),xt(document.body,"cursor",u.cursorOverStyle)),i._dispatchEvent("pointerover",u,a)),!0})):(this._hovering.forEach(function(u){u.cursorOverStyle&&xt(document.body,"cursor",u._replacedCursorStyle),i._dispatchEvent("pointerout",u,a)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",a)}}),Object.defineProperty(r.prototype,"_dispatchGlobalMouseup",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.getEvent(e);i.native=t,this._dispatchEventAll("globalpointerup",i)}}),Object.defineProperty(r.prototype,"_dispatchDragMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;if(this._dragging.length!==0){var i=this.getEvent(e),a=i.id;this._dragging.forEach(function(o){o.id===a&&t._dispatchEvent("pointermove",o.value,i)})}}}),Object.defineProperty(r.prototype,"_dispatchDragEnd",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.button,a;if(i==0)a="click";else if(i==2)a="rightclick";else if(i==1)a="middleclick";else return;var o=this.getEvent(e),u=o.id;if(this._mousedown.length!==0){var l=this._getHitTarget(o.point);l&&this._mousedown.forEach(function(s){s.id===u&&s.value.contains(l)&&t._dispatchEvent(a,s.value,o)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(function(s){s.id===u&&t._dispatchEvent("pointerup",s.value,o)}),this._dragging.length=0)}}),Object.defineProperty(r.prototype,"_dispatchDoubleClick",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.getEvent(e),a=this._getHitTarget(i.point);a&&Nt(a,function(o){return!t._dispatchEvent("dblclick",o,i)})}}),Object.defineProperty(r.prototype,"_dispatchWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.getEvent(e);this._hovering.forEach(function(a){t._dispatchEvent("wheel",a,i)})}}),Object.defineProperty(r.prototype,"_makeSharedEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;if(this._listeners[e]===void 0){var a=t();this._listeners[e]=new Zt(function(){delete i._listeners[e],a.dispose()})}return this._listeners[e].increment()}}),Object.defineProperty(r.prototype,"_onPointerEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=!1,a=null;function o(){a=null,i=!1}return new ue([new z(function(){a!==null&&clearTimeout(a),o()}),ce(this.view,Ot(e),function(u){i=!0,a!==null&&clearTimeout(a),a=window.setTimeout(o,0)}),mr(window,e,function(u){a!==null&&(clearTimeout(a),a=null),t(u,i),i=!1})])}}),Object.defineProperty(r.prototype,"_initEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",function(){return t._onPointerEvent("pointermove",function(i,a){t._lastPointerMoveEvent={event:i,native:a},t._mouseMoveThrottler.run()})});case"globalpointerup":return this._makeSharedEvent("pointerup",function(){return t._onPointerEvent("pointerup",function(i,a){t._dispatchGlobalMouseup(i,a),t._lastPointerMoveEvent={event:i,native:a}})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",function(){var i=mr(t.view,"pointerdown",function(u){t._dispatchMousedown(u)}),a=t._onPointerEvent("pointermove",function(u){t._dispatchDragMove(u)}),o=t._onPointerEvent("pointerup",function(u){t._dispatchDragEnd(u)});return new z(function(){i.dispose(),a.dispose(),o.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",function(){return t._onPointerEvent("dblclick",function(i){t._dispatchDoubleClick(i)})});case"wheel":return this._makeSharedEvent("wheel",function(){return ce(window,Ot("wheel"),function(i){t._dispatchWheel(i)},{passive:!1})})}}}),Object.defineProperty(r.prototype,"_addEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=this,u=this._events[t];u===void 0&&(u=this._events[t]={disposer:this._initEvent(t),callbacks:[],dispatching:!1,cleanup:!1});var l={object:e,context:a,callback:i,disposed:!1};return u.callbacks.push(l),new z(function(){l.disposed=!0,u.dispatching?u.cleanup=!0:(te(u.callbacks,l),u.callbacks.length===0&&(u.disposer.dispose(),delete o._events[t]))})}}),Object.defineProperty(r.prototype,"getCanvas",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.render(e),t||(t={});var i=this.resolution;if(t.minWidth&&t.minWidth>this._width){var a=t.minWidth/this._width;a>i&&(i=a*this.resolution)}if(t.minHeight&&t.minHeight>this._height){var a=t.minHeight/this._height;a>i&&(i=a*this.resolution)}if(t.maxWidth&&t.maxWidth<this._width){var o=t.maxWidth/this._width;o<i&&(i=o*this.resolution)}if(t.maxHeight&&t.maxHeight>this._height){var o=t.maxHeight/this._height;o<i&&(i=o*this.resolution)}t.maintainPixelRatio&&(i/=this.resolution);var u=!1,l=this._width,s=this._height,f=document.createElement("canvas");i!=this.resolution&&(u=!0,l=this._width*i/this.resolution,s=this._height*i/this.resolution),f.width=l,f.height=s;var h=f.getContext("2d"),p=0,b=0,v=!1;return y(this.layers,function(c){c&&c.visible&&(c.tainted||u)&&(v=!0,c.exportableView=c.view,c.exportableContext=c.context,c.view=document.createElement("canvas"),c.view.width=l,c.view.height=s,c.context=c.view.getContext("2d"),c.dirty=!0,c.scale=i)}),v&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),y(this.layers,function(c){c&&c.visible&&(h.drawImage(c.view,0,0),c.exportableView&&(c.view=c.exportableView,c.exportableView=void 0),c.exportableContext&&(c.context=c.exportableContext,c.exportableContext=void 0),p<c.view.clientWidth&&(p=c.view.clientWidth),b<c.view.clientHeight&&(b=c.view.clientHeight),c.scale=void 0)}),f.style.width=p+"px",f.style.height=b+"px",f}}),r}(Xr);function Pr(n,r){n==null?requestAnimationFrame(r):setTimeout(function(){requestAnimationFrame(r)},1e3/n)}var Ta=function(){function n(r,e){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Oe}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:new ba}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:Li.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:dr}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Ei.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Ri.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:Bi.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Rt.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:Et.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:ot.new(this,{})}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),!e)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");var t;if(r instanceof HTMLElement?t=r:t=document.getElementById(r),y(ye.rootElements,function(a){if(a.dom===t)throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=Mi.new(this,{}),t===null)throw new Error("Could not find HTML element with id `"+r+"`");this.dom=t;var i=document.createElement("div");i.style.position="relative",t.appendChild(i),this._inner=i,ye.rootElements.push(this)}return Object.defineProperty(n,"new",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=new n(r,!0);return e._init(),e}}),Object.defineProperty(n.prototype,"moveDOM",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e;if(r instanceof HTMLElement?e=r:e=document.getElementById(r),e){for(;this.dom.childNodes.length>0;)e.appendChild(this.dom.childNodes[0]);this.dom=e,this._initResizeSensor(),this.resize()}}}),Object.defineProperty(n.prototype,"_handleLogo",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this._logo){var r=this.dom.offsetWidth,e=this.dom.offsetHeight;r<=150||e<=60?this._logo.hide():this._logo.show()}}}),Object.defineProperty(n.prototype,"_showBranding",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this._logo){var r=this.tooltipContainer.children.push(R.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:fe(100),centerY:C,tooltipText:"Created using amCharts 5",tooltipX:C,cursorOverStyle:"pointer",background:_e.new(this,{fill:He(4671320),fillOpacity:0,tooltipY:5})})),e=pr.new(this,{pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});e.label.setAll({fontSize:12}),e.get("background").setAll({fill:this.interfaceColors.get("background"),stroke:this.interfaceColors.get("grid"),strokeOpacity:.3}),r.set("tooltip",e),r.events.on("click",function(){window.open("https://www.amcharts.com/","_blank")}),r.states.create("hover",{});var t=r.children.push(ee.new(this,{stroke:He(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"}));t.states.create("hover",{stroke:He(3976191)});var i=r.children.push(ee.new(this,{stroke:He(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"}));i.states.create("hover",{stroke:He(4671320)}),this._logo=r,this._handleLogo()}}}),Object.defineProperty(n.prototype,"_init",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this,e=this._renderer,t=R.new(this,{visible:!0,width:this.dom.clientWidth,height:this.dom.clientHeight});this._rootContainer=t,this._rootContainer._defaultThemes.push(Fi.new(this));var i=t.children.push(R.new(this,{visible:!0,width:C,height:C}));this.container=i,e.resize(this.dom.clientWidth,this.dom.clientHeight),this._inner.appendChild(e.view),this._initResizeSensor();var a=document.createElement("div");a.setAttribute("role","alert"),a.style.zIndex="-100000",a.style.opacity="0",a.style.position="absolute",a.style.top="0",this._readerAlertElement=a,this._inner.appendChild(this._readerAlertElement);var o=document.createElement("div");o.style.position="absolute",o.style.pointerEvents="none",o.style.top="0px",o.style.left="0px",o.style.overflow="hidden",o.style.width=this.dom.clientWidth+"px",o.style.height=this.dom.clientHeight+"px",o.setAttribute("role","application"),jt(o,!1),this._focusElementContainer=o,this._inner.appendChild(this._focusElementContainer),this._tooltipElementContainer=document.createElement("div"),this._inner.appendChild(this._tooltipElementContainer),De("keyboardevents")&&(this._disposers.push(ce(o,"keydown",function(u){var l=r._focusedSprite;if(l){u.keyCode==27&&(Kr(),r._focusedSprite=void 0);var s=0,f=0;switch(u.keyCode){case 13:u.preventDefault();var h=e.getEvent(new MouseEvent("click"));l.events.dispatch("click",{type:"click",originalEvent:h.event,point:h.point,simulated:!0,target:l});return;case 37:s=-6;break;case 39:s=6;break;case 38:f=-6;break;case 40:f=6;break;default:return}if(s!=0||f!=0){if(u.preventDefault(),!l.isDragging()){r._keyboardDragPoint={x:0,y:0};var h=e.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));l.events.isEnabled("pointerdown")&&l.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:h.event,point:h.point,simulated:!0,target:l})}var p=r._keyboardDragPoint;p.x+=s,p.y+=f;var b=e.getEvent(new MouseEvent("mousemove",{clientX:p.x,clientY:p.y}),!1);l.events.isEnabled("globalpointermove")&&l.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:b.event,point:b.point,simulated:!0,target:l})}}})),this._disposers.push(ce(o,"keyup",function(u){if(r._focusedSprite){var l=r._focusedSprite,s=u.keyCode;switch(s){case 37:case 39:case 38:case 40:if(l.isDragging()){var f=r._keyboardDragPoint,h=e.getEvent(new MouseEvent("mouseup",{clientX:f.x,clientY:f.y}));l.events.isEnabled("globalpointerup")&&l.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:h.event,point:h.point,simulated:!0,target:l}),r._keyboardDragPoint=void 0;return}else if(l.get("focusableGroup")){var p=l.get("focusableGroup"),b=r._tabindexes.filter(function(d){return d.get("focusableGroup")==p}),v=b.indexOf(l),c=b.length-1;v+=s==39||s==40?1:-1,v<0?v=c:v>c&&(v=0),qr(b[v].getPrivate("focusElement").dom)}break}}}))),this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}}),Object.defineProperty(n.prototype,"_initResizeSensor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new Ai(this.dom,function(){r.autoResize&&r.resize()}),this._disposers.push(this._resizeSensorDisposer)}}),Object.defineProperty(n.prototype,"resize",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this.dom,e=r.clientWidth,t=r.clientHeight;if(e>0&&t>0){var i=this._focusElementContainer;i.style.width=e+"px",i.style.height=t+"px",this._renderer.resize(e,t);var a=this._rootContainer;a.setPrivate("width",e),a.setPrivate("height",t),this._render(),this._handleLogo()}}}),Object.defineProperty(n.prototype,"_render",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}}),Object.defineProperty(n.prototype,"_runTickers",{enumerable:!1,configurable:!0,writable:!0,value:function(r){y(this._tickers,function(e){e(r)})}}),Object.defineProperty(n.prototype,"_runAnimations",{enumerable:!1,configurable:!0,writable:!0,value:function(r){Ze(this._animations,function(e){return!e._runAnimation(r)})}}),Object.defineProperty(n.prototype,"_runDirties",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var r=this,e={};this._isDirtyParents;)this._isDirtyParents=!1,Z(this._dirtyParents).forEach(function(u){var l=r._dirtyParents[u];delete r._dirtyParents[u],l.isDisposed()||(e[l.uid]=l,l._prepareChildren())});Z(e).forEach(function(u){e[u]._updateChildren()});var t=[];Z(this._dirty).forEach(function(u){var l=r._dirty[u];l.isDisposed()?delete r._dirty[l.uid]:(t.push(l),l._beforeChanged())}),t.forEach(function(u){u._changed(),delete r._dirty[u.uid],u._clearDirty()}),this._isDirty=!1;var i={},a=[];Z(this._dirtyBounds).forEach(function(u){var l=r._dirtyBounds[u];delete r._dirtyBounds[u],l.isDisposed()||(i[l.uid]=l.depth(),a.push(l))}),a.sort(function(u,l){return Te(i[l.uid],i[u.uid])}),a.forEach(function(u){u._updateBounds()});var o=this._dirtyPositions;Z(o).forEach(function(u){var l=o[u];delete o[u],l.isDisposed()||l._updatePosition()}),t.forEach(function(u){u._afterChanged()})}}),Object.defineProperty(n.prototype,"_runTicker",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this.isDisposed()||(this.animationTime=r,this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:r}),this._runTickers(r),this._runAnimations(r),this._runDirties(),this._render(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:r}),this._tickers.length===0&&this._animations.length===0&&!this._isDirty?(this._ticker=null,this.animationTime=null):Pr(this.fps,this._ticker))}}),Object.defineProperty(n.prototype,"_startTicker",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._ticker===null&&(this.animationTime=null,this._ticker=function(e){r._runTicker(e)},Pr(this.fps,this._ticker))}}),Object.defineProperty(n.prototype,"_addDirtyEntity",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirty[r.uid]===void 0&&(this._isDirty=!0,this._dirty[r.uid]=r,this._startTicker())}}),Object.defineProperty(n.prototype,"_addDirtyParent",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyParents[r.uid]===void 0&&(this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[r.uid]=r,this._startTicker())}}),Object.defineProperty(n.prototype,"_addDirtyBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyBounds[r.uid]===void 0&&(this._isDirty=!0,this._dirtyBounds[r.uid]=r,this._startTicker())}}),Object.defineProperty(n.prototype,"_addDirtyPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._dirtyPositions[r.uid]===void 0&&(this._isDirty=!0,this._dirtyPositions[r.uid]=r,this._startTicker())}}),Object.defineProperty(n.prototype,"_addAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._animations.indexOf(r)===-1&&(this._animations.push(r),this._startTicker())}}),Object.defineProperty(n.prototype,"eachFrame",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this;return this._tickers.push(r),this._startTicker(),new z(function(){te(e._tickers,r)})}}),Object.defineProperty(n.prototype,"width",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.dom.clientWidth}}),Object.defineProperty(n.prototype,"height",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.dom.clientHeight}}),Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),y(this._disposers,function(r){r.dispose()}),this._inner&&Wr(this._inner),de(ye.rootElements,this))}}),Object.defineProperty(n.prototype,"isDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this._isDisposed}}),Object.defineProperty(n.prototype,"readerAlert",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._readerAlertElement.innerHTML=r}}),Object.defineProperty(n.prototype,"setThemes",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._rootContainer.set("themes",r);var e=this.tooltipContainer;e&&e._applyThemes();var t=this.interfaceColors;t&&t._applyThemes()}}),Object.defineProperty(n.prototype,"_addTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(!this.tooltipContainer){var r=this._rootContainer.children.push(R.new(this,{position:"absolute",isMeasured:!1,width:C,height:C,layer:100}));this.tooltipContainer=r;var e=pr.new(this,{});this.container.set("tooltip",e),e.hide(0),this._tooltip=e}}}),Object.defineProperty(n.prototype,"_registerTabindexOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(r){r.get("focusable")?Je(this._tabindexes,r):de(this._tabindexes,r),this._invalidateTabindexes()}}),Object.defineProperty(n.prototype,"_unregisterTabindexOrder",{enumerable:!1,configurable:!0,writable:!0,value:function(r){de(this._tabindexes,r),this._invalidateTabindexes()}}),Object.defineProperty(n.prototype,"_invalidateTabindexes",{enumerable:!1,configurable:!0,writable:!0,value:function(){var r=this;this._tabindexes.sort(function(t,i){var a=t.get("tabindexOrder",0),o=i.get("tabindexOrder",0);return a==o?0:a>o?1:-1});var e=[];y(this._tabindexes,function(t,i){t.getPrivate("focusElement")?r._moveFocusElement(i,t):r._makeFocusElement(i,t);var a=t.get("focusableGroup");a&&(e.indexOf(a)!==-1?t.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(a))})}}),Object.defineProperty(n.prototype,"_updateCurrentFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}}),Object.defineProperty(n.prototype,"_decorateFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){if(e||(e=r.getPrivate("focusElement").dom),!!e){r.get("visible")&&r.get("role")!="tooltip"&&!r.isHidden()?e.getAttribute("tabindex")!="-1"&&e.setAttribute("tabindex",""+this.tabindex):e.removeAttribute("tabindex");var t=r.get("role");t?e.setAttribute("role",t):e.removeAttribute("role");var i=r.get("ariaLabel");if(i){var a=Bt(r,i);e.setAttribute("aria-label",a)}else e.removeAttribute("aria-label");var o=r.get("ariaLive");o?e.setAttribute("aria-live",o):e.removeAttribute("aria-live");var u=r.get("ariaChecked");u!=null?e.setAttribute("aria-checked",u?"true":"false"):e.removeAttribute("aria-checked"),r.get("ariaHidden")?e.setAttribute("aria-hidden","hidden"):e.removeAttribute("aria-hidden");var l=r.get("ariaOrientation");l?e.setAttribute("aria-orientation",l):e.removeAttribute("aria-orientation");var s=r.get("ariaValueNow");s?e.setAttribute("aria-valuenow",s):e.removeAttribute("aria-valuenow");var f=r.get("ariaValueMin");f?e.setAttribute("aria-valuemin",f):e.removeAttribute("aria-valuemin");var h=r.get("ariaValueMax");h?e.setAttribute("aria-valuemax",h):e.removeAttribute("aria-valuemax");var p=r.get("ariaValueText");p?e.setAttribute("aria-valuetext",p):e.removeAttribute("aria-valuetext");var b=r.get("ariaControls");b?e.setAttribute("aria-controls",b):e.removeAttribute("aria-controls")}}}),Object.defineProperty(n.prototype,"_makeFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this;if(!e.getPrivate("focusElement")){var i=document.createElement("div");e.get("role")!="tooltip"&&(i.tabIndex=this.tabindex),i.style.position="absolute",jt(i,!1);var a=[];e.setPrivate("focusElement",{dom:i,disposers:a}),this._decorateFocusElement(e),a.push(ce(i,"focus",function(o){t._handleFocus(o,r)})),a.push(ce(i,"blur",function(o){t._handleBlur(o,r)})),this._moveFocusElement(r,e)}}}),Object.defineProperty(n.prototype,"_removeFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._focusElementContainer,t=r.getPrivate("focusElement");e.removeChild(t.dom),y(t.disposers,function(i){i.dispose()})}}),Object.defineProperty(n.prototype,"_moveFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._focusElementContainer,i=e.getPrivate("focusElement").dom;if(i!==this._focusElementContainer.children[r]){var a=this._focusElementContainer.children[r+1];a?t.insertBefore(i,a):t.append(i)}}}),Object.defineProperty(n.prototype,"_positionFocusElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r.globalBounds(),t=e.right==e.left?r.width():e.right-e.left,i=e.top==e.bottom?r.height():e.bottom-e.top,a=r.getPrivate("focusElement").dom;a.style.top=e.top-2+"px",a.style.left=e.left-2+"px",a.style.width=t+4+"px",a.style.height=i+4+"px"}}),Object.defineProperty(n.prototype,"_handleFocus",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._tabindexes[e];this._positionFocusElement(t),this._focusedSprite=t,t.events.isEnabled("focus")&&t.events.dispatch("focus",{type:"focus",originalEvent:r,target:t})}}),Object.defineProperty(n.prototype,"_handleBlur",{enumerable:!1,configurable:!0,writable:!0,value:function(r,e){var t=this._focusedSprite;t&&t.events.isEnabled("blur")&&t.events.dispatch("blur",{type:"blur",originalEvent:r,target:t}),this._focusedSprite=void 0}}),Object.defineProperty(n.prototype,"updateTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=r._getText(),t=r.getPrivate("tooltipElement");r.get("role")=="tooltip"&&e!=""?(t||(t=this._makeTooltipElement(r)),t.innerHTML!=e&&(t.innerHTML=e)):t&&(t.remove(),r.removePrivate("tooltipElement"))}}),Object.defineProperty(n.prototype,"_makeTooltipElement",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this._tooltipElementContainer,t=document.createElement("div");return t.style.position="absolute",t.style.opacity="0.0000001",jt(t,!1),this._decorateFocusElement(r,t),e.append(t),r.setPrivate("tooltipElement",t),t}}),Object.defineProperty(n.prototype,"_invalidateAccessibility",{enumerable:!1,configurable:!0,writable:!0,value:function(r){this._focusElementDirty=!0;var e=r.getPrivate("focusElement");r.get("focusable")?e&&(this._decorateFocusElement(r),this._positionFocusElement(r)):e&&this._removeFocusElement(r)}}),Object.defineProperty(n.prototype,"focused",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._focusedSprite===r}}),Object.defineProperty(n.prototype,"documentPointToRoot",{enumerable:!1,configurable:!0,writable:!0,value:function(r){var e=this.dom.getBoundingClientRect();return{x:r.x-e.left,y:r.y-e.top}}}),Object.defineProperty(n.prototype,"addDisposer",{enumerable:!1,configurable:!0,writable:!0,value:function(r){return this._disposers.push(r),r}}),Object.defineProperty(n.prototype,"_hasLicense",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var r=0;r<ye.licenses.length;r++)if(ye.licenses[r].match(/^AM5C.{5,}/i))return!0;return!1}}),n}(),Ca=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"series",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterNewApplyThemes.call(this)}}),Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._beforeChanged.call(this),this.isDirty("sprite")){var e=this.get("sprite");e&&(e.setAll({position:"absolute",role:"figure"}),this._disposers.push(e))}(this.isDirty("locationX")||this.isDirty("locationY"))&&this.series&&this.series._positionBullet(this)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Bullet"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),Ht=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_draw",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.width(),t=this.height(),i=e,a=t,o=i/Math.abs(e),u=a/Math.abs(t);if(_(i)&&_(a)){var l=Math.min(i,a)/2,s=Q(this.get("cornerRadiusTL",8),l),f=Q(this.get("cornerRadiusTR",8),l),h=Q(this.get("cornerRadiusBR",8),l),p=Q(this.get("cornerRadiusBL",8),l),b=Math.min(Math.abs(i/2),Math.abs(a/2));s=V(s,0,b),f=V(f,0,b),h=V(h,0,b),p=V(p,0,b),this._display.moveTo(s*o,0),this._display.lineTo(i-f*o,0),f>0&&this._display.arcTo(i,0,i,f*u,f),this._display.lineTo(i,a-h*u),h>0&&this._display.arcTo(i,a,i-h*o,a,h),this._display.lineTo(p*o,a),p>0&&this._display.arcTo(0,a,0,a-p*u,p),this._display.lineTo(0,s*u),s>0&&this._display.arcTo(0,0,s*o,0,s)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:_e.classNames.concat([r.className])}),r}(_e),pa=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=W(this._settings.themeTags,["button"]),n.prototype._afterNew.call(this),this._settings.background||this.set("background",Ht.new(this._root,{themeTags:W(this._settings.themeTags,["background"])}))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._prepareChildren.call(this),this.isDirty("icon")){var e=this._prevSettings.icon,t=this.get("icon");t!==e&&(this._disposeProperty("icon"),e&&e.dispose(),t&&this.children.push(t),this._prevSettings.icon=t)}if(this.isDirty("label")){var e=this._prevSettings.label,i=this.get("label");i!==e&&(this._disposeProperty("label"),e&&e.dispose(),i&&this.children.push(i),this._prevSettings.label=i)}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Button"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([r.className])}),r}(R),da=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"incrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"decrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_onPush",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.processor&&this.processor.processRow(e),n.prototype._onPush.call(this,e)}}),Object.defineProperty(r.prototype,"_onInsertIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this.processor&&this.processor.processRow(t),n.prototype._onInsertIndex.call(this,e,t)}}),Object.defineProperty(r.prototype,"_onSetIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.processor&&this.processor.processRow(i),n.prototype._onSetIndex.call(this,e,t,i)}}),r}(ke);(function(){function n(r){Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=r}return Object.defineProperty(n.prototype,"incrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(n.prototype,"decrementRef",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),n})();var Be=function(n){T(r,n);function r(e,t,i){var a=n.call(this,i)||this;return Object.defineProperty(a,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(a,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a.dataContext=t,a.component=e,a._settings.visible=!0,a._checkDirty(),a}return Object.defineProperty(r.prototype,"markDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component.markDirtyValues(this)}}),Object.defineProperty(r.prototype,"_startAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component._root._addAnimation(this)}}),Object.defineProperty(r.prototype,"_animationTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.component._root.animationTime}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.component&&this.component.disposeDataItem(this),n.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}}),Object.defineProperty(r.prototype,"isHidden",{enumerable:!1,configurable:!0,writable:!0,value:function(){return!this.get("visible")}}),r}(br),ft=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new da}),Object.defineProperty(e,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:e._dataItems}),Object.defineProperty(e,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(e,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return Object.defineProperty(r.prototype,"data",{get:function(){return this._data},set:function(e){e.incrementRef(),this._data.decrementRef(),this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._dispose.call(this),this._data.decrementRef()}}),Object.defineProperty(r.prototype,"_onDataClear",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._afterNew.call(this),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(function(t){var i=e._mainDataItems;if(e.markDirtyValues(),e._markDirtyGroup(),e._dataChanged=!0,t.type==="clear")y(i,function(l){l.dispose()}),i.length=0,e._onDataClear();else if(t.type==="push"){var a=new Be(e,t.newValue,e._makeDataItem(t.newValue));i.push(a),e.processDataItem(a)}else if(t.type==="setIndex"){var o=i[t.index],u=e._makeDataItem(t.newValue);Z(u).forEach(function(l){o.animate({key:l,to:u[l],duration:e.get("interpolationDuration",0),easing:e.get("interpolationEasing")})}),o.dataContext=t.newValue}else if(t.type==="insertIndex"){var a=new Be(e,t.newValue,e._makeDataItem(t.newValue));i.splice(t.index,0,a),e.processDataItem(a)}else if(t.type==="removeIndex"){var a=i[t.index];a.dispose(),i.splice(t.index,1)}else if(t.type==="moveIndex"){var a=i[t.oldIndex];i.splice(t.oldIndex,1),i.splice(t.newIndex,0,a)}else throw new Error("Unknown IStreamEvent type");e._afterDataChange()}))}}),Object.defineProperty(r.prototype,"_updateFields",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.valueFields&&(this._valueFields=[],this._valueFieldsF={},y(this.valueFields,function(t){var i=e.get(t+"Field");i&&(e._valueFields.push(t),e._valueFieldsF[t]={fieldKey:t+"Field",workingKey:t+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},y(this.fields,function(t){var i=e.get(t+"Field");i&&(e._fields.push(t),e._fieldsF[t]=t+"Field")}))}}),Object.defineProperty(r.prototype,"dataItems",{get:function(){return this._dataItems},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"processDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_makeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i={};return this._valueFields&&y(this._valueFields,function(a){var o=t.get(t._valueFieldsF[a].fieldKey);i[a]=e[o],i[t._valueFieldsF[a].workingKey]=i[a]}),this._fields&&y(this._fields,function(a){var o=t.get(t._fieldsF[a]);i[a]=e[o]}),i}}),Object.defineProperty(r.prototype,"makeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=new Be(this,void 0,e);return this.processDataItem(t),t}}),Object.defineProperty(r.prototype,"pushDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.makeDataItem(e);return this._mainDataItems.push(t),t}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){return K(this,function(i){return e.set("visible",!0),[2]})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){return K(this,function(i){return e.set("visible",!1),[2]})})}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._clearDirty.call(this),this._valuesDirty=!1}}),Object.defineProperty(r.prototype,"_afterDataChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._afterChanged.call(this),this._dataChanged){var e="datavalidated";this.events.isEnabled(e)&&(this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1)}this.inited=!0}}),Object.defineProperty(r.prototype,"markDirtyValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.markDirty(),this._valuesDirty=!0}}),Object.defineProperty(r.prototype,"_markDirtyGroup",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dataGrouped=!1}}),Object.defineProperty(r.prototype,"markDirtySize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._sizeDirty=!0,this.markDirty()}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([r.className])}),r}(R);function va(n){return new Promise(function(r,e){setTimeout(r,n)})}var ga={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:365.242/12*864e5,year:31536e6};function Le(n,r){return r==null&&(r=1),ga[n]*r}function Vt(n,r,e,t,i,a,o){if(!o||i){var u=0;switch(!i&&r!="millisecond"&&(u=n.getTimezoneOffset(),n.setUTCMinutes(n.getUTCMinutes()-u)),r){case"day":var l=n.getUTCDate();if(e>1){if(a){a=Vt(a,"day",1);var s=n.getTime()-a.getTime(),f=Math.floor(s/Le("day")/e),h=Le("day",f*e);n.setTime(a.getTime()+h-u*Le("minute"))}}else n.setUTCDate(l);n.setUTCHours(0,0,0,0);break;case"second":var p=n.getUTCSeconds();e>1&&(p=Math.floor(p/e)*e),n.setUTCSeconds(p,0);break;case"millisecond":if(e==1)return n;var b=n.getUTCMilliseconds();b=Math.floor(b/e)*e,n.setUTCMilliseconds(b);break;case"hour":var v=n.getUTCHours();e>1&&(v=Math.floor(v/e)*e),n.setUTCHours(v,0,0,0);break;case"minute":var c=n.getUTCMinutes();b=n.getUTCMilliseconds(),e>1&&(c=Math.floor(c/e)*e),n.setUTCMinutes(c,0,0);break;case"month":var d=n.getUTCMonth();e>1&&(d=Math.floor(d/e)*e),n.setUTCMonth(d,1),n.setUTCHours(0,0,0,0);break;case"year":var g=n.getUTCFullYear();e>1&&(g=Math.floor(g/e)*e),n.setUTCFullYear(g,0,1),n.setUTCHours(0,0,0,0);break;case"week":var m=n.getUTCDate(),w=n.getUTCDay();_(t)||(t=1),w>=t?m=m-w+t:m=m-(7+w)+t,n.setUTCDate(m),n.setUTCHours(0,0,0,0);break}if(!i&&r!="millisecond"&&(n.setUTCMinutes(n.getUTCMinutes()+u),r=="day"||r=="week"||r=="month"||r=="year")){var P=n.getTimezoneOffset();if(P!=u){var j=P-u;n.setUTCMinutes(n.getUTCMinutes()+j)}}return n}else{var O=o.offsetUTC(n),u=n.getTimezoneOffset(),D=o.parseDate(n),g=D.year,d=D.month,l=D.day,x=D.hour,S=D.minute,M=D.second,k=D.millisecond;switch(r){case"day":if(a){a=Vt(a,"day",1);var s=n.getTime()-a.getTime(),f=Math.floor(s/Le("day")/e),h=Le("day",f*e);n.setTime(a.getTime()+h-u*Le("minute")),g=n.getUTCFullYear(),d=n.getUTCMonth(),l=n.getUTCDate()}x=0,S=0,M=0,k=0;break;case"second":e>1&&(M=Math.floor(M/e)*e),k=0;break;case"millisecond":e>1&&(k=Math.floor(k/e)*e);break;case"hour":e>1&&(x=Math.floor(x/e)*e),S=0,M=0,k=0;break;case"minute":e>1&&(S=Math.floor(S/e)*e),M=0,k=0;break;case"month":e>1&&(d=Math.floor(d/e)*e),l=1,x=0,S=0,M=0,k=0;break;case"year":e>1&&(g=Math.floor(g/e)*e),d=0,l=1,x=0,S=0,M=0,k=0;break;case"week":_(t)||(t=1);var m=n.getUTCDate(),w=n.getUTCDay();w>=t?m=m-w+t:m=m-(7+w)+t,l=m,x=0,S=0,M=0,k=0;break}return S+=O-u,n=new Date(g,d,l,x,S,M,k),n}}var Or=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new ke}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{width:C,height:C,position:"absolute"})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.valueFields.push("value"),n.prototype._afterNew.call(this),this._disposers.push(this.bullets.events.onAll(function(t){if(t.type==="clear")e._handleBullets(e.dataItems);else if(t.type==="push")e._handleBullets(e.dataItems);else if(t.type==="setIndex")e._handleBullets(e.dataItems);else if(t.type==="insertIndex")e._handleBullets(e.dataItems);else if(t.type==="removeIndex")e._handleBullets(e.dataItems);else if(t.type==="moveIndex")e._handleBullets(e.dataItems);else throw new Error("Unknown IListEvent type")}))}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bulletsContainer.dispose(),n.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"startIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}}),Object.defineProperty(r.prototype,"endIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(this.getPrivate("endIndex",e),e)}}),Object.defineProperty(r.prototype,"_handleBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){y(e,function(t){var i=t.bullets;i&&(y(i,function(a){a.dispose()}),t.bullets=void 0)}),this.markDirtyValues()}}),Object.defineProperty(r.prototype,"getDataItemById",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return Jt(this.dataItems,function(t){return t.get("id")==e})}}),Object.defineProperty(r.prototype,"_makeBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(function(i){t._makeBullet(e,i)}))}}),Object.defineProperty(r.prototype,"_shouldMakeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!0}}),Object.defineProperty(r.prototype,"_makeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=t(this._root,this,e);if(a){var o=a.get("sprite");o&&(o._setDataItem(e),o.setRaw("position","absolute"),this.bulletsContainer.children.push(o)),a._index=i,a.series=this,e.bullets.push(a)}return a}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._clearDirty.call(this),this._aggregatesCalculated=!1,this._selectionAggregatesCalculated=!1}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._prepareChildren.call(this);var e=this.startIndex(),t=this.endIndex(),i=this.get("calculateAggregates");if(i&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0)),(this._psi!=e||this._pei!=t)&&!this._selectionAggregatesCalculated&&(e===0&&t===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,t),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){var a=this.get("tooltip");a&&(a.hide(0),a.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){var o=void 0,u=this.get("legendDataItem");if(u&&(o=u.get("markerRectangle"),o)){if(this.isDirty("stroke")){var l=this.get("stroke");o.set("stroke",l)}if(this.isDirty("fill")){var s=this.get("fill");o.set("fill",s)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0)for(var f=this.startIndex(),h=this.endIndex(),p=f;p<h;p++){var b=this.dataItems[p];b.bullets||this._makeBullets(b)}}}),Object.defineProperty(r.prototype,"_calculateAggregates",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=this._valueFields;if(!a)throw new Error("No value fields are set for the series.");var o={},u={},l={},s={},f={},h={},p={},b={},v={};y(a,function(c){o[c]=0,u[c]=0,l[c]=0}),y(a,function(c){for(var d=c+"Change",g=c+"ChangePercent",m=c+"ChangePrevious",w=c+"ChangePreviousPercent",P=c+"ChangeSelection",j=c+"ChangeSelectionPercent",O=e;O<t;O++){var D=i.dataItems[O],x=D.get(c);x!=null&&(l[c]++,o[c]+=x,u[c]+=Math.abs(x),b[c]=o[c]/l[c],(s[c]>x||s[c]==null)&&(s[c]=x),(f[c]<x||f[c]==null)&&(f[c]=x),p[c]=x,h[c]==null&&(h[c]=x,v[c]=x),e===0&&(D.setRaw(d,x-h[c]),D.setRaw(g,(x-h[c])/h[c]*100)),D.setRaw(m,x-v[c]),D.setRaw(w,(x-v[c])/v[c]*100),D.setRaw(P,x-h[c]),D.setRaw(j,(x-h[c])/h[c]*100),v[c]=x)}}),y(a,function(c){i.setPrivate(c+"AverageSelection",b[c]),i.setPrivate(c+"CountSelection",l[c]),i.setPrivate(c+"SumSelection",o[c]),i.setPrivate(c+"AbsoluteSumSelection",u[c]),i.setPrivate(c+"LowSelection",s[c]),i.setPrivate(c+"HighSelection",f[c]),i.setPrivate(c+"OpenSelection",h[c]),i.setPrivate(c+"CloseSelection",p[c])}),e===0&&t===this.dataItems.length&&y(a,function(c){i.setPrivate(c+"Average",b[c]),i.setPrivate(c+"Count",l[c]),i.setPrivate(c+"Sum",o[c]),i.setPrivate(c+"AbsoluteSum",u[c]),i.setPrivate(c+"Low",s[c]),i.setPrivate(c+"High",f[c]),i.setPrivate(c+"Open",h[c]),i.setPrivate(c+"Close",p[c])})}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._updateChildren.call(this),this._psi=this.startIndex(),this._pei=this.endIndex(),this._valuesDirty&&this.get("heatRules")!=null){var t=this.get("heatRules",[]);y(t,function(l){var s=l.minValue||e.getPrivate(l.dataField+"Low")||0,f=l.maxValue||e.getPrivate(l.dataField+"High")||0;y(l.target._entities,function(h){var p=h.dataItem.get(l.dataField);if(!!_(p)){var b;l.logarithmic?b=(Math.log(p)*Math.LOG10E-Math.log(s)*Math.LOG10E)/(Math.log(f)*Math.LOG10E-Math.log(s)*Math.LOG10E):b=(p-s)/(f-s),_(p)&&(!_(b)||Math.abs(b)==1/0)&&(b=.5);var v;_(l.min)?v=l.min+(l.max-l.min)*b:l.min instanceof E?v=E.interpolate(b,l.min,l.max):l.min instanceof L&&(v=lr(b,l.min,l.max)),l.customFunction?l.customFunction.call(e,h,s,f,p):h.set(l.key,v)}})})}if(this.bullets.length>0){var i=this.dataItems.length,a=this.startIndex(),o=this.endIndex();o<i&&o++,a>0&&a--;for(var u=0;u<a;u++)this._hideBullets(this.dataItems[u]);for(var u=a;u<o;u++)this._positionBullets(this.dataItems[u]);for(var u=o;u<i;u++)this._hideBullets(this.dataItems[u])}}}),Object.defineProperty(r.prototype,"_positionBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e.bullets&&y(e.bullets,function(i){t._positionBullet(i);var a=i.get("sprite");i.get("dynamic")&&(a&&(a._markDirtyKey("fill"),a.markDirtySize()),a instanceof R&&a.walkChildren(function(o){o._markDirtyKey("fill"),o.markDirtySize()})),a instanceof lt&&a.get("populateText")&&a.text.markDirtyText()})}}),Object.defineProperty(r.prototype,"_hideBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bullets&&y(e.bullets,function(t){var i=t.get("sprite");i&&i.setPrivate("visible",!1)})}}),Object.defineProperty(r.prototype,"_positionBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_placeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}}),Object.defineProperty(r.prototype,"_removeBulletsContainer",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.bullets;t&&y(t,function(i){i.dispose()})}}),Object.defineProperty(r.prototype,"_getItemReaderLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){return""}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a;return K(this,function(o){switch(o.label){case 0:return i=[n.prototype.showDataItem.call(this,e,t)],a=e.bullets,a&&y(a,function(u){i.push(u.get("sprite").show(t))}),[4,Promise.all(i)];case 1:return o.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a;return K(this,function(o){switch(o.label){case 0:return i=[n.prototype.hideDataItem.call(this,e,t)],a=e.bullets,a&&y(a,function(u){i.push(u.get("sprite").hide(t))}),[4,Promise.all(i)];case 1:return o.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_sequencedShowHide",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a,o=this;return K(this,function(u){switch(u.label){case 0:return this.get("sequencedInterpolation")?(_(t)||(t=this.get("interpolationDuration",0)),t>0?(i=this.startIndex(),a=this.endIndex(),[4,Promise.all(_t(this.dataItems,function(l,s){return J(o,void 0,void 0,function(){var f,h;return K(this,function(p){switch(p.label){case 0:return f=t||0,(s<i-10||s>a+10)&&(f=0),h=this.get("sequencedDelay",0)+f/(a-i),[4,va(h*(s-i))];case 1:return p.sent(),e?[4,this.showDataItem(l,f)]:[3,3];case 2:return p.sent(),[3,5];case 3:return[4,this.hideDataItem(l,f)];case 4:p.sent(),p.label=5;case 5:return[2]}})})}))]):[3,2]):[3,4];case 1:return u.sent(),[3,4];case 2:return[4,Promise.all(_t(this.dataItems,function(l){return e?o.showDataItem(l,0):o.hideDataItem(l,0)}))];case 3:u.sent(),u.label=4;case 4:return[2]}})})}}),Object.defineProperty(r.prototype,"updateLegendValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("legendDataItem");if(t){var i=t.get("valueLabel");if(i){var a=i.text,o="";i._setDataItem(e),o=this.get("legendValueText",a.get("text","")),i.set("text",o),a.markDirtyText()}var u=t.get("label");if(u){var a=u.text,o="";u._setDataItem(e),o=this.get("legendLabelText",a.get("text","")),u.set("text",o),a.markDirtyText()}}}}),Object.defineProperty(r.prototype,"updateLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_onHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._onHide.call(this);var e=this.getTooltip();e&&e.hide()}}),Object.defineProperty(r.prototype,"hoverDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"unhoverDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ft.classNames.concat([r.className])}),r}(ft);function ya(n,r){for(var e=0,t=r.length;e<t;e++){var i=r[e];if(i.length>0){var a=i[0];if(a.length>0){var o=a[0];n.moveTo(o.x,o.y);for(var u=0,l=i.length;u<l;u++)ma(n,i[u])}}}}function ma(n,r){for(var e=0,t=r.length;e<t;e++){var i=r[e];n.lineTo(i.x,i.y)}}var xr=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this),(this.isDirty("points")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._changed.call(this),this._clear){var e=this.get("points");if(e&&e.length>0){var t=e[0];this._display.moveTo(t.x,t.y),ya(this._display,[[e]])}else if(!this.get("draw")){var i=this.width(),a=this.height();this._display.moveTo(0,0),this._display.lineTo(i,a)}}}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ee.classNames.concat([r.className])}),r}(ee),jr=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:xr.classNames.concat([r.className])}),r}(xr),Dr=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterNewApplyThemes.call(this)}}),Object.defineProperty(r.prototype,"generateColors",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);var e=this.getPrivate("currentPass"),t=this.get("colors",[this.get("baseColor",E.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",t.length);for(var i=this.getPrivate("numColors"),a=0,o=this.get("passOptions"),u=this.get("reuse"),l=a;l<i;l++)if(u)t.push(t[l]);else{for(var s=t[l].toHSL(),f=s.h+(o.hue||0)*e;f>1;)f-=1;var h=s.s+(o.saturation||0)*e;h>1&&(h=1),h<0&&(h=0);for(var p=s.l+(o.lightness||0)*e;p>1;)p-=1;t.push(E.fromHSL(f,h,p))}}}),Object.defineProperty(r.prototype,"getIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("colors",[]),i=this.get("saturation");return e>=t.length?(this.generateColors(),this.getIndex(e)):i!=null?E.saturate(t[e],i):t[e]}}),Object.defineProperty(r.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}}),Object.defineProperty(r.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("currentStep",this.get("startIndex",0))}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:re.classNames.concat([r.className])}),r}(re),_a=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"setupDefaultRules",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype.setupDefaultRules.call(this);var t=this._root.interfaceColors,i=this._root.language,a=this.rule.bind(this);a("XYChart").setAll({colors:Dr.new(this._root,{}),paddingLeft:20,paddingRight:20,paddingTop:16,paddingBottom:16,panX:!1,panY:!1,wheelStep:.25,arrangeTooltips:!0}),a("XYChart",["scrollbar","chart"]).setAll({paddingBottom:0,paddingLeft:0,paddingTop:0,paddingRight:0,colors:Dr.new(this._root,{saturation:0})});{var o=a("Graphics",["scrollbar","overlay"]);o.setAll({fillOpacity:.5}),A(o,"fill",t,"background")}a("RoundedRectangle",["xy","scrollbar","thumb"]).setAll({cornerRadiusTR:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusBL:0,fillOpacity:0,focusable:!0}),a("RoundedRectangle",["xy","scrollbar","thumb"]).states.create("hover",{fillOpacity:.4}),a("RoundedRectangle",["xy","scrollbar","chart","background"]).setAll({cornerRadiusTL:0,cornerRadiusBL:0,cornerRadiusTR:0,cornerRadiusBR:0}),a("RoundedRectangle",["xy","scrollbar","chart","background","resize","button"]).setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),a("AxisRendererX",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0}),a("AxisRendererY",["xy","chart","scrollbar"]).setAll({strokeOpacity:0,inside:!0,minGridDistance:5}),a("AxisLabel",["xy","scrollbar","x"]).setAll({opacity:.5,centerY:C,minPosition:.01,maxPosition:.99,fontSize:"0.8em"}),a("AxisLabel",["category"]).setAll({text:"{category}",populateText:!0}),a("AxisLabel",["x"]).setAll({centerY:0}),a("AxisLabel",["x","inside"]).setAll({centerY:C}),a("AxisLabel",["x","inside","opposite"]).setAll({centerY:0}),a("AxisLabel",["x","opposite"]).setAll({centerY:C}),a("AxisLabel",["y"]).setAll({centerX:C}),a("AxisLabel",["y","inside"]).setAll({centerX:0}),a("AxisLabel",["y","inside","opposite"]).setAll({centerX:C}),a("AxisLabel",["y","opposite"]).setAll({centerX:0}),a("AxisLabel",["xy","scrollbar","y"]).setAll({visible:!1}),a("Grid",["xy","scrollbar","y"]).setAll({visible:!1}),a("Grid",["xy","scrollbar","x"]).setAll({opacity:.5}),a("XYCursor").setAll({behavior:"none",layer:20,exportable:!1,snapToSeriesBy:"xy"});{var o=a("Grid",["cursor","x"]);o.setAll({strokeOpacity:.8,strokeDasharray:[2,2]}),A(o,"stroke",t,"alternativeBackground")}{var o=a("Grid",["cursor","y"]);o.setAll({strokeOpacity:.8,strokeDasharray:[2,2]}),A(o,"stroke",t,"alternativeBackground")}{var o=a("Graphics",["cursor","selection"]);o.setAll({fillOpacity:.15}),A(o,"fill",t,"alternativeBackground")}a("Axis").setAll({start:0,end:1,minZoomCount:1,maxZoomCount:1/0,maxZoomFactor:1e3,maxDeviation:.1,snapTooltip:!0,tooltipLocation:.5,panX:!0,panY:!0,zoomX:!0,zoomY:!0,fixAxisSize:!0}),a("AxisLabel").setAll({location:.5,multiLocation:0,centerX:N,centerY:N,paddingTop:3,paddingBottom:3,paddingLeft:5,paddingRight:5}),a("Container",["axis","header"]).setAll({layer:30});{var o=a("AxisRenderer");o.setAll({strokeOpacity:0}),A(o,"stroke",t,"grid")}a("AxisRendererX").setAll({minGridDistance:120,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,width:C}),a("AxisRendererY").setAll({minGridDistance:40,opposite:!1,inversed:!1,cellStartLocation:0,cellEndLocation:1,height:C});{var o=a("Rectangle",["axis","thumb"]);o.setAll({fillOpacity:0}),A(o,"fill",t,"alternativeBackground"),o.states.create("hover",{fillOpacity:.1})}a("Rectangle",["axis","thumb","x"]).setAll({cursorOverStyle:"ew-resize"}),a("Rectangle",["axis","thumb","y"]).setAll({cursorOverStyle:"ns-resize"});{var o=a("Grid");o.setAll({location:0,strokeOpacity:.15}),A(o,"stroke",t,"grid")}a("Grid",["base"]).setAll({strokeOpacity:.3});{var o=a("Graphics",["axis","fill"]);o.setAll({visible:!1,isMeasured:!1,position:"absolute",fillOpacity:.05}),A(o,"fill",t,"alternativeBackground")}a("Graphics",["axis","fill","range"]).setAll({isMeasured:!0}),a("Graphics",["series","fill","range"]).setAll({visible:!1,isMeasured:!0}),a("Grid",["series","range"]).setAll({visible:!1}),a("AxisTick",["series","range"]).setAll({visible:!1}),a("AxisLabel",["series","range"]).setAll({visible:!1});{var o=a("AxisTick");o.setAll({location:.5,multiLocation:0,strokeOpacity:1,isMeasured:!1,position:"absolute",visible:!1}),A(o,"stroke",t,"grid")}a("CategoryAxis").setAll({startLocation:0,endLocation:1,fillRule:function(f,h){var p=f.get("axisFill");p&&(!_(h)||h%2==0?p.setPrivate("visible",!0):p.setPrivate("visible",!1))}});var u=[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:5},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:50},{timeUnit:"millisecond",count:100},{timeUnit:"millisecond",count:500},{timeUnit:"second",count:1},{timeUnit:"second",count:5},{timeUnit:"second",count:10},{timeUnit:"second",count:30},{timeUnit:"minute",count:1},{timeUnit:"minute",count:5},{timeUnit:"minute",count:10},{timeUnit:"minute",count:15},{timeUnit:"minute",count:30},{timeUnit:"hour",count:1},{timeUnit:"hour",count:3},{timeUnit:"hour",count:6},{timeUnit:"hour",count:12},{timeUnit:"day",count:1},{timeUnit:"day",count:2},{timeUnit:"day",count:3},{timeUnit:"day",count:4},{timeUnit:"day",count:5},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"month",count:2},{timeUnit:"month",count:3},{timeUnit:"month",count:6},{timeUnit:"year",count:1},{timeUnit:"year",count:2},{timeUnit:"year",count:5},{timeUnit:"year",count:10},{timeUnit:"year",count:50},{timeUnit:"year",count:100},{timeUnit:"year",count:200},{timeUnit:"year",count:500},{timeUnit:"year",count:1e3},{timeUnit:"year",count:2e3},{timeUnit:"year",count:5e3},{timeUnit:"year",count:1e4},{timeUnit:"year",count:1e5}],l={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_hour"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month"),year:i.translate("_date_year")},s={millisecond:i.translate("_date_millisecond"),second:i.translate("_date_second"),minute:i.translate("_date_minute"),hour:i.translate("_date_day"),day:i.translate("_date_day"),week:i.translate("_date_day"),month:i.translate("_date_month")+" "+i.translate("_date_year"),year:i.translate("_date_year")};a("CategoryDateAxis").setAll({markUnitChange:!0,gridIntervals:Kt(u),dateFormats:ze(l),periodChangeDateFormats:ze(s)}),a("DateAxis").setAll({strictMinMax:!0,startLocation:0,endLocation:1,markUnitChange:!0,groupData:!1,groupCount:500,gridIntervals:Kt(u),dateFormats:ze(l),periodChangeDateFormats:ze(s),groupIntervals:[{timeUnit:"millisecond",count:1},{timeUnit:"millisecond",count:10},{timeUnit:"millisecond",count:100},{timeUnit:"second",count:1},{timeUnit:"second",count:10},{timeUnit:"minute",count:1},{timeUnit:"minute",count:10},{timeUnit:"hour",count:1},{timeUnit:"day",count:1},{timeUnit:"week",count:1},{timeUnit:"month",count:1},{timeUnit:"year",count:1}],fillRule:function(f){var h=f.get("axisFill");if(h){var p=f.component,b=f.get("value"),v=f.get("endValue"),c=p.intervalDuration(),d=p.getPrivate("baseInterval"),g=p.getPrivate("min",0);if(g=Vt(new Date(g),d.timeUnit,d.count,e._root.locale.firstDayOfWeek,e._root.utc,void 0,e._root.timezone).getTime(),b!=null&&v!=null){var m=Math.round((b-g)/c)/2;m==Math.round(m)?h.setPrivate("visible",!0):h.setPrivate("visible",!1)}}}}),a("GaplessDateAxis").setAll({fillRule:function(f){var h=f.get("axisFill");if(h){var p=f.get("index"),b=!1;(!_(p)||p%2==0)&&(b=!0),h.setPrivate("visible",b)}}}),a("ValueAxis").setAll({baseValue:0,logarithmic:!1,extraMin:0,extraMax:0,strictMinMax:!1,fillRule:function(f){var h=f.get("axisFill");if(h){var p=f.component,b=f.get("value"),v=p.getPrivate("step");_(b)&&_(v)&&(ge(b/v/2,5)==Math.round(b/v/2)?h.setPrivate("visible",!1):h.setPrivate("visible",!0))}}}),a("DurationAxis").setAll({baseUnit:"second"}),a("XYSeries").setAll({maskBullets:!0,stackToNegative:!0,locationX:.5,locationY:.5,snapTooltip:!1,openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close",seriesTooltipTarget:"series"}),a("BaseColumnSeries").setAll({adjustBulletPosition:!0}),a("ColumnSeries").setAll({clustered:!0}),a("RoundedRectangle",["series","column"]).setAll({position:"absolute",isMeasured:!1,width:fe(70),height:fe(70),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),a("LineSeries").setAll({connect:!0,autoGapCount:1.1,stackToNegative:!1}),a("Graphics",["series","stroke"]).setAll({position:"absolute",strokeWidth:1,strokeOpacity:1,isMeasured:!1}),a("Graphics",["series","fill"]).setAll({visible:!1,fillOpacity:0,position:"absolute",strokeWidth:0,strokeOpacity:0,isMeasured:!1}),a("Graphics",["line","series","legend","marker","stroke"]).setAll({draw:function(f,h){var p=h.parent;if(p){var b=p.height(),v=p.width();f.moveTo(0,b/2),f.lineTo(v,b/2)}}});{var o=a("Graphics",["line","series","legend","marker","stroke"]).states.create("disabled",{});A(o,"stroke",t,"disabled")}a("Graphics",["line","series","legend","marker","fill"]).setAll({draw:function(f,h){var p=h.parent;if(p){var b=p.height(),v=p.width();f.moveTo(0,0),f.lineTo(v,0),f.lineTo(v,b),f.lineTo(0,b),f.lineTo(0,0)}}});{var o=a("Graphics",["line","series","legend","marker","fill"]).states.create("disabled",{});A(o,"stroke",t,"disabled")}a("SmoothedXYLineSeries").setAll({tension:.5}),a("SmoothedXLineSeries").setAll({tension:.5}),a("SmoothedYLineSeries").setAll({tension:.5}),a("Candlestick").setAll({position:"absolute",isMeasured:!1,width:fe(50),height:fe(50),strokeWidth:1,strokeOpacity:1,cornerRadiusBL:0,cornerRadiusTL:0,cornerRadiusBR:0,cornerRadiusTR:0,fillOpacity:1,role:"figure"}),a("OHLC").setAll({width:fe(80),height:fe(80)}),a("CandlestickSeries").setAll({lowValueXGrouped:"low",lowValueYGrouped:"low",highValueXGrouped:"high",highValueYGrouped:"high",openValueXGrouped:"open",openValueYGrouped:"open",valueXGrouped:"close",valueYGrouped:"close"});{var o=a("Rectangle",["column","autocolor"]).states.create("riseFromOpen",{});A(o,"fill",t,"positive"),A(o,"stroke",t,"positive")}{var o=a("Rectangle",["column","autocolor"]).states.create("dropFromOpen",{});A(o,"fill",t,"negative"),A(o,"stroke",t,"negative")}a("Rectangle",["column","autocolor","pro"]).states.create("riseFromPrevious",{fillOpacity:1}),a("Rectangle",["column","autocolor","pro"]).states.create("dropFromPrevious",{fillOpacity:0})}}),r}(vr),Tr=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(R.new(e._root,{width:C,height:C,interactiveChildren:!1}))}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:C,height:C})}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:R.classNames.concat([r.className])}),r}(R),Cr=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{width:C,height:C,isMeasured:!1})}),Object.defineProperty(e,"series",{enumerable:!0,configurable:!0,writable:!0,value:new Qe}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._afterNew.call(this),this._disposers.push(this.series);var t=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(function(i){if(i.type==="clear"){y(i.oldValues,function(o){e._removeSeries(o)});var a=e.get("colors");a&&a.reset()}else if(i.type==="push")t.moveValue(i.newValue),e._processSeries(i.newValue);else if(i.type==="setIndex")t.setIndex(i.index,i.newValue),e._processSeries(i.newValue);else if(i.type==="insertIndex")t.insertIndex(i.index,i.newValue),e._processSeries(i.newValue);else if(i.type==="removeIndex")e._removeSeries(i.oldValue);else if(i.type==="moveIndex")t.moveValue(i.value,i.newIndex),e._processSeries(i.value);else throw new Error("Unknown IListEvent type")}))}}),Object.defineProperty(r.prototype,"_processSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.chart=this,e._placeBulletsContainer(this)}}),Object.defineProperty(r.prototype,"_removeSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tr.classNames.concat([r.className])}),r}(Tr),Sa=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"xAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Qe}),Object.defineProperty(e,"yAxes",{enumerable:!0,configurable:!0,writable:!0,value:new Qe}),Object.defineProperty(e,"topAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(R.new(e._root,{width:C,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"yAxesAndPlotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(R.new(e._root,{width:C,height:C,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"bottomAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.chartContainer.children.push(R.new(e._root,{width:C,layout:e._root.verticalLayout}))}),Object.defineProperty(e,"leftAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(R.new(e._root,{height:C,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"plotContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(R.new(e._root,{width:C,height:C,maskContent:!1}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(R.new(e._root,{width:C,height:C,isMeasured:!1}))}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{width:C,height:C,isMeasured:!1})}),Object.defineProperty(e,"rightAxesContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.yAxesAndPlotContainer.children.push(R.new(e._root,{height:C,layout:e._root.horizontalLayout}))}),Object.defineProperty(e,"axisHeadersContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(R.new(e._root,{}))}),Object.defineProperty(e,"zoomOutButton",{enumerable:!0,configurable:!0,writable:!0,value:e.plotContainer.children.push(pa.new(e._root,{themeTags:["zoom"],icon:ee.new(e._root,{themeTags:["button","icon"]})}))}),Object.defineProperty(e,"_movePoint",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),Object.defineProperty(e,"_wheelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_otherCharts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this._defaultThemes.push(_a.new(this._root)),n.prototype._afterNew.call(this),this._disposers.push(this.xAxes),this._disposers.push(this.yAxes);var t=this._root,i=this._root.verticalLayout,a=this.zoomOutButton;a.events.on("click",function(){e.zoomOut()}),a.set("opacity",0),a.states.lookup("default").set("opacity",1),this.chartContainer.set("layout",i);var o=this.plotContainer;o.children.push(this.seriesContainer),this._disposers.push(this._processAxis(this.xAxes,this.bottomAxesContainer)),this._disposers.push(this._processAxis(this.yAxes,this.leftAxesContainer)),o.children.push(this.topGridContainer),o.children.push(this.bulletsContainer),o.children.moveValue(a),o.set("interactive",!0),o.set("interactiveChildren",!1),o.set("background",_e.new(t,{themeTags:["xy","background"],fill:E.fromHex(0),fillOpacity:0})),this._disposers.push(o.events.on("pointerdown",function(u){e._handlePlotDown(u.originalEvent)})),this._disposers.push(o.events.on("globalpointerup",function(u){e._handlePlotUp(u.originalEvent)})),this._disposers.push(o.events.on("globalpointermove",function(u){e._handlePlotMove(u.originalEvent)}))}}),Object.defineProperty(r.prototype,"_removeSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("xAxis");t&&de(t.series,e);var i=e.get("yAxis");i&&de(i.series,e),n.prototype._removeSeries.call(this,e)}}),Object.defineProperty(r.prototype,"_handleSetWheel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("wheelX"),i=this.get("wheelY"),a=this.plotContainer;t!=="none"||i!=="none"?(this._wheelDp=a.events.on("wheel",function(o){var u=o.originalEvent;u.preventDefault();var l=a.toLocal(e._root.documentPointToRoot({x:u.clientX,y:u.clientY})),s=e.get("wheelStep",.2),f=u.deltaY/100,h=u.deltaX/100;(t==="zoomX"||t==="zoomXY")&&h!=0&&e.xAxes.each(function(p){if(p.get("zoomX")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.x/a.width()),d=b-s*(v-b)*h*c,g=v+s*(v-b)*h*(1-c);1/(g-d)<p.get("maxZoomFactor",1/0)&&e._handleWheelAnimation(p.zoom(d,g))}}),(i==="zoomX"||i==="zoomXY")&&f!=0&&e.xAxes.each(function(p){if(p.get("zoomX")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.x/a.width()),d=b-s*(v-b)*f*c,g=v+s*(v-b)*f*(1-c);1/(g-d)<p.get("maxZoomFactor",1/0)&&e._handleWheelAnimation(p.zoom(d,g))}}),(t==="zoomY"||t==="zoomXY")&&h!=0&&e.yAxes.each(function(p){if(p.get("zoomY")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.y/a.height()),d=b-s*(v-b)*h*c,g=v+s*(v-b)*h*(1-c);1/(g-d)<p.get("maxZoomFactor",1/0)&&e._handleWheelAnimation(p.zoom(d,g))}}),(i==="zoomY"||i==="zoomXY")&&f!=0&&e.yAxes.each(function(p){if(p.get("zoomY")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.y/a.height()),d=b-s*(v-b)*f*c,g=v+s*(v-b)*f*(1-c);1/(g-d)<p.get("maxZoomFactor",1/0)&&e._handleWheelAnimation(p.zoom(d,g))}}),(t==="panX"||t==="panXY")&&h!=0&&e.xAxes.each(function(p){if(p.get("panX")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.x/a.width()),d=b+s*(v-b)*h*c,g=v+s*(v-b)*h*(1-c);e._handleWheelAnimation(p.zoom(d,g))}}),(i==="panX"||i==="panXY")&&f!=0&&e.xAxes.each(function(p){if(p.get("panX")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.x/a.width()),d=b+s*(v-b)*f*c,g=v+s*(v-b)*f*(1-c);e._handleWheelAnimation(p.zoom(d,g))}}),(t==="panY"||t==="panXY")&&h!=0&&e.yAxes.each(function(p){if(p.get("panY")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.y/a.height()),d=b+s*(v-b)*h*c,g=v+s*(v-b)*h*(1-c);e._handleWheelAnimation(p.zoom(d,g))}}),(i==="panY"||i==="panXY")&&f!=0&&e.yAxes.each(function(p){if(p.get("panY")){var b=p.get("start"),v=p.get("end"),c=p.fixPosition(l.y/a.height()),d=b+s*(v-b)*f*c,g=v+s*(v-b)*f*(1-c);e._handleWheelAnimation(p.zoom(d,g))}})}),this._disposers.push(this._wheelDp)):this._wheelDp&&this._wheelDp.dispose()}}),Object.defineProperty(r.prototype,"_handlePlotDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.get("panX")||this.get("panY")){var t=this.plotContainer,i=t.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));if(i.x>=0&&i.y>=0&&i.x<=t.width()&&i.y<=this.height()){this._downPoint=i;var a=this.get("panX"),o=this.get("panY");a&&this.xAxes.each(function(l){l._panStart=l.get("start"),l._panEnd=l.get("end")}),o&&this.yAxes.each(function(l){l._panStart=l.get("start"),l._panEnd=l.get("end")});var u="panstarted";this.events.isEnabled(u)&&this.events.dispatch(u,{type:u,target:this})}}}}),Object.defineProperty(r.prototype,"_handleWheelAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;e?e.events.on("stopped",function(){t._dispatchWheelAnimation()}):this._dispatchWheelAnimation()}}),Object.defineProperty(r.prototype,"_dispatchWheelAnimation",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="wheelended";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}}),Object.defineProperty(r.prototype,"_handlePlotUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this._downPoint&&(this.get("panX")||this.get("panY"))){var t="panended";this.events.isEnabled(t)&&this.events.dispatch(t,{type:t,target:this})}this._downPoint=void 0,this.xAxes.each(function(i){i._isPanning=!1}),this.yAxes.each(function(i){i._isPanning=!1})}}),Object.defineProperty(r.prototype,"_handlePlotMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._downPoint;if(t){var i=this.plotContainer,a=i.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY})),o=this.get("panX"),u=this.get("panY");if(o){var l=this.get("scrollbarX");l&&l.events.disableType("rangechanged"),this.xAxes.each(function(f){if(f.get("panX")){f._isPanning=!0;var h=f._panStart,p=f._panEnd,b=p-h,v=b*(t.x-a.x)/i.width();f.get("renderer").get("inversed")&&(v*=-1);var c=h+v,d=p+v;d-c<1+f.get("maxDeviation",1)*2&&(f.set("start",c),f.set("end",d))}}),l&&l.events.enableType("rangechanged")}if(u){var s=this.get("scrollbarY");s&&s.events.disableType("rangechanged"),this.yAxes.each(function(f){if(f.get("panY")){f._isPanning=!0;var h=f._panStart,p=f._panEnd,b=p-h,v=b*(t.y-a.y)/i.height();f.get("renderer").get("inversed")&&(v*=-1);var c=h-v,d=p-v;d-c<1+f.get("maxDeviation",1)*2&&(f.set("start",c),f.set("end",d))}}),s&&s.events.enableType("rangechanged")}}}}),Object.defineProperty(r.prototype,"_handleCursorPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor");if(e){var t=e.getPrivate("point"),i=e.get("snapToSeries");if(i&&t){var a=[];y(i,function(h){if(!h.isHidden()&&!h.isHiding())for(var p=h.startIndex(),b=h.endIndex(),v=p;v<b;v++){var c=h.dataItems[v];c&&!c.isHidden()&&a.push(c)}});var o=1/0,u,l=e.get("snapToSeriesBy");if(y(a,function(h){var p=h.get("point");if(p){var b=0;l=="x"?b=Math.abs(t.x-p.x):l=="y"?b=Math.abs(t.y-p.y):b=Math.hypot(t.x-p.x,t.y-p.y),b<o&&(o=b,u=h)}}),y(i,function(h){var p=h.get("tooltip");p&&p._setDataItem(void 0)}),u){var s=u.component;s.showDataItemTooltip(u);var f=u.get("point");f&&e.handleMove(s.toGlobal(f),!0)}}}}}),Object.defineProperty(r.prototype,"_updateCursor",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor");e&&e.handleMove()}}),Object.defineProperty(r.prototype,"_addCursor",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.plotContainer.children.push(e)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._prepareChildren.call(this),this.series.each(function(u){e._colorize(u)}),(this.isDirty("wheelX")||this.isDirty("wheelY"))&&this._handleSetWheel(),this.isDirty("cursor")){var t=this._prevSettings.cursor,i=this.get("cursor");i!==t&&(this._disposeProperty("cursor"),t&&t.dispose(),i&&(i._setChart(this),this._addCursor(i),this._pushPropertyDisposer("cursor",i.events.on("selectended",function(){e._handleCursorSelectEnd()}))),this._prevSettings.cursor=i)}if(this.isDirty("scrollbarX")){var t=this._prevSettings.scrollbarX,a=this.get("scrollbarX");a!==t&&(this._disposeProperty("scrollbarX"),t&&t.dispose(),a&&(a.parent||this.topAxesContainer.children.push(a),this._pushPropertyDisposer("scrollbarX",a.events.on("rangechanged",function(l){e._handleScrollbar(e.xAxes,l.start,l.end)})),a.setPrivate("positionTextFunction",function(l){var s=e.xAxes.getIndex(0);return s&&s.getTooltipText(l)||""})),this._prevSettings.scrollbarX=a)}if(this.isDirty("scrollbarY")){var t=this._prevSettings.scrollbarY,o=this.get("scrollbarY");o!==t&&(this._disposeProperty("scrollbarY"),t&&t.dispose(),o&&(o.parent||this.rightAxesContainer.children.push(o),this._pushPropertyDisposer("scrollbarY",o.events.on("rangechanged",function(l){e._handleScrollbar(e.yAxes,l.start,l.end)})),o.setPrivate("positionTextFunction",function(l){var s=e.yAxes.getIndex(0);return s&&s.getTooltipText(l)||""})),this._prevSettings.scrollbarY=o)}this._handleZoomOut()}}),Object.defineProperty(r.prototype,"_processSeries",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype._processSeries.call(this,e),this._colorize(e)}}),Object.defineProperty(r.prototype,"_colorize",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("colors");if(t&&e.get("fill")==null){var i=t.next();e._setSoft("stroke",i),e._setSoft("fill",i)}}}),Object.defineProperty(r.prototype,"_handleCursorSelectEnd",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("cursor"),t=e.get("behavior"),i=e.getPrivate("downPositionX",0),a=e.getPrivate("downPositionY",0),o=e.getPrivate("positionX",.5),u=e.getPrivate("positionY",.5);this.xAxes.each(function(l){if(t==="zoomX"||t==="zoomXY"){var s=l.toAxisPosition(i),f=l.toAxisPosition(o);l.zoom(s,f)}l.setPrivate("updateScrollbar",!0)}),this.yAxes.each(function(l){if(t==="zoomY"||t==="zoomXY"){var s=l.toAxisPosition(a),f=l.toAxisPosition(u);l.zoom(s,f)}l.setPrivate("updateScrollbar",!0)})}}),Object.defineProperty(r.prototype,"_handleScrollbar",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e.each(function(a){var o=a.fixPosition(t),u=a.fixPosition(i),l=a.zoom(o,u),s="updateScrollbar";a.setPrivateRaw(s,!1),l?l.events.on("stopped",function(){a.setPrivateRaw(s,!0)}):a.setPrivateRaw(s,!0)})}}),Object.defineProperty(r.prototype,"_processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this;return e.events.onAll(function(a){if(a.type==="clear")y(a.oldValues,function(o){i._removeAxis(o)});else if(a.type==="push")t.children.push(a.newValue),a.newValue.processChart(i);else if(a.type==="setIndex")t.children.setIndex(a.index,a.newValue),a.newValue.processChart(i);else if(a.type==="insertIndex")t.children.insertIndex(a.index,a.newValue),a.newValue.processChart(i);else if(a.type==="removeIndex")i._removeAxis(a.oldValue);else if(a.type==="moveIndex")t.children.moveValue(a.value,a.newIndex),a.value.processChart(i);else throw new Error("Unknown IListEvent type")})}}),Object.defineProperty(r.prototype,"_removeAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(!e.isDisposed()){var t=e.parent;t&&t.children.removeValue(e);var i=e.gridContainer,a=i.parent;a&&a.children.removeValue(i);var o=e.topGridContainer,u=o.parent;u&&u.children.removeValue(o)}}}),Object.defineProperty(r.prototype,"_updateChartLayout",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.leftAxesContainer.width(),t=this.rightAxesContainer.width(),i=this.bottomAxesContainer;i.set("paddingLeft",e),i.set("paddingRight",t);var a=this.topAxesContainer;a.set("paddingLeft",e),a.set("paddingRight",t)}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_handleAxisSelection",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t,i=e.fixPosition(e.get("start",0)),a=e.fixPosition(e.get("end",1));if(i>a&&(t=se([a,i],2),i=t[0],a=t[1]),this.xAxes.indexOf(e)!=-1){if(e.getPrivate("updateScrollbar")){var o=this.get("scrollbarX");o&&!o.getPrivate("isBusy")&&(o.setRaw("start",i),o.setRaw("end",a),o.updateGrips())}}else if(this.yAxes.indexOf(e)!=-1&&e.getPrivate("updateScrollbar")){var u=this.get("scrollbarY");u&&!u.getPrivate("isBusy")&&(u.setRaw("start",i),u.setRaw("end",a),u.updateGrips())}this._handleZoomOut()}}),Object.defineProperty(r.prototype,"_handleZoomOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.zoomOutButton;if(e&&e.parent){var t=!1;this.xAxes.each(function(i){(i.get("start")!=0||i.get("end")!=1)&&(t=!0)}),this.yAxes.each(function(i){(i.get("start")!=0||i.get("end")!=1)&&(t=!0)}),t?e.isHidden()&&e.show():e.hide()}}}),Object.defineProperty(r.prototype,"inPlot",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.plotContainer,i=this._otherCharts,a=t.toGlobal(e);if(e.x>=-.1&&e.y>=-.1&&e.x<=t.width()+.1&&e.y<=t.height()+.1)return!0;if(i)for(var o=i.length-1;o>=0;o--){var u=i[o];if(u!=this){var l=u.plotContainer,s=l.toLocal(a);if(s.x>=-.1&&s.y>=-.1&&s.x<=l.width()+.1&&s.y<=l.height()+.1)return!0}}return!1}}),Object.defineProperty(r.prototype,"arrangeTooltips",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.plotContainer,i=t.width(),a=t.height(),o=t._display.toGlobal({x:0,y:0}),u=t._display.toGlobal({x:i,y:a}),l=[],s=0,f=1/0,h=this._movePoint,p=this.get("maxTooltipDistance"),b,v;_(p)&&this.series.each(function(j){var O=j.get("tooltip");if(O){var D=O.get("pointTo");if(D){var x=Math.hypot(h.x-D.x,h.y-D.y);x<f&&(f=x,b=j,v=D)}}});var c=[];if(this.series.each(function(j){var O=j.get("tooltip");if(O){var D=!1,x=O.get("pointTo");if(x){if(p>=0){var S=O.get("pointTo");if(S&&j!=b){var M=Math.hypot(v.x-S.x,v.y-S.y);M>p&&(D=!0)}}else p==-1&&j!=b&&(D=!0);!e.inPlot(e._tooltipToLocal(x))||!O.dataItem?D=!0:D||(s+=x.y),D||j.isHidden()||j.isHiding()?O.hide(0):(O.show(),l.push(O),c.push(j))}}}),this.setPrivate("tooltipSeries",c),this.get("arrangeTooltips")){var d=this._root.tooltipContainer;l.sort(function(j,O){return mi(j.get("pointTo").y,O.get("pointTo").y)});var g=l.length,m=s/g;if(m>a/2+o.y){l.reverse();var w=u.y;y(l,function(j){var O=j.height(),D=j.get("centerY");D instanceof L&&(O*=D.value),O+=j.get("marginBottom",0),j.set("bounds",{left:o.x,top:o.y,right:u.x,bottom:w}),w=Math.min(w-O,j._fy-O),d.children.moveValue(j,0)})}else{var P=0;y(l,function(j){var O=j.height(),D=j.get("centerY");D instanceof L&&(O*=D.value),O+=j.get("marginBottom",0),j.set("bounds",{left:o.x,top:P,right:u.x,bottom:Math.max(o.y+a,P+O)}),d.children.moveValue(j,0),P=Math.max(P+O,j._fy+O)})}}}}),Object.defineProperty(r.prototype,"_tooltipToLocal",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.plotContainer.toLocal(e)}}),Object.defineProperty(r.prototype,"zoomOut",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.xAxes.each(function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)}),this.yAxes.each(function(e){e.setPrivate("updateScrollbar",!0),e.zoom(0,1)})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYChart"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Cr.classNames.concat([r.className])}),r}(Cr),wa=function(n){T(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"_beforeChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._beforeChanged.call(this),(this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Grid"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ee.classNames.concat([r.className])}),r}(ee),ct=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_series",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_isPanning",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(R.new(e._root,{}))}),Object.defineProperty(e,"gridContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{width:C,height:C})}),Object.defineProperty(e,"topGridContainer",{enumerable:!0,configurable:!0,writable:!0,value:R.new(e._root,{width:C,height:C})}),Object.defineProperty(e,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(R.new(e._root,{isMeasured:!1,width:C,height:C,position:"absolute"}))}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_rangesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_panStart",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_panEnd",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_sAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_eAnimation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new ke}),Object.defineProperty(e,"_seriesAxisRanges",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"ghostLabel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_cursorPosition",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(e,"_snapToSeries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_seriesValuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"axisHeader",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(R.new(e._root,{themeTags:["axis","header"],position:"absolute",background:_e.new(e._root,{themeTags:["header","background"],fill:e._root.interfaceColors.get("background")})}))}),e}return Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.gridContainer.dispose(),this.topGridContainer.dispose(),this.bulletsContainer.dispose(),this.labelsContainer.dispose(),this.axisHeader.dispose(),n.prototype._dispose.call(this)}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._afterNew.call(this),this.setPrivate("updateScrollbar",!0),this._disposers.push(this.axisRanges.events.onAll(function(i){if(i.type==="clear")y(i.oldValues,function(a){e.disposeDataItem(a)});else if(i.type==="push")e._processAxisRange(i.newValue,["range"]);else if(i.type==="setIndex")e._processAxisRange(i.newValue,["range"]);else if(i.type==="insertIndex")e._processAxisRange(i.newValue,["range"]);else if(i.type==="removeIndex")e.disposeDataItem(i.oldValue);else if(i.type==="moveIndex")e._processAxisRange(i.value,["range"]);else throw new Error("Unknown IStreamEvent type")}));var t=this.get("renderer");t&&(t.axis=this,t.processAxis()),this.children.push(t),this.ghostLabel=t.makeLabel(new Be(this,void 0,{}),[]),this.ghostLabel.set("opacity",0)}}),Object.defineProperty(r.prototype,"zoom",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a;if(this.get("start")!==e||this.get("end")!=t){var o=this._sAnimation,u=this._eAnimation,l=this.get("maxDeviation",.5)*Math.min(1,t-e);e<-l&&(e=-l),t>1+l&&(t=1+l),e>t&&(a=se([t,e],2),e=a[0],t=a[1]),_(i)||(i=this.get("interpolationDuration",0));var s="end",f=this.getPrivate("maxZoomFactor",this.get("maxZoomFactor",100));t===1&&e!==0&&(e<this.get("start")?s="start":s="end"),e===0&&t!==1&&(t>this.get("end")?s="end":s="start");var h=this.get("minZoomCount"),p=this.get("maxZoomCount");_(h)&&(f=f/h);var b=1;if(_(p)&&(b=f/p),s==="start"?(p>0&&1/(t-e)<b&&(t=e+1/b),1/(t-e)>f&&(t=e+1/f),t>1&&t-e<1/f&&(e=t-1/f)):(p>0&&1/(t-e)<b&&(e=t-1/b),1/(t-e)>f&&(e=t-1/f),e<0&&t-e<1/f&&(t=e+1/f)),1/(t-e)>f&&(t=e+1/f),1/(t-e)>f&&(e=t-1/f),(o&&o.playing&&o.to==e||this.get("start")==e)&&(u&&u.playing&&u.to==t||this.get("end")==t))return;if(i>0){var v=this.get("interpolationEasing"),c=this.animate({key:"start",to:e,duration:i,easing:v}),d=this.animate({key:"end",to:t,duration:i,easing:v});if(this._sAnimation=c,this._eAnimation=d,c)return c;if(d)return d}else this.set("start",e),this.set("end",t)}}}),Object.defineProperty(r.prototype,"series",{get:function(){return this._series},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.setRaw("isRange",!0),this._createAssets(e,t),this._rangesDirty=!0,this._prepareDataItem(e);var i=e.get("above"),a=this.topGridContainer,o=e.get("grid");i&&o&&a.children.moveValue(o);var u=e.get("axisFill");i&&u&&a.children.moveValue(u)}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"markDirtyExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"markDirtySelectionExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_calculateTotals",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_updateAxisRanges",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;this.axisRanges.each(function(t){e._prepareDataItem(t)}),y(this._seriesAxisRanges,function(t){e._prepareDataItem(t)})}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._prepareChildren.call(this),this.get("fixAxisSize")?this.ghostLabel.set("visible",!0):this.ghostLabel.set("visible",!1),this.isDirty("start")||this.isDirty("end")){this.chart._updateCursor();var e=this.get("start",0),t=this.get("end",1),i=this.get("maxDeviation",.5)*Math.min(1,t-e);if(e<-i){var a=e+i;e=-i,this.setRaw("start",e),this.isDirty("end")&&this.setRaw("end",t-a)}if(t>1+i){var a=t-1-i;t=1+i,this.setRaw("end",t),this.isDirty("start")&&this.setRaw("start",e-a)}}var o=this.get("renderer");if(o._start=this.get("start"),o._end=this.get("end"),o._inversed=o.get("inversed",!1),o._axisLength=o.axisLength()/(o._end-o._start),o._updateLC(),this.isDirty("tooltip")){var u=this.get("tooltip");if(u){var l=o.get("themeTags");u.addTag("axis"),u.addTag(this.className.toLowerCase()),u._applyThemes(),l&&(u.set("themeTags",W(u.get("themeTags"),l)),u.label._applyThemes())}}}}),Object.defineProperty(r.prototype,"_updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&this.get("renderer").updateTooltipBounds(e)}}),Object.defineProperty(r.prototype,"_updateBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._updateBounds.call(this),this._updateTooltipBounds()}}),Object.defineProperty(r.prototype,"processChart",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;this.chart=e;var i=this.get("renderer");i.chart=e,e.gridContainer.children.push(this.gridContainer),e.topGridContainer.children.push(this.topGridContainer),e.axisHeadersContainer.children.push(this.axisHeader),this.on("start",function(){e._handleAxisSelection(t)}),this.on("end",function(){e._handleAxisSelection(t)}),e.plotContainer.onPrivate("width",function(){t.markDirtySize()}),e.plotContainer.onPrivate("height",function(){t.markDirtySize()}),e.processAxis(this)}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._toggleDataItem(e,!1),n.prototype.hideDataItem.call(this,e)}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._toggleDataItem(e,!0),n.prototype.showDataItem.call(this,e)}}),Object.defineProperty(r.prototype,"_toggleDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("label");i&&i.setPrivate("visible",t);var a=e.get("grid");a&&a.setPrivate("visible",t);var o=e.get("tick");o&&o.setPrivate("visible",t);var u=e.get("axisFill");u&&u.setPrivate("visible",t);var l=e.get("bullet");if(l){var s=l.get("sprite");s&&s.setPrivate("visible",t)}}}),Object.defineProperty(r.prototype,"_createAssets",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer");e.get("label")||i.makeLabel(e,t),e.get("grid")||i.makeGrid(e,t),e.get("tick")||i.makeTick(e,t),e.get("axisFill")||i.makeAxisFill(e,t),this._processBullet(e)}}),Object.defineProperty(r.prototype,"_processBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("bullet"),i=this.get("bullet");if(!t&&i&&!e.get("isRange")&&(t=i(this._root,this,e)),t){t.axis=this;var a=t.get("sprite");a&&(a._setDataItem(e),e.setRaw("bullet",t),a.parent||this.bulletsContainer.children.push(a))}}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterChanged.call(this);var e=this.chart;e&&(e._updateChartLayout(),e.axisHeadersContainer.markDirtySize()),this.get("renderer")._updatePositions()}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype.disposeDataItem.call(this,e);var t=this.get("renderer"),i=e.get("label");i&&(t.labels.removeValue(i),i.dispose());var a=e.get("tick");a&&(t.ticks.removeValue(a),a.dispose());var o=e.get("grid");o&&(t.grid.removeValue(o),o.dispose());var u=e.get("axisFill");u&&(t.axisFills.removeValue(u),u.dispose())}}),Object.defineProperty(r.prototype,"_updateGhost",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.ghostLabel;if(!e.isHidden()){var t=e.localBounds(),i=t.right-t.left;y(this.dataItems,function(u){var l=u.get("label");if(l&&!l.isHidden()){var s=l.localBounds(),f=s.right-s.left;f>i&&e.set("text",l.text._getText())}})}var a=this.get("start",0),o=this.get("end",1);this.get("renderer").updateLabel(e,a+(o-a)*.5),e.setPrivate("visible",!0)}}),Object.defineProperty(r.prototype,"_handleCursorPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer");e=i.toAxisPosition(e),this._cursorPosition=e,this._snapToSeries=t,this.updateTooltip()}}),Object.defineProperty(r.prototype,"updateTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this._snapToSeries,i=this._cursorPosition,a=this.get("tooltip"),o=this.get("renderer");_(i)&&(y(this.series,function(u){if(u.get("baseAxis")===e){var l=e.getSeriesItem(u,i);t&&t.indexOf(u)!=-1?(u.updateLegendMarker(l),u.updateLegendValue(l)):u.showDataItemTooltip(l)}}),a&&(o.updateTooltipBounds(a),this.get("snapTooltip")&&(i=this.roundAxisPosition(i,this.get("tooltipLocation",.5))),Ae(i)?a.hide(0):(this._updateTooltipText(a,i),o.positionTooltip(a,i),i<this.get("start")||i>this.get("end")?a.hide(0):a.show(0))))}}),Object.defineProperty(r.prototype,"_updateTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e.label.set("text",this.getTooltipText(t))}}),Object.defineProperty(r.prototype,"roundAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return e}}),Object.defineProperty(r.prototype,"handleCursorShow",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&e.show()}}),Object.defineProperty(r.prototype,"handleCursorHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("tooltip");e&&e.hide()}}),Object.defineProperty(r.prototype,"processSeriesDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._clearDirty.call(this),this._sizeDirty=!1,this._rangesDirty=!1}}),Object.defineProperty(r.prototype,"coordinateToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("renderer");return t.toAxisPosition(e/t.axisLength())}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("renderer").toAxisPosition(e)}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("renderer").fixPosition(e)}}),Object.defineProperty(r.prototype,"shouldGap",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return!1}}),Object.defineProperty(r.prototype,"createAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.axisRanges.push(e)}}),Object.defineProperty(r.prototype,"_groupSeriesData",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Axis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ft.classNames.concat([r.className])}),r}(ft),Aa=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_frequency",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_itemMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=W(this._settings.themeTags,["axis"]),this.fields.push("category"),this.setPrivateRaw("name","category"),this.addTag("category"),n.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._prepareChildren.call(this);var t=this.dataItems.length,i=0;this._valuesDirty&&(y(this.dataItems,function(a){a.setRaw("index",i),e._itemMap[a.get("category")]=a,i++}),this.setPrivateRaw("maxZoomFactor",t)),this.setPrivateRaw("startIndex",Math.max(Math.round(this.get("start",0)*t),0)),this.setPrivateRaw("endIndex",Math.min(Math.round(this.get("end",1)*t),t)),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("endIndex")||this.isPrivateDirty("startIndex")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&this.dataItems.length>0&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges())}}),Object.defineProperty(r.prototype,"_handleRangeChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;y(this.series,function(t){var i=e.dataItems[e.startIndex()].get("category"),a=e.dataItems[e.endIndex()-1].get("category"),o=t.get("baseAxis"),u=t.get("xAxis"),l=t.get("yAxis");if(u instanceof r&&l instanceof r)t._markDirtyAxes();else if(o===e){var s=void 0,f=void 0,h=l;if(u===o?(t.get("categoryXField")&&(s="categoryX"),t.get("openCategoryXField")&&(f="openCategoryX")):l===o&&(t.get("categoryYField")&&(s="categoryY"),t.get("openCategoryYField")&&(f="openCategoryY"),h=u),h.className=="ValueAxis"&&(s||f)){for(var p=void 0,b=void 0,v=0,c=t.dataItems.length;v<c;v++){var d=t.dataItems[v];if(s&&d.get(s)===i){p=d;break}if(f&&d.get(f)===i){p=d;break}}for(var v=t.dataItems.length-1;v>=0;v--){var d=t.dataItems[v];if(s&&d.get(s)===a){b=d;break}if(f&&d.get(f)===a){b=d;break}}p&&t.setPrivate("startIndex",t.dataItems.indexOf(p)),b&&t.setPrivate("endIndex",t.dataItems.indexOf(b)+1)}t._markDirtyAxes()}})}}),Object.defineProperty(r.prototype,"_prepareAxisItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("renderer"),t=this.dataItems.length,i=this.startIndex();i>0&&i--;var a=this.endIndex();a<t&&a++;var o=e.axisLength()/Math.max(e.get("minGridDistance"),1/Number.MAX_SAFE_INTEGER),u=Math.max(1,Math.min(t,Math.ceil((a-i)/o)));i=Math.floor(i/u)*u,this._frequency=u;for(var l=0;l<t;l++)this.dataItems[l].hide();for(var s=this.dataItems[i].get("index",0),f=i;f<a;f=f+u){var h=this.dataItems[f];this._createAssets(h,[]),h.isHidden()&&h.show(),this._prepareDataItem(h,s,u),s++}this._updateGhost()}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.get("renderer"),o=e.get("categoryLocation",0),u=e.get("endCategoryLocation",1),l=e.get("index");_(l)||(l=this.categoryToIndex(e.get("category")));var s=this.indexToPosition(l,o),f=e.get("endCategory"),h;f?(h=this.categoryToIndex(f),_(h)||(h=l)):h=l;var p=this.indexToPosition(h,u),b,v;e.get("isRange")?b=h:b=l+this._frequency-1,v=this.indexToPosition(b,u),a.updateLabel(e.get("label"),s,p,i),a.updateGrid(e.get("grid"),s,p),a.updateTick(e.get("tick"),s,p,i),a.updateFill(e.get("axisFill"),s,v),this._processBullet(e),a.updateBullet(e.get("bullet"),s,p);var c=this.get("fillRule");c&&c(e,t)}}),Object.defineProperty(r.prototype,"startIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.min(Math.max(this.getPrivate("startIndex",0),0),e-1)}}),Object.defineProperty(r.prototype,"endIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.dataItems.length;return Math.max(1,Math.min(this.getPrivate("endIndex",e),e))}}),Object.defineProperty(r.prototype,"baseValue",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"basePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return 0}}),Object.defineProperty(r.prototype,"getX",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}}),Object.defineProperty(r.prototype,"getY",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?this._settings.renderer.positionToCoordinate(this.indexToPosition(t.get("index",0))):NaN}}),Object.defineProperty(r.prototype,"getDataItemPositionX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=e.get(t),u=this._itemMap[o];return u?this.indexToPosition(u.get("index",0),i):NaN}}),Object.defineProperty(r.prototype,"getDataItemCoordinateX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=e.get(t),u=this._itemMap[o];return u?this.indexToPosition(u.get("index",0),i):NaN}}),Object.defineProperty(r.prototype,"getDataItemCoordinateY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,a))}}),Object.defineProperty(r.prototype,"indexToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){_(t)||(t=.5);var i=this.dataItems.length,a=this.get("startLocation",0),o=this.get("endLocation",1);i-=a,i-=1-o;var u=(e+t-a)/i,l=this.dataItems[e];return l&&(u+=l.get("deltaPosition",0)),u}}),Object.defineProperty(r.prototype,"categoryToIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._itemMap[e];return t?t.get("index"):NaN}}),Object.defineProperty(r.prototype,"dataItemToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.indexToPosition(e.get("index"))}}),Object.defineProperty(r.prototype,"roundAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.indexToPosition(this.axisPositionToIndex(e),t)}}),Object.defineProperty(r.prototype,"axisPositionToIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dataItems.length;return V(Math.floor(e*t),0,t-1)}}),Object.defineProperty(r.prototype,"getTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.dataItems[this.axisPositionToIndex(e)];if(t){var i=t.get("label");if(i)return Bt(i,this.get("tooltipText",""))}}}),Object.defineProperty(r.prototype,"_updateTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){e._setDataItem(this.dataItems[this.axisPositionToIndex(t)]),e.label.text.markDirtyText()}}),Object.defineProperty(r.prototype,"getSeriesItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(this.dataItems.length>0){var i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.axisPositionToIndex(t),o=e.dataItems[a],u=this.dataItems[a],l=u.get("category");if(o&&u&&o.get(i)===l)return o;for(var s=0,f=e.dataItems.length;s<f;s++){var h=e.dataItems[s];if(h.get(i)===l)return h}}}}),Object.defineProperty(r.prototype,"zoomToIndexes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.dataItems.length;this.zoom(e/a,t/a,i)}}),Object.defineProperty(r.prototype,"zoomToCategories",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){this.zoomToIndexes(this.categoryToIndex(e),this.categoryToIndex(t)+1,i)}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"CategoryAxis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([r.className])}),r}(ct),Ma=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_dirtyExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dirtySelectionExtremes",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_deltaMinMax",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_minReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_maxReal",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_baseValue",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_syncDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"markDirtyExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dirtyExtremes=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"markDirtySelectionExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._dirtySelectionExtremes=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=W(this._settings.themeTags,["axis"]),this.setPrivateRaw("name","value"),this.addTag("value"),n.prototype._afterNew.call(this)}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(n.prototype._prepareChildren.call(this),this.isDirty("syncWithAxis")){var t=this._prevSettings.syncWithAxis;t&&this._syncDp&&this._syncDp.dispose();var i=this.get("syncWithAxis");i&&(this._syncDp=new ue([i.onPrivate("selectionMinFinal",function(){e._dirtySelectionExtremes=!0}),i.onPrivate("selectionMaxFinal",function(){e._dirtySelectionExtremes=!0})]))}(this._sizeDirty||this._dirtyExtremes||this._valuesDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("min")||this.isDirty("max")||this.isDirty("extraMin")||this.isDirty("extraMax")||this.isDirty("logarithmic")||this.isDirty("treatZeroAs")||this.isDirty("baseValue")||this.isDirty("strictMinMax")||this.isDirty("maxPrecision")||this.isDirty("numberFormat"))&&(this._getMinMax(),this._dirtyExtremes=!1),this._dirtySelectionExtremes&&!this._isPanning&&(this._getSelectionMinMax(),this._dirtySelectionExtremes=!1),this._groupData(),(this._sizeDirty||this._valuesDirty||this.isDirty("start")||this.isDirty("end")||this.isPrivateDirty("min")||this.isPrivateDirty("selectionMax")||this.isPrivateDirty("selectionMin")||this.isPrivateDirty("max")||this.isPrivateDirty("step")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("logarithmic"))&&(this._handleRangeChange(),this._prepareAxisItems(),this._updateAxisRanges()),this._baseValue=this.baseValue()}}),Object.defineProperty(r.prototype,"_groupData",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_formatText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("numberFormat"),i=this.getNumberFormatter(),a="";return t?a=i.format(e,t):a=i.format(e,void 0,this.getPrivate("stepDecimalPlaces")),a}}),Object.defineProperty(r.prototype,"_prepareAxisItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.getPrivate("min"),t=this.getPrivate("max");if(_(e)&&_(t)){var i=this.get("logarithmic"),a=this.getPrivate("step"),o=this.getPrivate("selectionMin"),u=this.getPrivate("selectionMax")+a,l=o-a,s=0;for(i&&(l=o);l<u;){var f=void 0;this.dataItems.length<s+1?(f=new Be(this,void 0,{}),this._dataItems.push(f),this.processDataItem(f)):f=this.dataItems[s],this._createAssets(f,[]),f.isHidden()&&f.show(),f.setRaw("value",l);var h=f.get("label");if(h&&h.set("text",this._formatText(l)),this._prepareDataItem(f),!i)l+=a;else{var p=Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E;p>1?l=Math.pow(10,Math.log(e)*Math.LOG10E+s):l+=a}var b=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E));if(b<1){var v=Math.round(Math.abs(Math.log(Math.abs(b))*Math.LOG10E))+2;l=ge(l,v)}s++}for(var c=s;c<this.dataItems.length;c++)this.dataItems[c].hide();y(this.series,function(d){d.inited&&d._markDirtyAxes()}),this._updateGhost()}}}),Object.defineProperty(r.prototype,"_prepareDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("renderer"),a=e.get("value"),o=e.get("endValue"),u=this.valueToPosition(a),l=u,s=this.valueToPosition(a+this.getPrivate("step"));_(o)&&(l=this.valueToPosition(o),s=l),i.updateLabel(e.get("label"),u,l,t);var f=e.get("grid");if(i.updateGrid(f,u,l),f&&(a==this.get("baseValue",0)?(f.addTag("base"),f._applyThemes()):f.hasTag("base")&&(f.removeTag("base"),f._applyThemes())),i.updateTick(e.get("tick"),u,l,t),i.updateFill(e.get("axisFill"),u,s),this._processBullet(e),i.updateBullet(e.get("bullet"),u,l),!e.get("isRange")){var h=this.get("fillRule");h&&h(e)}}}),Object.defineProperty(r.prototype,"_handleRangeChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.positionToValue(this.get("start",0)),t=this.positionToValue(this.get("end",1)),i=this.get("renderer").gridCount(),a=this._adjustMinMax(e,t,i,!0),o=Qr(a.step);this.setPrivateRaw("stepDecimalPlaces",o),e=ge(e,o),t=ge(t,o),a=this._adjustMinMax(e,t,i,!0);var u=a.step;e=a.min,t=a.max,(this.getPrivate("selectionMin")!==e||this.getPrivate("selectionMax")!==t||this.getPrivate("step")!==u)&&(this.setPrivateRaw("selectionMin",e),this.setPrivateRaw("selectionMax",t),this.setPrivateRaw("step",u))}}),Object.defineProperty(r.prototype,"positionToValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("min"),i=this.getPrivate("max");return this.get("logarithmic")?Math.pow(Math.E,(e*(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)+Math.log(t)*Math.LOG10E)/Math.LOG10E):e*(i-t)+t}}),Object.defineProperty(r.prototype,"valueToPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("min"),i=this.getPrivate("max");if(this.get("logarithmic")){if(e<=0){var a=this.get("treatZeroAs");_(a)&&(e=a)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}}),Object.defineProperty(r.prototype,"valueToFinalPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.getPrivate("minFinal"),i=this.getPrivate("maxFinal");if(this.get("logarithmic")){if(e<=0){var a=this.get("treatZeroAs");_(a)&&(e=a)}return(Math.log(e)*Math.LOG10E-Math.log(t)*Math.LOG10E)/(Math.log(i)*Math.LOG10E-Math.log(t)*Math.LOG10E)}else return(e-t)/(i-t)}}),Object.defineProperty(r.prototype,"getX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e=i+(e-i)*t;var a=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(a)}}),Object.defineProperty(r.prototype,"getY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){e=i+(e-i)*t;var a=this.valueToPosition(e);return this._settings.renderer.positionToCoordinate(a)}}),Object.defineProperty(r.prototype,"getDataItemCoordinateX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionX(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionX",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=e.get(t),u=e.get("stackToItemX");if(u){var l=e.component;o=o*a+l.getStackedXValueWorking(e,t)}else o=this._baseValue+(o-this._baseValue)*a;return this.valueToPosition(o)}}),Object.defineProperty(r.prototype,"getDataItemCoordinateY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){return this._settings.renderer.positionToCoordinate(this.getDataItemPositionY(e,t,i,a))}}),Object.defineProperty(r.prototype,"getDataItemPositionY",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=e.get(t),u=e.get("stackToItemY");if(u){var l=e.component;o=o*a+l.getStackedYValueWorking(e,t)}else o=this._baseValue+(o-this._baseValue)*a;return this.valueToPosition(o)}}),Object.defineProperty(r.prototype,"basePosition",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.valueToPosition(this.baseValue())}}),Object.defineProperty(r.prototype,"baseValue",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=Math.min(this.getPrivate("minFinal",-1/0),this.getPrivate("selectionMin",-1/0)),t=Math.max(this.getPrivate("maxFinal",1/0),this.getPrivate("selectionMax",1/0)),i=this.get("baseValue",0);return i<e&&(i=e),i>t&&(i=t),i}}),Object.defineProperty(r.prototype,"cellEndValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"fixSmallStep",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return 1+e===1?(e*=2,this.fixSmallStep(e)):e}}),Object.defineProperty(r.prototype,"_fixMin",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"_fixMax",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return e}}),Object.defineProperty(r.prototype,"_calculateTotals",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.get("calculateTotals")){var e=this.series[0];if(e){var t=e.startIndex();if(e.dataItems.length>0){t>0&&t--;var i=e.endIndex();i<e.dataItems.length&&i++;var a,o;e.get("yAxis")==this?(a="valueY",o="vcy"):e.get("xAxis")==this&&(a="valueX",o="vcx");var u=a+"Working";if(a)for(var l=function(h){var p=0,b=0;y(s.series,function(v){if(!v.get("excludeFromTotal")){var c=v.dataItems[h];if(c){var d=c.get(u)*v.get(o);Ae(d)||(p+=d,b+=Math.abs(d))}}}),y(s.series,function(v){if(!v.get("excludeFromTotal")){var c=v.dataItems[h];if(c){var d=c.get(u)*v.get(o);Ae(d)||(c.set(a+"Total",b),c.set(a+"Sum",p),c.set(a+"TotalPercent",d/b*100))}}})},s=this,f=t;f<i;f++)l(f)}}}}}),Object.defineProperty(r.prototype,"_getSelectionMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e,t=this,i=this.getPrivate("minFinal"),a=this.getPrivate("maxFinal"),o=this.get("min"),u=this.get("max"),l=this.get("extraMin",0),s=this.get("extraMax",0),f=this.get("renderer").gridCount(),h=this.get("strictMinMax",!1);if(_(i)&&_(a)){var p=a,b=i;if(y(this.series,function(w){if(!w.get("ignoreMinMax")){var P=void 0,j=void 0;w.get("xAxis")===t?(P=w.getPrivate("selectionMinX",w.getPrivate("minX")),j=w.getPrivate("selectionMaxX",w.getPrivate("maxX"))):w.get("yAxis")===t&&(P=w.getPrivate("selectionMinY",w.getPrivate("minY")),j=w.getPrivate("selectionMaxY",w.getPrivate("maxY"))),!w.isHidden()&&!w.isShowing()&&(_(P)&&(p=Math.min(p,P)),_(j)&&(b=Math.max(b,j)))}}),p>b&&(e=se([b,p],2),p=e[0],b=e[1]),_(o)?h?p=o:p=i:h&&_(this._minReal)&&(p=this._minReal),_(u)?h?b=u:b=a:h&&_(this._maxReal)&&(b=this._maxReal),p===b){p-=this._deltaMinMax,b+=this._deltaMinMax;var v=this._adjustMinMax(p,b,f,h);p=v.min,b=v.max}var c=this._adjustMinMax(p,b,f);p=c.min,b=c.max,p-=(b-p)*l,b+=(b-p)*s,p=V(p,i,a),b=V(b,i,a),c=this._adjustMinMax(p,b,f,!0),h||(p=c.min,b=c.max);var d=this.get("syncWithAxis");d&&(c=this._syncAxes(p,b,c.step,d.getPrivate("selectionMinFinal",d.getPrivate("minFinal",0)),d.getPrivate("selectionMaxFinal",d.getPrivate("maxFinal",1)),d.getPrivate("selectionStepFinal",d.getPrivate("step",1))),p=c.min,b=c.max),h&&(_(o)&&(p=Math.max(p,o)),_(u)&&(b=Math.min(b,u)));var g=this.valueToFinalPosition(p),m=this.valueToFinalPosition(b);this.setPrivateRaw("selectionMinFinal",p),this.setPrivateRaw("selectionMaxFinal",b),this.setPrivateRaw("selectionStepFinal",c.step),this.zoom(g,m)}}}),Object.defineProperty(r.prototype,"_getMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("min"),i=this.get("max"),a=1/0,o=-1/0,u=this.get("extraMin",0),l=this.get("extraMax",0),s=1/0;if(y(this.series,function(j){if(!j.get("ignoreMinMax")){var O=void 0,D=void 0;if(j.get("xAxis")===e?(O=j.getPrivate("minX"),D=j.getPrivate("maxX")):j.get("yAxis")===e&&(O=j.getPrivate("minY"),D=j.getPrivate("maxY")),_(O)&&_(D)){a=Math.min(a,O),o=Math.max(o,D);var x=D-O;x<=0&&(x=Math.abs(D/100)),x<s&&(s=x)}}}),this.get("logarithmic")){var f=this.get("treatZeroAs");_(f)&&a<=0&&(a=f)}if(a===0&&o===0&&(o=.9,a=-.9),_(t)&&(a=t),_(i)&&(o=i),!(a===1/0||o===-1/0)){var h=this.adapters.fold("min",a),p=this.adapters.fold("max",o);if(_(h)&&(a=h),_(p)&&(o=p),a=this._fixMin(a),o=this._fixMax(o),o-a<=1/Math.pow(10,15)){if(o-a!=0)this._deltaMinMax=(o-a)/2;else{var b=Math.log(Math.abs(o))*Math.LOG10E,v=Math.pow(10,Math.floor(b));v=v/10,this._deltaMinMax=v}a-=this._deltaMinMax,o+=this._deltaMinMax}a-=(o-a)*u,o+=(o-a)*l,this._minReal=a,this._maxReal=o;var c=this.get("strictMinMax");_(i)&&(c=!0);var d=this.get("renderer").gridCount(),g=this._adjustMinMax(a,o,d,c);a=g.min,o=g.max,g=this._adjustMinMax(a,o,d,!0),a=g.min,o=g.max,this.get("strictMinMax")&&(_(t)?a=t:a=this._minReal,_(i)?o=i:o=this._maxReal,o-a<=1e-8&&(a-=this._deltaMinMax,o+=this._deltaMinMax),a-=(o-a)*u,o+=(o-a)*l),h=this.adapters.fold("min",a),p=this.adapters.fold("max",o),_(h)&&(a=h),_(p)&&(o=p),s==1/0&&(s=o-a);var m=this.get("syncWithAxis");if(m&&(g=this._syncAxes(a,o,g.step,m.getPrivate("minFinal",m.getPrivate("min",0)),m.getPrivate("maxFinal",m.getPrivate("max",1)),m.getPrivate("step",1)),a=g.min,o=g.max),this.setPrivateRaw("maxZoomFactor",(o-a)/s*this.get("maxZoomFactor",100)),_(a)&&_(o)&&(this.getPrivate("minFinal")!==a||this.getPrivate("maxFinal")!==o)){this.setPrivate("minFinal",a),this.setPrivate("maxFinal",o);var w=this.get("interpolationDuration",0),P=this.get("interpolationEasing");this.animatePrivate({key:"min",to:a,duration:w,easing:P}),this.animatePrivate({key:"max",to:o,duration:w,easing:P})}}}}),Object.defineProperty(r.prototype,"_adjustMinMax",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=this.get("logarithmic");i<=1&&(i=1),i=Math.round(i);var u=e,l=t,s=t-e;s===0&&(s=Math.abs(t));var f=Math.log(Math.abs(s))*Math.LOG10E,h=Math.pow(10,Math.floor(f));h=h/10;var p=h;if(a&&(p=0),!o)a?(e=Math.floor(e/h)*h,t=Math.ceil(t/h)*h):(e=Math.ceil(e/h)*h-p,t=Math.floor(t/h)*h+p),e<0&&u>=0&&(e=0),t>0&&l<=0&&(t=0);else if(e<=0&&(e=this.get("baseValue",0)),e===1/0&&(e=1),t===-1/0&&(t=10),e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),t=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E)),this.get("strictMinMax")){var b=this.get("min"),v=this.get("max");_(b)&&b>0&&(e=b),_(v)&&v>0&&(t=v)}f=Math.log(Math.abs(s))*Math.LOG10E,h=Math.pow(10,Math.floor(f)),h=h/100;var c=Math.ceil(s/i/h)*h,d=Math.pow(10,Math.floor(Math.log(Math.abs(c))*Math.LOG10E)),g=Math.ceil(c/d);g>5?g=10:g<=5&&g>2&&(g=5),c=Math.ceil(c/(d*g))*d*g;var m=this.get("maxPrecision");if(_(m)){var w=bi(c,m);m<Number.MAX_VALUE&&c!==w&&(c=w)}var P=0;if(d<1&&(P=Math.round(Math.abs(Math.log(Math.abs(d))*Math.LOG10E))+1,c=ge(c,P)),!o){var j=Math.floor(e/c);e=ge(c*j,P);var O=void 0;a?O=Math.floor(t/c):O=Math.ceil(t/c),O===j&&O++,t=ge(c*O,P),t<l&&(t=t+c),e>u&&(e=e-c)}return c=this.fixSmallStep(c),{min:e,max:t,step:c}}}),Object.defineProperty(r.prototype,"getTooltipText",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("tooltipNumberFormat",this.get("numberFormat")),i=this.getNumberFormatter(),a=this.get("extraTooltipPrecision",0),o=this.getPrivate("stepDecimalPlaces",0)+a,u=ge(this.positionToValue(e),o);return t?i.format(u,t):i.format(u,void 0,o)}}),Object.defineProperty(r.prototype,"getSeriesItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.getPrivate("name")+this.get("renderer").getPrivate("letter"),a=this.positionToValue(t),o=void 0,u;if(y(e.dataItems,function(l,s){var f=Math.abs(l.get(i)-a);(o===void 0||f<u)&&(o=s,u=f)}),o!=null)return e.dataItems[o]}}),Object.defineProperty(r.prototype,"zoomToValues",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this.getPrivate("minFinal",0),o=this.getPrivate("maxFinal",0);this.getPrivate("min")!=null&&this.getPrivate("max")!=null&&this.zoom((e-a)/(o-a),(t-a)/(o-a),i)}}),Object.defineProperty(r.prototype,"_syncAxes",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u){var l=this.get("syncWithAxis");if(l){var s=Math.round(o-a)/u,f=Math.round((t-e)/i),h=this.get("renderer").gridCount();if(_(s)&&_(f))for(var p=!1,b=0,v=(t-e)*.01,c=e,d=t,g=i;p!=!0;)if(p=this._checkSync(c,d,g,s),b++,b>500&&(p=!0),p)e=c,t=d,i=g;else{b/3==Math.round(b/3)?(c=e-v*b,e>=0&&c<0&&(c=0)):(d=t+v*b,d<=0&&d>0&&(d=0));var m=this._adjustMinMax(c,d,h,!0);c=m.min,d=m.max,g=m.step}}return{min:e,max:t,step:i}}}),Object.defineProperty(r.prototype,"_checkSync",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){for(var o=(t-e)/i,u=1;u<a;u++)if(ge(o/u,1)==a||o*u==a)return!0;return!1}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ValueAxis"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ct.classNames.concat([r.className])}),r}(ct),Pa=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisLabel"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:lt.classNames.concat([r.className])}),r}(lt),Oa=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_tickPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),e}return Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisTick"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jr.classNames.concat([r.className])}),r}(jr),ht=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_axisLength",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(e,"_start",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_end",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_inversed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_minSize",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_lc",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_ls",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_thumbDownPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_downEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:new Ee(me.new({}),function(){return Oa._new(e._root,{themeTags:W(e.ticks.template.get("themeTags",[]),e.get("themeTags",[]))},[e.ticks.template])})}),Object.defineProperty(e,"grid",{enumerable:!0,configurable:!0,writable:!0,value:new Ee(me.new({}),function(){return wa._new(e._root,{themeTags:W(e.grid.template.get("themeTags",[]),e.get("themeTags",[]))},[e.grid.template])})}),Object.defineProperty(e,"axisFills",{enumerable:!0,configurable:!0,writable:!0,value:new Ee(me.new({}),function(){return ee._new(e._root,{themeTags:W(e.axisFills.template.get("themeTags",["axis","fill"]),e.get("themeTags",[]))},[e.axisFills.template])})}),Object.defineProperty(e,"labels",{enumerable:!0,configurable:!0,writable:!0,value:new Ee(me.new({}),function(){return Pa._new(e._root,{themeTags:W(e.labels.template.get("themeTags",[]),e.get("themeTags",[]))},[e.labels.template])})}),Object.defineProperty(e,"axis",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"makeTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.ticks.make();return i._setDataItem(e),e.setRaw("tick",i),i.set("themeTags",W(i.get("themeTags"),t)),this.axis.labelsContainer.children.push(i),this.ticks.push(i),i}}),Object.defineProperty(r.prototype,"makeGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.grid.make();return i._setDataItem(e),e.setRaw("grid",i),i.set("themeTags",W(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),this.grid.push(i),i}}),Object.defineProperty(r.prototype,"makeAxisFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.axisFills.make();return i._setDataItem(e),i.set("themeTags",W(i.get("themeTags"),t)),this.axis.gridContainer.children.push(i),e.setRaw("axisFill",i),this.axisFills.push(i),i}}),Object.defineProperty(r.prototype,"makeLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.labels.make();return this.get("opposite")&&t.push("opposite"),this.get("inside")&&t.push("inside"),i.set("themeTags",W(i.get("themeTags"),t)),this.axis.labelsContainer.children.moveValue(i,0),i._setDataItem(e),e.setRaw("label",i),this.labels.push(i),i}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return 0}}),Object.defineProperty(r.prototype,"gridCount",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axisLength()/this.get("minGridDistance",50)}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._afterNew.call(this),this.set("isMeasured",!1);var t=this.thumb;t&&(this._disposers.push(t.events.on("pointerdown",function(i){e._handleThumbDown(i.originalEvent)})),this._disposers.push(t.events.on("globalpointerup",function(i){e._handleThumbUp(i.originalEvent)})),this._disposers.push(t.events.on("globalpointermove",function(i){e._handleThumbMove(i.originalEvent)})))}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(n.prototype._changed.call(this),this.isDirty("pan")){var e=this.thumb;if(e){var t=this.axis.labelsContainer,i=this.get("pan");i=="zoom"?t.children.push(e):i=="none"&&t.children.removeValue(e)}}}}),Object.defineProperty(r.prototype,"_handleThumbDown",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._thumbDownPoint=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY}));var t=this.axis;this._downStart=t.get("start"),this._downEnd=t.get("end")}}),Object.defineProperty(r.prototype,"_handleThumbUp",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._thumbDownPoint=void 0}}),Object.defineProperty(r.prototype,"_handleThumbMove",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._thumbDownPoint;if(t){var i=this.toLocal(this._root.documentPointToRoot({x:e.clientX,y:e.clientY})),a=this._downStart,o=this._downEnd,u=this._getPan(i,t)*Math.min(1,o-a)/2;this.axis.setAll({start:a-u,end:o+u})}}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return 0}}),Object.defineProperty(r.prototype,"positionToCoordinate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._inversed?(this._end-e)*this._axisLength:(e-this._start)*this._axisLength}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){}}),Object.defineProperty(r.prototype,"_updateSize",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.markDirty(),this._clear=!0}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e=e*(i-t),this.get("inversed")?e=i-e:e=t+e,e}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("inversed")?1-e:e}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r.prototype,"toggleVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){var o=this.axis,u=o.get("start",0),l=o.get("end",1),s=u+(l-u)*(i-1e-4),f=u+(l-u)*(a+1e-4);t<s||t>f?e.setPrivate("visible",!1):e.setPrivate("visible",!0)}}),Object.defineProperty(r.prototype,"_positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.chart;i&&(i.inPlot(t)?e.set("pointTo",this._display.toGlobal(t)):e.hide())}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRenderer"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ee.classNames.concat([r.className])}),r}(ee),ka=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:_e.new(e._root,{width:C,themeTags:["axis","x","thumb"]})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=W(this._settings.themeTags,["renderer","x"]),n.prototype._afterNew.call(this),this.setPrivateRaw("letter","X");var e=this.grid.template;e.set("height",C),e.set("width",0),e.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(0,i.height())}),this.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(i.width(),0)})}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._changed.call(this);var e=this.axis;this.isDirty("inside")&&e.markDirtySize();var t="opposite";if(this.isDirty(t)){var i=this.chart;if(i){var a=e.children;if(this.get(t)){var o=i.topAxesContainer.children;o.indexOf(e)==-1&&o.insertIndex(0,e),a.moveValue(this),e.addTag(t)}else{var o=i.bottomAxesContainer.children;o.indexOf(e)==-1&&o.moveValue(e),a.moveValue(this,0),e.removeTag(t)}e.markDirtySize()}e.ghostLabel._applyThemes()}this.thumb.setPrivate("height",e.labelsContainer.height())}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(t.x-e.x)/this.width()}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=i-e:e=t+e,e}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis,t=e.parent;if(t){var i=t.innerWidth();this._lc=this.axisLength()/i,this._ls=(e.x()-t.get("paddingLeft",0))/i}}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis;e.gridContainer.set("x",e.x()-Q(e.get("centerX",0),e.width())-e.parent.get("paddingLeft",0)),e.bulletsContainer.set("y",this.y());var t=e.chart;if(t){var i=t.plotContainer,a=e.axisHeader,o=e.get("marginLeft",0),u=e.x()-o,l=e.parent;l&&(u-=l.get("paddingLeft",0)),a.children.length>0?(o=e.axisHeader.width(),e.set("marginLeft",o)):a.set("width",o),a.setAll({x:u,y:-1,height:i.height()+2})}}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.processAxis.call(this);var e=this.axis;e.set("width",C);var t=this._root.verticalLayout;e.set("layout",t),e.labelsContainer.set("width",C),e.axisHeader.setAll({layout:t})}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axis.width()}}),Object.defineProperty(r.prototype,"positionToPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:this.positionToCoordinate(e),y:0}}}),Object.defineProperty(r.prototype,"updateTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){_(t)||(t=0);var o=.5;_(a)&&a>1?o=e.get("multiLocation",o):o=e.get("location",o),_(i)&&i!=t&&(t=t+(i-t)*o),e.set("x",this.positionToCoordinate(t));var u=e.get("length",0),l=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("y",C),l||(u*=-1)):(e.set("y",0),l&&(u*=-1)),e.set("draw",function(s){s.moveTo(0,0),s.lineTo(0,u)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){var o=.5;_(a)&&a>1?o=e.get("multiLocation",o):o=e.get("location",o),_(t)||(t=0);var u=e.get("inside",this.get("inside",!1)),l=this.get("opposite");l?u?(e.set("position","absolute"),e.set("y",0)):(e.set("position","relative"),e.set("y",C)):u?(e.set("y",0),e.set("position","absolute")):(e.set("y",void 0),e.set("position","relative")),_(i)&&i!=t&&(t=t+(i-t)*o),e.set("x",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){_(t)||(t=0);var a=e.get("location",.5);_(i)&&i!=t&&(t=t+(i-t)*a),e.set("x",Math.round(this.positionToCoordinate(t))),this.toggleVisibility(e,t,0,1)}}}),Object.defineProperty(r.prototype,"updateBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){var a=e.get("sprite");if(a){_(t)||(t=0);var o=e.get("location",.5);_(i)&&i!=t&&(t=t+(i-t)*o),a.set("x",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}}),Object.defineProperty(r.prototype,"updateFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){_(t)||(t=0),_(i)||(i=1);var a=this.positionToCoordinate(t),o=this.positionToCoordinate(i);this.fillDrawMethod(e,a,o)}}}),Object.defineProperty(r.prototype,"fillDrawMethod",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;e.set("draw",function(o){var u,l=a.axis.gridContainer.height(),s=a.width();i<t&&(u=se([t,i],2),i=u[0],t=u[1]),!(t>s||i<0)&&(t=Math.max(0,t),i=Math.min(s,i),o.moveTo(t,0),o.lineTo(i,0),o.lineTo(i,l),o.lineTo(t,l),o.lineTo(t,0))})}}),Object.defineProperty(r.prototype,"positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._positionTooltip(e,{x:this.positionToCoordinate(t),y:0})}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("inside"),i=1e5,a=this._display.toGlobal({x:0,y:0}),o=a.x,u=0,l=this.axisLength(),s=i,f="up";this.get("opposite")?t?(f="up",u=a.y,s=i):(f="down",u=a.y-i,s=i):t?(f="down",u=a.y-i,s=i):(f="up",u=a.y,s=i);var h={left:o,right:o+l,top:u,bottom:u+s},p=e.get("bounds");nr(h,p)||(e.set("bounds",h),e.set("pointerOrientation",f))}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererX"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ht.classNames.concat([r.className])}),r}(ht),Ea=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_downY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"thumb",{enumerable:!0,configurable:!0,writable:!0,value:_e.new(e._root,{height:C,themeTags:["axis","y","thumb"]})}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._settings.themeTags=W(this._settings.themeTags,["renderer","y"]),this._settings.opposite&&this._settings.themeTags.push("opposite"),n.prototype._afterNew.call(this),this.setPrivateRaw("letter","Y");var e=this.grid.template;e.set("width",C),e.set("height",0),e.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(i.width(),0)}),this.set("draw",function(t,i){t.moveTo(0,0),t.lineTo(0,i.height())})}}),Object.defineProperty(r.prototype,"_getPan",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return(e.y-t.y)/this.height()}}),Object.defineProperty(r.prototype,"_changed",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._changed.call(this);var e=this.axis;this.isDirty("inside")&&e.markDirtySize();var t=this.thumb,i="opposite";if(this.isDirty(i)){var a=this.chart,o=e.children;if(a){if(this.get(i)){var u=a.rightAxesContainer.children;u.indexOf(e)==-1&&u.moveValue(e,0),e.addTag(i),o.moveValue(this,0),t.set("centerX",0)}else{var u=a.leftAxesContainer.children;u.indexOf(e)==-1&&u.moveValue(e),e.removeTag("opposite"),o.moveValue(this),t.set("centerX",C)}e.markDirtySize()}e.ghostLabel._applyThemes()}t.setPrivate("width",e.labelsContainer.width())}}),Object.defineProperty(r.prototype,"processAxis",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype.processAxis.call(this);var e=this.axis;e.get("height")==null&&e.set("height",C);var t=this._root.horizontalLayout;e.set("layout",t),e.labelsContainer.set("height",C),e.axisHeader.set("layout",t)}}),Object.defineProperty(r.prototype,"_updatePositions",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis;e.gridContainer.set("y",e.y()-Q(e.get("centerY",0),e.height())),e.bulletsContainer.set("x",this.x());var t=e.chart;if(t){var i=t.plotContainer,a=e.axisHeader,o=e.get("marginTop",0);a.children.length>0?(o=e.axisHeader.height(),e.set("marginTop",o)):a.set("height",o),a.setAll({y:e.y()-o,x:-1,width:i.width()+2})}}}),Object.defineProperty(r.prototype,"axisLength",{enumerable:!1,configurable:!0,writable:!0,value:function(){return this.axis.innerHeight()}}),Object.defineProperty(r.prototype,"positionToPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return{x:0,y:this.positionToCoordinate(e)}}}),Object.defineProperty(r.prototype,"updateLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){_(t)||(t=0);var o=.5;_(a)&&a>1?o=e.get("multiLocation",o):o=e.get("location",o);var u=this.get("opposite"),l=e.get("inside",this.get("inside",!1));u?(e.set("x",0),l?e.set("position","absolute"):e.set("position","relative")):l?(e.set("x",0),e.set("position","absolute")):(e.set("x",void 0),e.set("position","relative")),_(i)&&i!=t&&(t=t+(i-t)*o),e.set("y",this.positionToCoordinate(t)),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateGrid",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){_(t)||(t=0);var a=e.get("location",.5);_(i)&&i!=t&&(t=t+(i-t)*a);var o=this.positionToCoordinate(t);e.set("y",o),this.toggleVisibility(e,t,0,1)}}}),Object.defineProperty(r.prototype,"updateTick",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a){if(e){_(t)||(t=0);var o=.5;_(a)&&a>1?o=e.get("multiLocation",o):o=e.get("location",o),_(i)&&i!=t&&(t=t+(i-t)*o),e.set("y",this.positionToCoordinate(t));var u=e.get("length",0),l=e.get("inside",this.get("inside",!1));this.get("opposite")?(e.set("x",0),l&&(u*=-1)):l||(u*=-1),e.set("draw",function(s){s.moveTo(0,0),s.lineTo(u,0)}),this.toggleVisibility(e,t,e.get("minPosition",0),e.get("maxPosition",1))}}}),Object.defineProperty(r.prototype,"updateBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){var a=e.get("sprite");if(a){_(t)||(t=0);var o=e.get("location",.5);_(i)&&i!=t&&(t=t+(i-t)*o),a.set("y",this.positionToCoordinate(t)),this.toggleVisibility(a,t,0,1)}}}}),Object.defineProperty(r.prototype,"updateFill",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){if(e){_(t)||(t=0),_(i)||(i=1);var a=this.positionToCoordinate(t),o=this.positionToCoordinate(i);this.fillDrawMethod(e,a,o)}}}),Object.defineProperty(r.prototype,"fillDrawMethod",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;e.set("draw",function(o){var u,l=a.axis.gridContainer.width(),s=a.height();i<t&&(u=se([t,i],2),i=u[0],t=u[1]),!(t>s||i<0)&&(t=Math.max(0,t),i=Math.min(s,i),o.moveTo(0,t),o.lineTo(l,t),o.lineTo(l,i),o.lineTo(0,i),o.lineTo(0,t))})}}),Object.defineProperty(r.prototype,"positionToCoordinate",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this._inversed?(e-this._start)*this._axisLength:(this._end-e)*this._axisLength}}),Object.defineProperty(r.prototype,"positionTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){this._positionTooltip(e,{x:0,y:this.positionToCoordinate(t)})}}),Object.defineProperty(r.prototype,"updateTooltipBounds",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("inside"),i=1e5,a=this._display.toGlobal({x:0,y:0}),o=a.y,u=0,l=this.axisLength(),s=i,f="right";this.get("opposite")?t?(f="right",u=a.x-i,s=i):(f="left",u=a.x,s=i):t?(f="left",u=a.x,s=i):(f="right",u=a.x-i,s=i);var h={left:u,right:u+s,top:o,bottom:o+l},p=e.get("bounds");nr(h,p)||(e.set("bounds",h),e.set("pointerOrientation",f))}}),Object.defineProperty(r.prototype,"_updateLC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.axis,t=e.parent;if(t){var i=t.innerHeight();this._lc=this.axisLength()/i,this._ls=e.y()/i}}}),Object.defineProperty(r.prototype,"toAxisPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this._start||0,i=this._end||1;return e-=this._ls,e=e*(i-t)/this._lc,this.get("inversed")?e=t+e:e=i-e,e}}),Object.defineProperty(r.prototype,"fixPosition",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.get("inversed")?e:1-e}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"AxisRendererY"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:ht.classNames.concat([r.className])}),r}(ht);function xa(n,r){return n==null?r:r==null?n:r<n?r:n}function ja(n,r){return n==null?r:r==null?n:r>n?r:n}var Sr=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_xField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yOpenField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_xHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yLowField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_yHighField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_axesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_stackDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_selectionProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_dataSets",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_mainContainerMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"mainContainer",{enumerable:!0,configurable:!0,writable:!0,value:e.children.push(R.new(e._root,{}))}),Object.defineProperty(e,"axisRanges",{enumerable:!0,configurable:!0,writable:!0,value:new ke}),Object.defineProperty(e,"_skipped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e,"_couldStackTo",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e,"_reallyStackedTo",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_stackedSeries",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e,"_aLocationX0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationX1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_aLocationY0",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_aLocationY1",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(e,"_showBullets",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e,"valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueX","openValueX"]}),Object.defineProperty(e,"valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:["valueY","openValueY"]}),Object.defineProperty(e,"_valueXFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueXShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"__valueYShowFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_emptyDataItem",{enumerable:!0,configurable:!0,writable:!0,value:new Be(e,void 0,{})}),Object.defineProperty(e,"_dataSetId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e,"_tooltipFieldY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e}return Object.defineProperty(r.prototype,"_afterNew",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.fields.push("categoryX","categoryY","openCategoryX","openCategoryY"),this.valueFields.push("valueX","valueY","openValueX","openValueY"),this._setRawDefault("vcx",1),this._setRawDefault("vcy",1),this._setRawDefault("valueXShow","valueXWorking"),this._setRawDefault("valueYShow","valueYWorking"),this._setRawDefault("openValueXShow","openValueXWorking"),this._setRawDefault("openValueYShow","openValueYWorking"),n.prototype._afterNew.call(this),this._settings.xAxis.series.push(this),this._settings.yAxis.series.push(this),this.set("maskContent",!0),this._disposers.push(this.axisRanges.events.onAll(function(a){if(a.type==="clear")y(a.oldValues,function(o){e._removeAxisRange(o)});else if(a.type==="push")e._processAxisRange(a.newValue);else if(a.type==="setIndex")e._processAxisRange(a.newValue);else if(a.type==="insertIndex")e._processAxisRange(a.newValue);else if(a.type==="removeIndex")e._removeAxisRange(a.oldValue);else if(a.type==="moveIndex")e._processAxisRange(a.value);else throw new Error("Unknown IStreamEvent type")})),!this.get("baseAxis")){var t=this.get("xAxis"),i=this.get("yAxis");i.isType("CategoryAxis")||i.isType("DateAxis")?this.set("baseAxis",i):this.set("baseAxis",t)}this.states.create("hidden",{opacity:1,visible:!1}),this._makeFieldNames()}}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=R.new(this._root,{});e.container=t,this.children.push(t),e.series=this;var i=e.axisDataItem;i.setRaw("isRange",!0);var a=i.component;if(a){a._processAxisRange(i,["range","series"]);var o=i.get("bullet");if(o){var u=o.get("sprite");u&&u.setPrivate("visible",!1)}var l=i.get("axisFill");l&&t.set("mask",l),a._seriesAxisRanges.push(i)}}}),Object.defineProperty(r.prototype,"_removeAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.axisDataItem,i=t.component;i.disposeDataItem(t),de(i._seriesAxisRanges,t);var a=e.container;a&&a.dispose()}}),Object.defineProperty(r.prototype,"_updateFields",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._updateFields.call(this),this._valueXFields=[],this._valueYFields=[],this._valueXShowFields=[],this._valueYShowFields=[],this.__valueXShowFields=[],this.__valueYShowFields=[],this.valueXFields&&y(this.valueXFields,function(t){var i=e.get(t+"Field");if(i){e._valueXFields.push(t);var a=e.get(t+"Show");e.__valueXShowFields.push(a),a.indexOf("Working")!=-1?e._valueXShowFields.push(a.split("Working")[0]):e._valueYShowFields.push(a)}}),this.valueYFields&&y(this.valueYFields,function(t){var i=e.get(t+"Field");if(i){e._valueYFields.push(t);var a=e.get(t+"Show");e.__valueYShowFields.push(a),a.indexOf("Working")!=-1?e._valueYShowFields.push(a.split("Working")[0]):e._valueYShowFields.push(a)}})}}),Object.defineProperty(r.prototype,"_dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._dispose.call(this),te(this.get("xAxis").series,this),te(this.get("yAxis").series,this)}}),Object.defineProperty(r.prototype,"_min",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=xa(this.getPrivate(e),t);this.setPrivate(e,i)}}),Object.defineProperty(r.prototype,"_max",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=ja(this.getPrivate(e),t);this.setPrivate(e,i)}}),Object.defineProperty(r.prototype,"_shouldMakeBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!this.get("xAxis").inited||!this.get("yAxis").inited?!1:e.get(this._xField)!=null&&e.get(this._yField)!=null}}),Object.defineProperty(r.prototype,"_makeFieldNames",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),i=e.getPrivate("name"),a=tr(i),o=t.getPrivate("name"),u=tr(o),l=e.get("renderer").getPrivate("letter"),s=t.get("renderer").getPrivate("letter"),f="open",h="low",p="high",b="Show";e.className==="ValueAxis"?(this._xField=this.get(i+l+b),this._xOpenField=this.get(f+a+l+b),this._xLowField=this.get(h+a+l+b),this._xHighField=this.get(p+a+l+b)):(this._xField=i+l,this._xOpenField=f+a+l,this._xLowField=h+a+l,this._xHighField=p+a+l),t.className==="ValueAxis"?(this._yField=this.get(o+s+b),this._yOpenField=this.get(f+u+s+b),this._yLowField=this.get(h+u+s+b),this._yHighField=this.get(p+u+s+b)):(this._yField=o+s,this._yOpenField=f+u+s,this._yLowField=h+u+s,this._yHighField=p+u+s)}}),Object.defineProperty(r.prototype,"_fixVC",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.get("xAxis"),t=this.get("yAxis"),i=this.get("baseAxis"),a=this.states.lookup("hidden"),o=this.get("sequencedInterpolation");if(a){var u=0;o&&(u=.999999999999),e===i?a.set("vcy",u):(t===i||a.set("vcy",u),a.set("vcx",u))}}}),Object.defineProperty(r.prototype,"_handleMaskBullets",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.isDirty("maskBullets")&&this.bulletsContainer.set("maskContent",this.get("maskBullets"))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._prepareChildren.call(this),this.set("width",this.get("xAxis").width()),this.set("height",this.get("yAxis").height()),this._handleMaskBullets();var t=this.get("xAxis"),i=this.get("yAxis"),a=this.get("baseAxis"),o=this.get("tooltipPositionX"),u;switch(o){case"open":u=this._xOpenField;break;case"low":u=this._xLowField;break;case"high":u=this._xHighField;break;default:u=this._xField}this._tooltipFieldX=u;var l=this.get("tooltipPositionY"),s;switch(l){case"open":s=this._yOpenField;break;case"low":s=this._yLowField;break;case"high":s=this._yHighField;break;default:s=this._yField}this._tooltipFieldY=s,this.isDirty("baseAxis")&&this._fixVC(),t===a?(this.set("y",i.y()-Q(i.get("centerY",0),i.height())-i.parent.get("paddingTop",0)),this.bulletsContainer.set("y",this.y())):i===a&&(this.set("x",t.x()-Q(t.get("centerX",0),t.width())-t.parent.get("paddingLeft",0)),this.bulletsContainer.set("x",this.x()));var f=this.get("stacked");if(this.isDirty("stacked")&&(f?this._valuesDirty&&!this._dataProcessed||this._stack():this._unstack()),this._valuesDirty&&!this._dataProcessed&&(this._dataProcessed=!0,f&&this._stack(),y(this.dataItems,function(m){y(e._valueXShowFields,function(w){var P=m.get(w);P!=null&&(f&&(P+=e.getStackedXValue(m,w)),e._min("minX",P),e._max("maxX",P))}),y(e._valueYShowFields,function(w){var P=m.get(w);P!=null&&(f&&(P+=e.getStackedYValue(m,w)),e._min("minY",P),e._max("maxY",P))}),t.processSeriesDataItem(m,e._valueXFields),i.processSeriesDataItem(m,e._valueYFields)}),t._seriesValuesDirty=!0,i._seriesValuesDirty=!0,this.get("ignoreMinMax")||((this.isPrivateDirty("minX")||this.isPrivateDirty("maxX"))&&t.markDirtyExtremes(),(this.isPrivateDirty("minY")||this.isPrivateDirty("maxY"))&&i.markDirtyExtremes()),this._markStakedDirtyStack(),this.updateLegendValue(void 0)),(this.isDirty("vcx")||this.isDirty("vcy"))&&this._markStakedDirtyStack(),this._dataGrouped||(t._groupSeriesData(this),i._groupSeriesData(this),this._dataGrouped=!0),this._valuesDirty||this.isPrivateDirty("startIndex")||this.isPrivateDirty("endIndex")||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty){var h=this.startIndex(),p=this.endIndex(),b=this.get("minBulletDistance",0);if(b>0&&a&&(a.get("renderer").axisLength()/(p-h)>b?this._showBullets=!0:this._showBullets=!1),(this._psi!=h||this._pei!=p||this.isDirty("vcx")||this.isDirty("vcy")||this._stackDirty||this._valuesDirty)&&!this._selectionProcessed){this._selectionProcessed=!0;var v=this.get("vcx",1),c=this.get("vcy",1),d=this.get("stacked",!1);if(a===t){i._calculateTotals(),this.setPrivateRaw("selectionMinY",void 0),this.setPrivateRaw("selectionMaxY",void 0);for(var g=h;g<p;g++)this.processYSelectionDataItem(this.dataItems[g],c,d)}else if(a===i){t._calculateTotals(),this.setPrivateRaw("selectionMinX",void 0),this.setPrivateRaw("selectionMaxX",void 0);for(var g=h;g<p;g++)this.processXSelectionDataItem(this.dataItems[g],v,d)}a===t?this.get("valueYShow")!=="valueYWorking"&&(this.setPrivateRaw("minY",this.getPrivate("selectionMinY")),this.setPrivateRaw("maxY",this.getPrivate("selectionMaxY")),i.markDirtyExtremes()):a===i&&this.get("valueXShow")!=="valueXWorking"&&(this.setPrivateRaw("minX",this.getPrivate("selectionMinX")),this.setPrivateRaw("maxX",this.getPrivate("selectionMaxX")),t.markDirtyExtremes()),(this.isPrivateDirty("selectionMinX")||this.isPrivateDirty("selectionMaxX"))&&t.markDirtySelectionExtremes(),(this.isPrivateDirty("selectionMinY")||this.isPrivateDirty("selectionMaxY"))&&i.markDirtySelectionExtremes()}}}}),Object.defineProperty(r.prototype,"_makeRangeMask",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;if(this.axisRanges.length>0){var t=this._mainContainerMask;t==null&&(t=this.children.push(ee.new(this._root,{})),this._mainContainerMask=t,t.set("draw",function(i,a){var o=e.parent;if(o){var u=e._root.container.width(),l=e._root.container.height();i.moveTo(-u,-l),i.lineTo(-u,l*2),i.lineTo(u*2,l*2),i.lineTo(u*2,-l),i.lineTo(-u,-l),e.axisRanges.each(function(s){var f=s.axisDataItem.get("axisFill");if(o&&f){var h=f.get("draw");h&&h(i,a)}})}e.mainContainer._display.mask=t._display})),t.markDirty(),t._markDirtyKey("fill")}else this.mainContainer._display.mask=null}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._updateChildren.call(this),this._x=this.x(),this._y=this.y(),this._makeRangeMask()}}),Object.defineProperty(r.prototype,"_stack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this.chart;if(e){var t=e.series.indexOf(this);if(this._couldStackTo=[],t>0)for(var i=void 0,a=t-1;a>=0&&(i=e.series.getIndex(a),!(i.get("xAxis")===this.get("xAxis")&&i.get("yAxis")===this.get("yAxis")&&i.className===this.className&&(this._couldStackTo.push(i),!i.get("stacked"))));a--);this._stackDataItems()}}}),Object.defineProperty(r.prototype,"_unstack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;I(this._reallyStackedTo,function(t,i){delete i._stackedSeries[e.uid]}),this._reallyStackedTo={},y(this.dataItems,function(t){t.setRaw("stackToItemY",void 0),t.setRaw("stackToItemX",void 0)})}}),Object.defineProperty(r.prototype,"_stackDataItems",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.get("baseAxis"),i=this.get("xAxis"),a=this.get("yAxis"),o,u;t===i?(o="valueY",u="stackToItemY"):t===a&&(o="valueX",u="stackToItemX");var l=this._couldStackTo.length,s=0,f=this.get("stackToNegative");this._reallyStackedTo={},y(this.dataItems,function(h){for(var p=0;p<l;p++){var b=e._couldStackTo[p],v=b.dataItems[s],c=h.get(o);if(v){var d=v.get(o);if(f)if(_(c)){if(_(d)){if(c>=0&&d>=0){h.setRaw(u,v),e._reallyStackedTo[b.uid]=b,b._stackedSeries[e.uid]=e;break}if(c<0&&d<0){h.setRaw(u,v),e._reallyStackedTo[b.uid]=b,b._stackedSeries[e.uid]=e;break}}}else break;else if(_(c)&&_(d)){h.setRaw(u,v),e._reallyStackedTo[b.uid]=b,b._stackedSeries[e.uid]=e;break}}}s++})}}),Object.defineProperty(r.prototype,"processXSelectionDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;y(this.__valueXShowFields,function(o){var u=e.get(o);u!=null&&(i&&(u+=a.getStackedXValueWorking(e,o)),a._min("selectionMinX",u),a._max("selectionMaxX",u*t))})}}),Object.defineProperty(r.prototype,"processYSelectionDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i){var a=this;y(this.__valueYShowFields,function(o){var u=e.get(o);u!=null&&(i&&(u+=a.getStackedYValueWorking(e,o)),a._min("selectionMinY",u),a._max("selectionMaxY",u*t))})}}),Object.defineProperty(r.prototype,"getStackedYValueWorking",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemY");if(i){var a=i.component;return i.get(t,0)*a.get("vcy",1)+this.getStackedYValueWorking(i,t)}return 0}}),Object.defineProperty(r.prototype,"getStackedXValueWorking",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemX");if(i){var a=i.component;return i.get(t,0)*a.get("vcx",1)+this.getStackedXValueWorking(i,t)}return 0}}),Object.defineProperty(r.prototype,"getStackedYValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemY");return i?i.get(t,0)+this.getStackedYValue(i,t):0}}),Object.defineProperty(r.prototype,"getStackedXValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("stackToItemX");return i?i.get(t,0)+this.getStackedXValue(i,t):0}}),Object.defineProperty(r.prototype,"createLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.updateLegendMarker()}}),Object.defineProperty(r.prototype,"_markDirtyAxes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._axesDirty=!0,this.markDirty()}}),Object.defineProperty(r.prototype,"_markDataSetDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._afterDataChange(),this._valuesDirty=!0,this._dataProcessed=!1,this._aggregatesCalculated=!1,this.markDirty()}}),Object.defineProperty(r.prototype,"_clearDirty",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._clearDirty.call(this),this._axesDirty=!1,this._selectionProcessed=!1,this._stackDirty=!1,this._dataProcessed=!1}}),Object.defineProperty(r.prototype,"_positionBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=e.get("sprite");if(t){var i=t.dataItem,a=e.get("locationX",i.get("locationX",.5)),o=e.get("locationY",i.get("locationY",.5)),u=this.get("xAxis"),l=this.get("yAxis"),s=u.getDataItemPositionX(i,this._xField,a,this.get("vcx",1)),f=l.getDataItemPositionY(i,this._yField,o,this.get("vcy",1)),h=this.getPoint(s,f),p=i.get("left",h.x),b=i.get("right",h.x),v=i.get("top",h.y),c=i.get("bottom",h.y);if(this._shouldShowBullet(s,f)){e.getPrivate("hidden")?t.setPrivate("visible",!1):t.setPrivate("visible",!0);var d=b-p,g=c-v;t.isType("Label")&&(t.set("maxWidth",Math.abs(d)),t.set("maxHeight",Math.abs(g)));var m=p+d*a,w=c-g*o;t.set("x",m),t.set("y",w)}else t.setPrivate("visible",!1)}}}),Object.defineProperty(r.prototype,"_shouldShowBullet",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this._showBullets}}),Object.defineProperty(r.prototype,"setDataSet",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this._dataSets[e]&&(this._handleDataSetChange(),this._dataItems=this._dataSets[e],this._markDataSetDirty(),this._dataSetId=e)}}),Object.defineProperty(r.prototype,"_handleDataSetChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.bullets.length>0&&y(this._dataItems,function(e){var t=e.bullets;t&&y(t,function(i){var a=i.get("sprite");a&&a.setPrivate("visible",!1)})})}}),Object.defineProperty(r.prototype,"show",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return J(this,void 0,void 0,function(){var t,i=this;return K(this,function(a){switch(a.label){case 0:return this._fixVC(),t=[],t.push(n.prototype.show.call(this,e).then(function(){i._isShowing=!1;var o=i.get("xAxis"),u=i.get("yAxis"),l=i.get("baseAxis");u!==l&&u.markDirtySelectionExtremes(),o!==l&&o.markDirtySelectionExtremes()})),t.push(this.bulletsContainer.show(e)),t.push(this._sequencedShowHide(!0,e)),[4,Promise.all(t)];case 1:return a.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hide",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return J(this,void 0,void 0,function(){var t,i=this;return K(this,function(a){switch(a.label){case 0:return this._fixVC(),t=[],t.push(n.prototype.hide.call(this,e).then(function(){i._isHiding=!1})),t.push(this.bulletsContainer.hide(e)),t.push(this._sequencedShowHide(!1,e)),[4,Promise.all(t)];case 1:return a.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a;return K(this,function(o){switch(o.label){case 0:return i=[n.prototype.showDataItem.call(this,e,t)],_(t)||(t=this.get("stateAnimationDuration",0)),a=this.get("stateAnimationEasing"),y(this._valueFields,function(u){i.push(e.animate({key:u+"Working",to:e.get(u),duration:t,easing:a}).waitForStop())}),[4,Promise.all(i)];case 1:return o.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a,o,u,l,s,f,h,p;return K(this,function(b){switch(b.label){case 0:return i=[n.prototype.hideDataItem.call(this,e,t)],a=this.states.create("hidden",{}),_(t)||(t=a.get("stateAnimationDuration",this.get("stateAnimationDuration",0))),o=a.get("stateAnimationEasing",this.get("stateAnimationEasing")),u=this.get("xAxis"),l=this.get("yAxis"),s=this.get("baseAxis"),f=this.get("stacked"),(s===u||!s)&&y(this._valueYFields,function(v){var c=l.getPrivate("min"),d=l.baseValue();_(c)&&c>d&&(d=c),f&&(d=0),i.push(e.animate({key:v+"Working",to:d,duration:t,easing:o}).waitForStop())}),(s===l||!s)&&(h=u.getPrivate("min"),p=u.baseValue(),_(h)&&h>p&&(p=h),f&&(p=0),y(this._valueXFields,function(v){i.push(e.animate({key:v+"Working",to:p,duration:t,easing:o}).waitForStop())})),[4,Promise.all(i)];case 1:return b.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_markDirtyStack",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._stackDirty=!0,this.markDirty(),this._markStakedDirtyStack()}}),Object.defineProperty(r.prototype,"_markStakedDirtyStack",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this._stackedSeries;e&&I(e,function(t,i){i._markDirtyStack()})}}),Object.defineProperty(r.prototype,"_afterChanged",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterChanged.call(this),this._skipped&&(this._markDirtyAxes(),this._skipped=!1)}}),Object.defineProperty(r.prototype,"showDataItemTooltip",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.updateLegendMarker(e),this.updateLegendValue(e),this.get("tooltip"))if(this.isHidden())this.hideTooltip();else{var t=this.get("tooltip");if(t&&(t._setDataItem(e),e)){var i=this.get("locationX",0),a=this.get("locationY",1),o=e.get("locationX",i),u=e.get("locationY",a),l=this.get("xAxis"),s=this.get("yAxis"),f=this.get("vcx",1),h=this.get("vcy",1),p=l.getDataItemPositionX(e,this._tooltipFieldX,this._aLocationX0+(this._aLocationX1-this._aLocationX0)*o,f),b=s.getDataItemPositionY(e,this._tooltipFieldY,this._aLocationY0+(this._aLocationY1-this._aLocationY0)*u,h),v=this.getPoint(p,b),c=!0;if(y(this._valueFields,function(g){e.get(g)==null&&(c=!1)}),c){var d=this.chart;d&&d.inPlot(v)?(t.label.text.markDirtyText(),t.set("tooltipTarget",this._getTooltipTarget(e)),t.set("pointTo",this._display.toGlobal({x:v.x,y:v.y}))):t._setDataItem(void 0)}else t._setDataItem(void 0)}}}}),Object.defineProperty(r.prototype,"_getTooltipTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.get("seriesTooltipTarget")=="bullet"){var t=e.bullets;if(t&&t.length>0){var i=t[0],a=i.get("sprite");if(a)return a}}return this}}),Object.defineProperty(r.prototype,"updateLegendValue",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this.get("legendDataItem");if(t){var i=t.get("label");if(i){var a="";e?(i._setDataItem(e),a=this.get("legendLabelText",i.get("text",this.get("name","")))):(i._setDataItem(this._emptyDataItem),a=this.get("legendRangeLabelText",this.get("legendLabelText",i.get("text",this.get("name",""))))),i.set("text",a)}var o=t.get("valueLabel");if(o){var a="";e?(o._setDataItem(e),a=this.get("legendValueText",o.get("text",""))):(o._setDataItem(this._emptyDataItem),a=this.get("legendRangeValueText",o.get("text",""))),o.set("text",a)}}}}),Object.defineProperty(r.prototype,"_getItemReaderLabel",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e="X: {"+this._xField;return this.get("xAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}; Y: {"+this._yField,this.get("yAxis").isType("DateAxis")&&(e+=".formatDate()"),e+="}",e}}),Object.defineProperty(r.prototype,"getPoint",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.get("xAxis").get("renderer").positionToCoordinate(e),a=this.get("yAxis").get("renderer").positionToCoordinate(t);return{x:i,y:a}}}),Object.defineProperty(r.prototype,"_shouldInclude",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return!0}}),Object.defineProperty(r.prototype,"handleCursorHide",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.hideTooltip(),this.updateLegendValue(void 0),this.updateLegendMarker(void 0)}}),Object.defineProperty(r.prototype,"_afterDataChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._afterDataChange.call(this),this.resetExtremes()}}),Object.defineProperty(r.prototype,"resetExtremes",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.setPrivate("selectionMinX",void 0),this.setPrivate("selectionMaxX",void 0),this.setPrivate("selectionMinY",void 0),this.setPrivate("selectionMaxY",void 0),this.setPrivate("minX",void 0),this.setPrivate("minY",void 0),this.setPrivate("maxX",void 0),this.setPrivate("maxY",void 0)}}),Object.defineProperty(r.prototype,"createAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){return this.axisRanges.push({axisDataItem:e})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"XYSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Or.classNames.concat([r.className])}),r}(Or),Ar=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"_ph",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e,"_pw",{enumerable:!0,configurable:!0,writable:!0,value:0}),e}return Object.defineProperty(r.prototype,"_makeGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return this.makeColumn(t,e)}}),Object.defineProperty(r.prototype,"_makeFieldNames",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._makeFieldNames.call(this);var e=this.get("xAxis"),t=this.get("yAxis"),i="CategoryAxis",a="ValueAxis";e.isType(i)&&(this.get("openCategoryXField")||(this._xOpenField=this._xField)),e.isType(a)&&(this.get("openValueXField")||(this._xOpenField=this._xField)),t.isType(i)&&(this.get("openCategoryYField")||(this._yOpenField=this._yField)),t.isType(a)&&(this.get("openValueYField")||(this._yOpenField=this._yField))}}),Object.defineProperty(r.prototype,"_prepareChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){n.prototype._prepareChildren.call(this);var e=this.get("xAxis"),t=this.get("yAxis"),i=this.dataItems.length,a=Math.max(0,this.startIndex()-2),o=Math.min(this.endIndex()+2,i-1);if(e.inited&&t.inited)for(var u=a;u<=o;u++){var l=this.dataItems[u];this._createGraphics(l)}}}),Object.defineProperty(r.prototype,"_updateChildren",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this,t=this.chart;t&&(this._ph=t.plotContainer.height(),this._pw=t.plotContainer.width());var i=this.get("xAxis"),a=this.get("yAxis"),o=this.get("baseAxis"),u=this.columns.template;this.isDirty("fill")&&u.get("fill")==null&&u.set("fill",this.get("fill")),this.isDirty("stroke")&&u.get("stroke")==null&&u.set("stroke",this.get("stroke"));var l=0,s=0,f=0;y(o.series,function(k){if(k instanceof r){var F=k.get("stacked");F&&f==0&&s++,!F&&k.get("clustered")&&s++}k===e&&(l=s-1),f++}),this.get("clustered")||(l=0,s=1),s===0&&(s=1,l=0);var h=i.get("renderer"),p=a.get("renderer"),b="cellStartLocation",v="cellEndLocation",c=h.get(b,0),d=h.get(v,1),g=p.get(b,0),m=p.get(v,1);if(this._aLocationX0=c+l/s*(d-c),this._aLocationX1=c+(l+1)/s*(d-c),this._aLocationY0=g+l/s*(m-g),this._aLocationY1=g+(l+1)/s*(m-g),i.inited&&a.inited){if(this._axesDirty||this._valuesDirty||this._stackDirty||this.isDirty("vcx")||this.isDirty("vcy")||this._sizeDirty){for(var w=this.dataItems.length,P=Math.max(0,this.startIndex()-2),j=Math.min(this.endIndex()+2,w-1),O=0;O<P;O++)this._toggleColumn(this.dataItems[O],!1);for(var D=this.dataItems[P],x=P;x<=j;x++){var S=this.dataItems[x];this._updateGraphics(S,D),D=S}for(var M=j+1;M<w;M++)this._toggleColumn(this.dataItems[M],!1)}}else this._skipped=!0;n.prototype._updateChildren.call(this)}}),Object.defineProperty(r.prototype,"_createGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=e.get("graphics");if(!i){i=this._makeGraphics(this.columns,e),e.set("graphics",i),i._setDataItem(e);var a=e.get("legendDataItem");if(a){var o=a.get("markerRectangle");o&&o.setAll({fill:i.get("fill"),stroke:i.get("stroke")})}this.axisRanges.each(function(u){var l=u.container,s=e.get("rangeGraphics",[]);e.set("rangeGraphics",s);var f=t._makeGraphics(u.columns,e);s.push(f),f.setPrivate("list",u.columns),l.children.push(f)})}}}),Object.defineProperty(r.prototype,"_updateGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this,a=e.get("graphics"),o=this._xField,u=this._yField,l=e.get(o),s=e.get(u);if(l!=null&&s!=null){var f=this._xOpenField,h=this._yOpenField,p=this.get("locationX",e.get("locationX",.5)),b=this.get("locationY",e.get("locationY",.5)),v=this.get("openLocationX",e.get("openLocationX",p)),c=this.get("openLocationY",e.get("openLocationY",b)),d=a.get("width"),g=a.get("height"),m=this.get("stacked"),w=this.get("xAxis"),P=this.get("yAxis"),j=this.get("baseAxis"),O=w.get("start"),D=w.get("end"),x=P.get("start"),S=P.get("end"),M,k,F,H,$=this.get("vcy",1),oe=this.get("vcx",1),pe=!1,le=!1;if(P.isType("CategoryAxis")&&w.isType("CategoryAxis")){var B=this._aLocationX0+v-.5,G=this._aLocationX1+p-.5;if(d instanceof L){var Y=(G-B)*(1-d.value)/2;B+=Y,G-=Y}if(M=w.getDataItemPositionX(e,f,B,oe),k=w.getDataItemPositionX(e,o,G,oe),B=this._aLocationY0+c-.5,G=this._aLocationY1+b-.5,g instanceof L){var Y=(G-B)*(1-g.value)/2;B+=Y,G-=Y}F=P.getDataItemPositionY(e,h,B,$),H=P.getDataItemPositionY(e,u,G,$),e.setRaw("point",{x:M+(k-M)/2,y:F+(H-F)/2})}else if(w===j){var B=this._aLocationX0+v-.5,G=this._aLocationX1+p-.5;if(d instanceof L){var Y=(G-B)*(1-d.value)/2;B+=Y,G-=Y}if(M=w.getDataItemPositionX(e,f,B,oe),k=w.getDataItemPositionX(e,o,G,oe),F=P.getDataItemPositionY(e,u,b,$),this._yOpenField!==this._yField)H=P.getDataItemPositionY(e,h,c,$);else if(m){var we=e.get("stackToItemY");we?H=P.getDataItemPositionY(we,u,c,we.component.get("vcy")):H=P.basePosition()}else H=P.basePosition();e.setRaw("point",{x:M+(k-M)/2,y:F}),le=!0}else if(P===j){var B=this._aLocationY0+c-.5,G=this._aLocationY1+b-.5;if(g instanceof L){var Y=(G-B)*(1-g.value)/2;B+=Y,G-=Y}if(F=P.getDataItemPositionY(e,h,B,$),H=P.getDataItemPositionY(e,u,G,$),k=w.getDataItemPositionX(e,o,p,oe),this._xOpenField!==this._xField)M=w.getDataItemPositionX(e,f,v,oe);else if(m){var he=e.get("stackToItemX");he?M=w.getDataItemPositionX(he,o,v,he.component.get("vcx")):M=w.basePosition()}else M=w.basePosition();pe=!0,e.setRaw("point",{x:k,y:F+(H-F)/2})}this._updateSeriesGraphics(e,a,M,k,F,H,pe,le),M<O&&k<O||M>D&&k>D||F<x&&H<x||F>S&&H>S?this._toggleColumn(e,!1):this._toggleColumn(e,!0);var Fe=e.get("rangeGraphics");Fe&&y(Fe,function(ie){i._updateSeriesGraphics(e,ie,M,k,F,H,pe,le)}),this._applyGraphicsStates(e,t)}}}),Object.defineProperty(r.prototype,"_updateSeriesGraphics",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,i,a,o,u,l,s){var f=t.get("width"),h=t.get("height"),p=t.get("maxWidth"),b=t.get("maxHeight"),v=this.getPoint(i,o),c=this.getPoint(a,u),d=e.get("point");if(d){var g=this.getPoint(d.x,d.y);d.x=g.x+this._x,d.y=g.y+this._y}if(i=v.x,a=c.x,o=v.y,u=c.y,_(f)){var m=(a-i-f)/2;i+=m,a-=m}if(_(p)&&p<Math.abs(a-i)){var m=(a-i-p)/2;i+=m,a-=m}if(_(h)){var m=(u-o-h)/2;o+=m,u-=m}if(_(b)&&b<Math.abs(u-o)){var m=(u-o-b)/2;o+=m,u-=m}this.get("adjustBulletPosition")&&(l&&(a=Math.min(Math.max(0,a),this._pw),i=Math.min(Math.max(0,i),this._pw)),s&&(o=Math.min(Math.max(0,o),this._ph),u=Math.min(Math.max(0,u),this._ph))),e.setRaw("left",i),e.setRaw("right",a),e.setRaw("top",o),e.setRaw("bottom",u),t.setPrivate("width",a-i),t.setPrivate("height",u-o),t.set("x",i),t.set("y",u-(u-o))}}),Object.defineProperty(r.prototype,"_handleDataSetChange",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;n.prototype._handleDataSetChange.call(this),y(this._dataItems,function(t){e._toggleColumn(t,!1)})}}),Object.defineProperty(r.prototype,"_applyGraphicsStates",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("graphics"),a=i.states.lookup("dropFromOpen"),o=i.states.lookup("riseFromOpen"),u=i.states.lookup("dropFromPrevious"),l=i.states.lookup("riseFromPrevious");if(a||u||o||l){var s=this.get("xAxis"),f=this.get("yAxis"),h=this.get("baseAxis"),p,b,v=void 0;h===s&&f.isType("ValueAxis")?(p=e.get(this._yOpenField),b=e.get(this._yField),v=t.get(this._yField)):h===f&&s.isType("ValueAxis")&&(p=e.get(this._xOpenField),b=e.get(this._xField),v=t.get(this._xField)),_(p)&&_(b)&&(b<p?a&&a.apply():o&&o.apply(),_(v)&&(b<v?u&&u.apply():l&&l.apply()))}}}),Object.defineProperty(r.prototype,"disposeDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e){n.prototype.disposeDataItem.call(this,e);var t=e.get("graphics");t&&(this.columns.removeValue(t),t.dispose());var i=e.get("rangeGraphics");i&&y(i,function(a){var o=a.getPrivate("list");o&&o.removeValue(a),a.dispose()})}}),Object.defineProperty(r.prototype,"hideDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a,o;return K(this,function(u){switch(u.label){case 0:return i=[n.prototype.hideDataItem.call(this,e,t)],a=e.get("graphics"),a&&i.push(a.hide(t)),o=e.get("rangeGraphics"),o&&y(o,function(l){i.push(l.hide(t))}),[4,Promise.all(i)];case 1:return u.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"_toggleColumn",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=e.get("graphics");i&&i.setPrivate("visible",t);var a=e.get("rangeGraphics");a&&y(a,function(u){u.setPrivate("visible",t)});var o=e.bullets;o&&y(o,function(u){u.setPrivate("hidden",!t)})}}),Object.defineProperty(r.prototype,"showDataItem",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){return J(this,void 0,void 0,function(){var i,a,o;return K(this,function(u){switch(u.label){case 0:return i=[n.prototype.showDataItem.call(this,e,t)],a=e.get("graphics"),a&&i.push(a.show(t)),o=e.get("rangeGraphics"),o&&y(o,function(l){i.push(l.show(t))}),[4,Promise.all(i)];case 1:return u.sent(),[2]}})})}}),Object.defineProperty(r.prototype,"updateLegendMarker",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this,i=this.get("legendDataItem");if(i){var a=this.columns.template;if(e){var o=e.get("graphics");o&&(a=o)}var u=i.get("markerRectangle");u&&(i.get("itemContainer").get("disabled")||y(Di,function(l){u.set(l,a.get(l,t.get(l)))}))}}}),Object.defineProperty(r.prototype,"_getTooltipTarget",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.get("seriesTooltipTarget")=="bullet")return n.prototype._getTooltipTarget.call(this,e);var t=e.get("graphics");return t||this}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"BaseColumnSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Sr.classNames.concat([r.className])}),r}(Sr),Ra=function(n){T(r,n);function r(){var e=n!==null&&n.apply(this,arguments)||this;return Object.defineProperty(e,"columns",{enumerable:!0,configurable:!0,writable:!0,value:new Ee(me.new({}),function(){return Ht._new(e._root,{position:"absolute",themeTags:W(e.columns.template.get("themeTags",[]),["series","column"])},[e.columns.template])})}),e}return Object.defineProperty(r.prototype,"makeColumn",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){var i=this.mainContainer.children.push(t.make());return i._setDataItem(e),t.push(i),i}}),Object.defineProperty(r.prototype,"_processAxisRange",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var t=this;n.prototype._processAxisRange.call(this,e),e.columns=new Ee(me.new({}),function(){return Ht._new(t._root,{position:"absolute",themeTags:W(e.columns.template.get("themeTags",[]),["series","column"])},[t.columns.template,e.columns.template])})}}),Object.defineProperty(r,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColumnSeries"}),Object.defineProperty(r,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Ar.classNames.concat([r.className])}),r}(Ar);export{Ea as A,Ca as B,Aa as C,lt as L,Ta as R,vr as T,Ma as V,Sa as X,ka as a,Ra as b,E as c,N as d,C as e,y as f,Ge as g,cr as l,it as o,Da as p};
